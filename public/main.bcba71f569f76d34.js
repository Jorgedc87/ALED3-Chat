"use strict";var _2=Object.defineProperty,y2=Object.defineProperties,v2=Object.getOwnPropertyDescriptors,qO=Object.getOwnPropertySymbols,b2=Object.prototype.hasOwnProperty,E2=Object.prototype.propertyIsEnumerable,WO=(tt,be,P)=>be in tt?_2(tt,be,{enumerable:!0,configurable:!0,writable:!0,value:P}):tt[be]=P,ZO=(tt,be)=>{for(var P in be||(be={}))b2.call(be,P)&&WO(tt,P,be[P]);if(qO)for(var P of qO(be))E2.call(be,P)&&WO(tt,P,be[P]);return tt},KO=(tt,be)=>y2(tt,v2(be));(self.webpackChunkALED3_Chat=self.webpackChunkALED3_Chat||[]).push([[179],{2011:(tt,be,P)=>{P.d(be,{Dh:()=>ue,GT:()=>me,cc:()=>Me,hO:()=>Be,on:()=>G,pX:()=>oe,xv:()=>pe});var d=P(5e3),J=P(127),N=P(5813);tt=P.hmd(tt);const ce=["ngOnDestroy"],oe=(De,Ze,Xe,ke={})=>new Proxy(De,{get:(ye,Ie)=>Xe.runOutsideAngular(()=>{var Ue;if(De[Ie])return(null===(Ue=null==ke?void 0:ke.spy)||void 0===Ue?void 0:Ue.get)&&ke.spy.get(Ie,De[Ie]),De[Ie];if(ce.indexOf(Ie)>-1)return()=>{};const He=Ze.toPromise().then(q=>{const Ee=q&&q[Ie];return"function"==typeof Ee?Ee.bind(q):Ee&&Ee.then?Ee.then(K=>Xe.run(()=>K)):Xe.run(()=>Ee)});return new Proxy(()=>{},{get:(q,Ee)=>He[Ee],apply:(q,Ee,K)=>He.then(ne=>{var ee;const _e=ne&&ne(...K);return(null===(ee=null==ke?void 0:ke.spy)||void 0===ee?void 0:ee.apply)&&ke.spy.apply(Ie,K,_e),_e})})})}),me=(De,Ze)=>{Ze.forEach(Xe=>{Object.getOwnPropertyNames(Xe.prototype||Xe).forEach(ke=>{Object.defineProperty(De.prototype,ke,Object.getOwnPropertyDescriptor(Xe.prototype||Xe,ke))})})};class se{constructor(Ze){return Ze}}const ue=new d.OlP("angularfire2.app.options"),pe=new d.OlP("angularfire2.app.name");function G(De,Ze,Xe){const ye="object"==typeof Xe&&Xe||{};ye.name=ye.name||"string"==typeof Xe&&Xe||"[DEFAULT]";const Ue=J.Z.apps.filter(He=>He&&He.name===ye.name)[0]||Ze.runOutsideAngular(()=>J.Z.initializeApp(De,ye));try{JSON.stringify(De)!==JSON.stringify(Ue.options)&&H("error",`${Ue.name} Firebase App already initialized with different options${tt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(He){}return new se(Ue)}const H=(De,...Ze)=>{(0,d.X6Q)()&&"undefined"!=typeof console&&console[De](...Ze)},te={provide:se,useFactory:G,deps:[ue,d.R0b,[new d.FiY,pe]]};let Be=(()=>{class De{constructor(Xe){J.Z.registerVersion("angularfire",N.q4.full,"core"),J.Z.registerVersion("angularfire",N.q4.full,"app-compat"),J.Z.registerVersion("angular",d.q4F.full,Xe.toString())}static initializeApp(Xe,ke){return{ngModule:De,providers:[{provide:ue,useValue:Xe},{provide:pe,useValue:ke}]}}}return De.\u0275fac=function(Xe){return new(Xe||De)(d.LFG(d.Lbi))},De.\u0275mod=d.oAB({type:De}),De.\u0275inj=d.cJS({providers:[te]}),De})();function Me(De,Ze,Xe,ke,ye){const[,Ie,Ue]=globalThis.\u0275AngularfireInstanceCache.find(He=>He[0]===De)||[];if(Ie)return function Ne(De,Ze){try{return De.toString()===Ze.toString()}catch(Xe){return De===Ze}}(ye,Ue)||(ge("error",`${Ze} was already initialized on the ${Xe} Firebase App with different settings.${je?" You may need to reload as Firebase is not HMR aware.":""}`),ge("warn",{is:ye,was:Ue})),Ie;{const He=ke();return globalThis.\u0275AngularfireInstanceCache.push([De,He,ye]),He}}const je=!!tt.hot,ge=(De,...Ze)=>{(0,d.X6Q)()&&"undefined"!=typeof console&&console[De](...Ze)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(tt,be,P)=>{P.d(be,{q4:()=>zt,iC:()=>zl,HU:()=>Lg,vb:()=>Ad,JM:()=>$l});var d=P(5e3),J=P(5867),N=P(5861),ce=P(9681),oe=P(2090),me=P(4859),se=P(1877),ue=P(8766);const pe="@firebase/installations",G="0.5.15",te=`w:${G}`,Be="FIS_v2",Ze=new oe.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Xe(C){return C instanceof oe.ZR&&C.code.includes("request-failed")}function ke({projectId:C}){return`https://firebaseinstallations.googleapis.com/v1/projects/${C}/installations`}function ye(C){return{token:C.token,requestStatus:2,expiresIn:ne(C.expiresIn),creationTime:Date.now()}}function Ie(C,T){return Ue.apply(this,arguments)}function Ue(){return(Ue=(0,N.Z)(function*(C,T){const V=(yield T.json()).error;return Ze.create("request-failed",{requestName:C,serverCode:V.code,serverMessage:V.message,serverStatus:V.status})})).apply(this,arguments)}function He({apiKey:C}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C})}function q(C,{refreshToken:T}){const R=He(C);return R.append("Authorization",function ee(C){return`${Be} ${C}`}(T)),R}function Ee(C){return K.apply(this,arguments)}function K(){return(K=(0,N.Z)(function*(C){const T=yield C();return T.status>=500&&T.status<600?C():T})).apply(this,arguments)}function ne(C){return Number(C.replace("s","000"))}function _e(C,T){return de.apply(this,arguments)}function de(){return(de=(0,N.Z)(function*({appConfig:C,heartbeatServiceProvider:T},{fid:R}){const V=ke(C),Q=He(C),ie=T.getImmediate({optional:!0});if(ie){const It=yield ie.getHeartbeatsHeader();It&&Q.append("x-firebase-client",It)}const Ge={method:"POST",headers:Q,body:JSON.stringify({fid:R,authVersion:Be,appId:C.appId,sdkVersion:te})},ut=yield Ee(()=>fetch(V,Ge));if(ut.ok){const It=yield ut.json();return{fid:It.fid||R,registrationStatus:2,refreshToken:It.refreshToken,authToken:ye(It.authToken)}}throw yield Ie("Create Installation",ut)})).apply(this,arguments)}function Fe(C){return new Promise(T=>{setTimeout(T,C)})}const Jt=/^[cdef][\w-]{21}$/;function Je(){try{const C=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(C),C[0]=112+C[0]%16;const R=function sn(C){return function gt(C){return btoa(String.fromCharCode(...C)).replace(/\+/g,"-").replace(/\//g,"_")}(C).substr(0,22)}(C);return Jt.test(R)?R:""}catch(C){return""}}function bn(C){return`${C.appName}!${C.appId}`}const dn=new Map;function tn(C,T){const R=bn(C);Wt(R,T),function si(C,T){const R=function Pr(){return!qi&&"BroadcastChannel"in self&&(qi=new BroadcastChannel("[Firebase] FID Change"),qi.onmessage=C=>{Wt(C.data.key,C.data.fid)}),qi}();R&&R.postMessage({key:C,fid:T}),function oi(){0===dn.size&&qi&&(qi.close(),qi=null)}()}(R,T)}function Wt(C,T){const R=dn.get(C);if(R)for(const V of R)V(T)}let qi=null;const gi="firebase-installations-store";let xi=null;function wt(){return xi||(xi=(0,ue.X3)("firebase-installations-database",1,{upgrade:(C,T)=>{0===T&&C.createObjectStore(gi)}})),xi}function Nr(C,T){return Mn.apply(this,arguments)}function Mn(){return(Mn=(0,N.Z)(function*(C,T){const R=bn(C),Q=(yield wt()).transaction(gi,"readwrite"),ie=Q.objectStore(gi),Ae=yield ie.get(R);return yield ie.put(T,R),yield Q.done,(!Ae||Ae.fid!==T.fid)&&tn(C,T.fid),T})).apply(this,arguments)}function lr(C){return Hs.apply(this,arguments)}function Hs(){return(Hs=(0,N.Z)(function*(C){const T=bn(C),V=(yield wt()).transaction(gi,"readwrite");yield V.objectStore(gi).delete(T),yield V.done})).apply(this,arguments)}function Wi(C,T){return tr.apply(this,arguments)}function tr(){return(tr=(0,N.Z)(function*(C,T){const R=bn(C),Q=(yield wt()).transaction(gi,"readwrite"),ie=Q.objectStore(gi),Ae=yield ie.get(R),Ge=T(Ae);return void 0===Ge?yield ie.delete(R):yield ie.put(Ge,R),yield Q.done,Ge&&(!Ae||Ae.fid!==Ge.fid)&&tn(C,Ge.fid),Ge})).apply(this,arguments)}function $n(C){return mi.apply(this,arguments)}function mi(){return(mi=(0,N.Z)(function*(C){let T;const R=yield Wi(C.appConfig,V=>{const Q=fo(V),ie=Xt(C,Q);return T=ie.registrationPromise,ie.installationEntry});return""===R.fid?{installationEntry:yield T}:{installationEntry:R,registrationPromise:T}})).apply(this,arguments)}function fo(C){return po(C||{fid:Je(),registrationStatus:0})}function Xt(C,T){if(0===T.registrationStatus){if(!navigator.onLine)return{installationEntry:T,registrationPromise:Promise.reject(Ze.create("app-offline"))};const R={fid:T.fid,registrationStatus:1,registrationTime:Date.now()},V=function ct(C,T){return bt.apply(this,arguments)}(C,R);return{installationEntry:R,registrationPromise:V}}return 1===T.registrationStatus?{installationEntry:T,registrationPromise:Fr(C)}:{installationEntry:T}}function bt(){return(bt=(0,N.Z)(function*(C,T){try{const R=yield _e(C,T);return Nr(C.appConfig,R)}catch(R){throw Xe(R)&&409===R.customData.serverCode?yield lr(C.appConfig):yield Nr(C.appConfig,{fid:T.fid,registrationStatus:0}),R}})).apply(this,arguments)}function Fr(C){return Lr.apply(this,arguments)}function Lr(){return(Lr=(0,N.Z)(function*(C){let T=yield Zt(C.appConfig);for(;1===T.registrationStatus;)yield Fe(100),T=yield Zt(C.appConfig);if(0===T.registrationStatus){const{installationEntry:R,registrationPromise:V}=yield $n(C);return V||R}return T})).apply(this,arguments)}function Zt(C){return Wi(C,T=>{if(!T)throw Ze.create("installation-not-found");return po(T)})}function po(C){return function Vr(C){return 1===C.registrationStatus&&C.registrationTime+1e4<Date.now()}(C)?{fid:C.fid,registrationStatus:0}:C}function Br(C,T){return _t.apply(this,arguments)}function _t(){return(_t=(0,N.Z)(function*({appConfig:C,heartbeatServiceProvider:T},R){const V=go(C,R),Q=q(C,R),ie=T.getImmediate({optional:!0});if(ie){const It=yield ie.getHeartbeatsHeader();It&&Q.append("x-firebase-client",It)}const Ge={method:"POST",headers:Q,body:JSON.stringify({installation:{sdkVersion:te,appId:C.appId}})},ut=yield Ee(()=>fetch(V,Ge));if(ut.ok)return ye(yield ut.json());throw yield Ie("Generate Auth Token",ut)})).apply(this,arguments)}function go(C,{fid:T}){return`${ke(C)}/${T}/authTokens:generate`}function $t(C){return ms.apply(this,arguments)}function ms(){return(ms=(0,N.Z)(function*(C,T=!1){let R;const V=yield Wi(C.appConfig,ie=>{if(!Gt(ie))throw Ze.create("not-registered");const Ae=ie.authToken;if(!T&&$(Ae))return ie;if(1===Ae.requestStatus)return R=et(C,T),ie;{if(!navigator.onLine)throw Ze.create("app-offline");const Ge=Y(ie);return R=kt(C,Ge),Ge}});return R?yield R:V.authToken})).apply(this,arguments)}function et(C,T){return Se.apply(this,arguments)}function Se(){return(Se=(0,N.Z)(function*(C,T){let R=yield Ke(C.appConfig);for(;1===R.authToken.requestStatus;)yield Fe(100),R=yield Ke(C.appConfig);const V=R.authToken;return 0===V.requestStatus?$t(C,T):V})).apply(this,arguments)}function Ke(C){return Wi(C,T=>{if(!Gt(T))throw Ze.create("not-registered");return function we(C){return 1===C.requestStatus&&C.requestTime+1e4<Date.now()}(T.authToken)?Object.assign(Object.assign({},T),{authToken:{requestStatus:0}}):T})}function kt(C,T){return Ct.apply(this,arguments)}function Ct(){return(Ct=(0,N.Z)(function*(C,T){try{const R=yield Br(C,T),V=Object.assign(Object.assign({},T),{authToken:R});return yield Nr(C.appConfig,V),R}catch(R){if(!Xe(R)||401!==R.customData.serverCode&&404!==R.customData.serverCode){const V=Object.assign(Object.assign({},T),{authToken:{requestStatus:0}});yield Nr(C.appConfig,V)}else yield lr(C.appConfig);throw R}})).apply(this,arguments)}function Gt(C){return void 0!==C&&2===C.registrationStatus}function $(C){return 2===C.requestStatus&&!function U(C){const T=Date.now();return T<C.creationTime||C.creationTime+C.expiresIn<T+36e5}(C)}function Y(C){const T={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},C),{authToken:T})}function nt(){return(nt=(0,N.Z)(function*(C){const T=C,{installationEntry:R,registrationPromise:V}=yield $n(T);return V?V.catch(console.error):$t(T).catch(console.error),R.fid})).apply(this,arguments)}function fn(){return(fn=(0,N.Z)(function*(C,T=!1){const R=C;return yield nn(R),(yield $t(R,T)).token})).apply(this,arguments)}function nn(C){return hn.apply(this,arguments)}function hn(){return(hn=(0,N.Z)(function*(C){const{registrationPromise:T}=yield $n(C);T&&(yield T)})).apply(this,arguments)}function ea(C){return Ze.create("missing-app-config-values",{valueName:C})}const ai="installations",ft=C=>{const T=C.getProvider("app").getImmediate(),R=function gr(C){if(!C||!C.options)throw ea("App Configuration");if(!C.name)throw ea("App Name");const T=["projectId","apiKey","appId"];for(const R of T)if(!C.options[R])throw ea(R);return{appName:C.name,projectId:C.options.projectId,apiKey:C.options.apiKey,appId:C.options.appId}}(T);return{app:T,appConfig:R,heartbeatServiceProvider:(0,ce._getProvider)(T,"heartbeat"),_delete:()=>Promise.resolve()}},pn=C=>{const T=C.getProvider("app").getImmediate(),R=(0,ce._getProvider)(T,ai).getImmediate();return{getId:()=>function re(C){return nt.apply(this,arguments)}(R),getToken:Q=>function Nt(C){return fn.apply(this,arguments)}(R,Q)}};(function Ur(){(0,ce._registerComponent)(new me.wA(ai,ft,"PUBLIC")),(0,ce._registerComponent)(new me.wA("installations-internal",pn,"PRIVATE"))})(),(0,ce.registerVersion)(pe,G),(0,ce.registerVersion)(pe,G,"esm2017");const Zi="@firebase/remote-config",Ln=new oe.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Tg{constructor(T,R,V,Q){this.client=T,this.storage=R,this.storageCache=V,this.logger=Q}isCachedDataFresh(T,R){if(!R)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const V=Date.now()-R,Q=V<=T;return this.logger.debug(`Config fetch cache check. Cache age millis: ${V}. Cache max age millis (minimumFetchIntervalMillis setting): ${T}. Is cache hit: ${Q}.`),Q}fetch(T){var R=this;return(0,N.Z)(function*(){const[V,Q]=yield Promise.all([R.storage.getLastSuccessfulFetchTimestampMillis(),R.storage.getLastSuccessfulFetchResponse()]);if(Q&&R.isCachedDataFresh(T.cacheMaxAgeMillis,V))return Q;T.eTag=Q&&Q.eTag;const ie=yield R.client.fetch(T),Ae=[R.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ie.status&&Ae.push(R.storage.setLastSuccessfulFetchResponse(ie)),yield Promise.all(Ae),ie})()}}function ed(C=navigator){return C.languages&&C.languages[0]||C.language}class Cr{constructor(T,R,V,Q,ie,Ae){this.firebaseInstallations=T,this.sdkVersion=R,this.namespace=V,this.projectId=Q,this.apiKey=ie,this.appId=Ae}fetch(T){var R=this;return(0,N.Z)(function*(){var V,Q,ie;const[Ae,Ge]=yield Promise.all([R.firebaseInstallations.getId(),R.firebaseInstallations.getToken()]),It=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${R.projectId}/namespaces/${R.namespace}:fetch?key=${R.apiKey}`,Ot={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":T.eTag||"*"},at={sdk_version:R.sdkVersion,app_instance_id:Ae,app_instance_id_token:Ge,app_id:R.appId,language_code:ed()},Wn={method:"POST",headers:Ot,body:JSON.stringify(at)},Zn=fetch(It,Wn),io=new Promise((ls,Ui)=>{T.signal.addEventListener(()=>{const ba=new Error("The operation was aborted.");ba.name="AbortError",Ui(ba)})});let so;try{yield Promise.race([Zn,io]),so=yield Zn}catch(ls){let Ui="fetch-client-network";throw"AbortError"===(null===(V=ls)||void 0===V?void 0:V.name)&&(Ui="fetch-timeout"),Ln.create(Ui,{originalErrorMessage:null===(Q=ls)||void 0===Q?void 0:Q.message})}let as=so.status;const Zl=so.headers.get("ETag")||void 0;let nl,Oo;if(200===so.status){let ls;try{ls=yield so.json()}catch(Ui){throw Ln.create("fetch-client-parse",{originalErrorMessage:null===(ie=Ui)||void 0===ie?void 0:ie.message})}nl=ls.entries,Oo=ls.state}if("INSTANCE_STATE_UNSPECIFIED"===Oo?as=500:"NO_CHANGE"===Oo?as=304:("NO_TEMPLATE"===Oo||"EMPTY_CONFIG"===Oo)&&(nl={}),304!==as&&200!==as)throw Ln.create("fetch-status",{httpStatus:as});return{status:as,eTag:Zl,config:nl}})()}}class Sg{constructor(T,R){this.client=T,this.storage=R}fetch(T){var R=this;return(0,N.Z)(function*(){const V=(yield R.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return R.attemptFetch(T,V)})()}attemptFetch(T,{throttleEndTimeMillis:R,backoffCount:V}){var Q=this;return(0,N.Z)(function*(){yield function qs(C,T){return new Promise((R,V)=>{const Q=Math.max(T-Date.now(),0),ie=setTimeout(R,Q);C.addEventListener(()=>{clearTimeout(ie),V(Ln.create("fetch-throttle",{throttleEndTimeMillis:T}))})})}(T.signal,R);try{const ie=yield Q.client.fetch(T);return yield Q.storage.deleteThrottleMetadata(),ie}catch(ie){if(!function td(C){if(!(C instanceof oe.ZR&&C.customData))return!1;const T=Number(C.customData.httpStatus);return 429===T||500===T||503===T||504===T}(ie))throw ie;const Ae={throttleEndTimeMillis:Date.now()+(0,oe.$s)(V),backoffCount:V+1};return yield Q.storage.setThrottleMetadata(Ae),Q.attemptFetch(T,Ae)}})()}}class nd{constructor(T,R,V,Q,ie){this.app=T,this._client=R,this._storageCache=V,this._storage=Q,this._logger=ie,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Fc(C,T){var R;const V=C.target.error||void 0;return Ln.create(T,{originalErrorMessage:V&&(null===(R=V)||void 0===R?void 0:R.message)})}const Ws="app_namespace_store";class xg{constructor(T,R,V,Q=function gf(){return new Promise((C,T)=>{var R;try{const V=indexedDB.open("firebase_remote_config",1);V.onerror=Q=>{T(Fc(Q,"storage-open"))},V.onsuccess=Q=>{C(Q.target.result)},V.onupgradeneeded=Q=>{0===Q.oldVersion&&Q.target.result.createObjectStore(Ws,{keyPath:"compositeKey"})}}catch(V){T(Ln.create("storage-open",{originalErrorMessage:null===(R=V)||void 0===R?void 0:R.message}))}})}()){this.appId=T,this.appName=R,this.namespace=V,this.openDbPromise=Q}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(T){return this.set("last_fetch_status",T)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(T){return this.set("last_successful_fetch_timestamp_millis",T)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(T){return this.set("last_successful_fetch_response",T)}getActiveConfig(){return this.get("active_config")}setActiveConfig(T){return this.set("active_config",T)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(T){return this.set("active_config_etag",T)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(T){return this.set("throttle_metadata",T)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(T){var R=this;return(0,N.Z)(function*(){const V=yield R.openDbPromise;return new Promise((Q,ie)=>{var Ae;const ut=V.transaction([Ws],"readonly").objectStore(Ws),It=R.createCompositeKey(T);try{const Ot=ut.get(It);Ot.onerror=at=>{ie(Fc(at,"storage-get"))},Ot.onsuccess=at=>{const Wn=at.target.result;Q(Wn?Wn.value:void 0)}}catch(Ot){ie(Ln.create("storage-get",{originalErrorMessage:null===(Ae=Ot)||void 0===Ae?void 0:Ae.message}))}})})()}set(T,R){var V=this;return(0,N.Z)(function*(){const Q=yield V.openDbPromise;return new Promise((ie,Ae)=>{var Ge;const It=Q.transaction([Ws],"readwrite").objectStore(Ws),Ot=V.createCompositeKey(T);try{const at=It.put({compositeKey:Ot,value:R});at.onerror=Wn=>{Ae(Fc(Wn,"storage-set"))},at.onsuccess=()=>{ie()}}catch(at){Ae(Ln.create("storage-set",{originalErrorMessage:null===(Ge=at)||void 0===Ge?void 0:Ge.message}))}})})()}delete(T){var R=this;return(0,N.Z)(function*(){const V=yield R.openDbPromise;return new Promise((Q,ie)=>{var Ae;const ut=V.transaction([Ws],"readwrite").objectStore(Ws),It=R.createCompositeKey(T);try{const Ot=ut.delete(It);Ot.onerror=at=>{ie(Fc(at,"storage-delete"))},Ot.onsuccess=()=>{Q()}}catch(Ot){ie(Ln.create("storage-delete",{originalErrorMessage:null===(Ae=Ot)||void 0===Ae?void 0:Ae.message}))}})})()}createCompositeKey(T){return[this.appId,this.appName,this.namespace,T].join()}}class id{constructor(T){this.storage=T}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var T=this;return(0,N.Z)(function*(){const R=T.storage.getLastFetchStatus(),V=T.storage.getLastSuccessfulFetchTimestampMillis(),Q=T.storage.getActiveConfig(),ie=yield R;ie&&(T.lastFetchStatus=ie);const Ae=yield V;Ae&&(T.lastSuccessfulFetchTimestampMillis=Ae);const Ge=yield Q;Ge&&(T.activeConfig=Ge)})()}setLastFetchStatus(T){return this.lastFetchStatus=T,this.storage.setLastFetchStatus(T)}setLastSuccessfulFetchTimestampMillis(T){return this.lastSuccessfulFetchTimestampMillis=T,this.storage.setLastSuccessfulFetchTimestampMillis(T)}setActiveConfig(T){return this.activeConfig=T,this.storage.setActiveConfig(T)}}function Sl(){return sd.apply(this,arguments)}function sd(){return(sd=(0,N.Z)(function*(){if(!(0,oe.hl)())return!1;try{return yield(0,oe.eu)()}catch(C){return!1}})).apply(this,arguments)}!function na(){(0,ce._registerComponent)(new me.wA("remote-config",function C(T,{instanceIdentifier:R}){const V=T.getProvider("app").getImmediate(),Q=T.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw Ln.create("registration-window");if(!(0,oe.hl)())throw Ln.create("indexed-db-unavailable");const{projectId:ie,apiKey:Ae,appId:Ge}=V.options;if(!ie)throw Ln.create("registration-project-id");if(!Ae)throw Ln.create("registration-api-key");if(!Ge)throw Ln.create("registration-app-id");const ut=new xg(Ge,V.name,R=R||"firebase"),It=new id(ut),Ot=new se.Yd(Zi);Ot.logLevel=se.in.ERROR;const at=new Cr(Q,ce.SDK_VERSION,R,ie,Ae,Ge),Wn=new Sg(at,ut),Zn=new Tg(Wn,ut,It,Ot),io=new nd(V,Zn,It,ut,Ot);return function yn(C){const T=(0,oe.m9)(C);T._initializePromise||(T._initializePromise=T._storageCache.loadFromStorage().then(()=>{T._isInitializationComplete=!0}))}(io),io},"PUBLIC").setMultipleInstances(!0)),(0,ce.registerVersion)(Zi,"0.3.14"),(0,ce.registerVersion)(Zi,"0.3.14","esm2017")}();const od="/firebase-messaging-sw.js",Dr="/firebase-cloud-messaging-push-scope",yo="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",ra="google.c.a.c_id",ad="google.c.a.c_l",_f="google.c.a.ts",ci="google.c.a.e";var ia=(()=>{return(C=ia||(ia={})).PUSH_RECEIVED="push-received",C.NOTIFICATION_CLICKED="notification-clicked",ia;var C})();function jr(C){const T=new Uint8Array(C);return btoa(String.fromCharCode(...T)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function ld(C){const R=(C+"=".repeat((4-C.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),V=atob(R),Q=new Uint8Array(V.length);for(let ie=0;ie<V.length;++ie)Q[ie]=V.charCodeAt(ie);return Q}const Ir="fcm_token_details_db",_i="fcm_token_object_Store";function Lc(C){return cd.apply(this,arguments)}function cd(){return cd=(0,N.Z)(function*(C){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ie=>ie.name).includes(Ir))return null;let T=null;return(yield(0,ue.X3)(Ir,5,{upgrade:(V=(0,N.Z)(function*(Q,ie,Ae,Ge){var ut;if(ie<2||!Q.objectStoreNames.contains(_i))return;const It=Ge.objectStore(_i),Ot=yield It.index("fcmSenderId").get(C);if(yield It.clear(),Ot)if(2===ie){const at=Ot;if(!at.auth||!at.p256dh||!at.endpoint)return;T={token:at.fcmToken,createTime:null!==(ut=at.createTime)&&void 0!==ut?ut:Date.now(),subscriptionOptions:{auth:at.auth,p256dh:at.p256dh,endpoint:at.endpoint,swScope:at.swScope,vapidKey:"string"==typeof at.vapidKey?at.vapidKey:jr(at.vapidKey)}}}else if(3===ie){const at=Ot;T={token:at.fcmToken,createTime:at.createTime,subscriptionOptions:{auth:jr(at.auth),p256dh:jr(at.p256dh),endpoint:at.endpoint,swScope:at.swScope,vapidKey:jr(at.vapidKey)}}}else if(4===ie){const at=Ot;T={token:at.fcmToken,createTime:at.createTime,subscriptionOptions:{auth:jr(at.auth),p256dh:jr(at.p256dh),endpoint:at.endpoint,swScope:at.swScope,vapidKey:jr(at.vapidKey)}}}}),function(ie,Ae,Ge,ut){return V.apply(this,arguments)})})).close(),yield(0,ue.Lj)(Ir),yield(0,ue.Lj)("fcm_vapid_details_db"),yield(0,ue.Lj)("undefined"),Vc(T)?T:null;var V}),cd.apply(this,arguments)}function Vc(C){if(!C||!C.subscriptionOptions)return!1;const{subscriptionOptions:T}=C;return"number"==typeof C.createTime&&C.createTime>0&&"string"==typeof C.token&&C.token.length>0&&"string"==typeof T.auth&&T.auth.length>0&&"string"==typeof T.p256dh&&T.p256dh.length>0&&"string"==typeof T.endpoint&&T.endpoint.length>0&&"string"==typeof T.swScope&&T.swScope.length>0&&"string"==typeof T.vapidKey&&T.vapidKey.length>0}const es="firebase-messaging-store";let yf=null;function gn(){return yf||(yf=(0,ue.X3)("firebase-messaging-database",1,{upgrade:(C,T)=>{0===T&&C.createObjectStore(es)}})),yf}function Ha(C){return bo.apply(this,arguments)}function bo(){return(bo=(0,N.Z)(function*(C){const T=mr(C),V=yield(yield gn()).transaction(es).objectStore(es).get(T);if(V)return V;{const Q=yield Lc(C.appConfig.senderId);if(Q)return yield on(C,Q),Q}})).apply(this,arguments)}function on(C,T){return $a.apply(this,arguments)}function $a(){return($a=(0,N.Z)(function*(C,T){const R=mr(C),Q=(yield gn()).transaction(es,"readwrite");return yield Q.objectStore(es).put(T,R),yield Q.done,T})).apply(this,arguments)}function Al(C){return Zs.apply(this,arguments)}function Zs(){return(Zs=(0,N.Z)(function*(C){const T=mr(C),V=(yield gn()).transaction(es,"readwrite");yield V.objectStore(es).delete(T),yield V.done})).apply(this,arguments)}function mr({appConfig:C}){return C.appId}const xn=new oe.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function ts(C,T){return _r.apply(this,arguments)}function _r(){return(_r=(0,N.Z)(function*(C,T){var R;const V=yield aa(C),Q=Ks(T),ie={method:"POST",headers:V,body:JSON.stringify(Q)};let Ae;try{Ae=yield(yield fetch(ns(C.appConfig),ie)).json()}catch(Ge){throw xn.create("token-subscribe-failed",{errorInfo:null===(R=Ge)||void 0===R?void 0:R.toString()})}if(Ae.error)throw xn.create("token-subscribe-failed",{errorInfo:Ae.error.message});if(!Ae.token)throw xn.create("token-subscribe-no-token");return Ae.token})).apply(this,arguments)}function Eo(C,T){return vs.apply(this,arguments)}function vs(){return(vs=(0,N.Z)(function*(C,T){var R;const V=yield aa(C),Q=Ks(T.subscriptionOptions),ie={method:"PATCH",headers:V,body:JSON.stringify(Q)};let Ae;try{Ae=yield(yield fetch(`${ns(C.appConfig)}/${T.token}`,ie)).json()}catch(Ge){throw xn.create("token-update-failed",{errorInfo:null===(R=Ge)||void 0===R?void 0:R.toString()})}if(Ae.error)throw xn.create("token-update-failed",{errorInfo:Ae.error.message});if(!Ae.token)throw xn.create("token-update-no-token");return Ae.token})).apply(this,arguments)}function Ga(C,T){return Oi.apply(this,arguments)}function Oi(){return(Oi=(0,N.Z)(function*(C,T){var R;const Q={method:"DELETE",headers:yield aa(C)};try{const Ae=yield(yield fetch(`${ns(C.appConfig)}/${T}`,Q)).json();if(Ae.error)throw xn.create("token-unsubscribe-failed",{errorInfo:Ae.error.message})}catch(ie){throw xn.create("token-unsubscribe-failed",{errorInfo:null===(R=ie)||void 0===R?void 0:R.toString()})}})).apply(this,arguments)}function ns({projectId:C}){return`https://fcmregistrations.googleapis.com/v1/projects/${C}/registrations`}function aa(C){return Et.apply(this,arguments)}function Et(){return(Et=(0,N.Z)(function*({appConfig:C,installations:T}){const R=yield T.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C.apiKey,"x-goog-firebase-installations-auth":`FIS ${R}`})})).apply(this,arguments)}function Ks({p256dh:C,auth:T,endpoint:R,vapidKey:V}){const Q={web:{endpoint:R,auth:T,p256dh:C}};return V!==yo&&(Q.web.applicationPubKey=V),Q}const jc=6048e5;function za(C){return Hc.apply(this,arguments)}function Hc(){return(Hc=(0,N.Z)(function*(C){const T=yield wo(C.swRegistration,C.vapidKey),R={vapidKey:C.vapidKey,swScope:C.swRegistration.scope,endpoint:T.endpoint,auth:jr(T.getKey("auth")),p256dh:jr(T.getKey("p256dh"))},V=yield Ha(C.firebaseDependencies);if(V){if(Rl(V.subscriptionOptions,R))return Date.now()>=V.createTime+jc?$c(C,{token:V.token,createTime:Date.now(),subscriptionOptions:R}):V.token;try{yield Ga(C.firebaseDependencies,V.token)}catch(Q){console.warn(Q)}return xe(C.firebaseDependencies,R)}return xe(C.firebaseDependencies,R)})).apply(this,arguments)}function Ml(C){return xl.apply(this,arguments)}function xl(){return(xl=(0,N.Z)(function*(C){const T=yield Ha(C.firebaseDependencies);T&&(yield Ga(C.firebaseDependencies,T.token),yield Al(C.firebaseDependencies));const R=yield C.swRegistration.pushManager.getSubscription();return!R||R.unsubscribe()})).apply(this,arguments)}function $c(C,T){return la.apply(this,arguments)}function la(){return(la=(0,N.Z)(function*(C,T){try{const R=yield Eo(C.firebaseDependencies,T),V=Object.assign(Object.assign({},T),{token:R,createTime:Date.now()});return yield on(C.firebaseDependencies,V),R}catch(R){throw yield Ml(C),R}})).apply(this,arguments)}function xe(C,T){return qt.apply(this,arguments)}function qt(){return(qt=(0,N.Z)(function*(C,T){const V={token:yield ts(C,T),createTime:Date.now(),subscriptionOptions:T};return yield on(C,V),V.token})).apply(this,arguments)}function wo(C,T){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,N.Z)(function*(C,T){return(yield C.pushManager.getSubscription())||C.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:ld(T)})})).apply(this,arguments)}function Rl(C,T){return T.vapidKey===C.vapidKey&&T.endpoint===C.endpoint&&T.auth===C.auth&&T.p256dh===C.p256dh}function Co(C){const T={from:C.from,collapseKey:C.collapse_key,messageId:C.fcmMessageId};return function yi(C,T){if(!T.notification)return;C.notification={};const R=T.notification.title;R&&(C.notification.title=R);const V=T.notification.body;V&&(C.notification.body=V);const Q=T.notification.image;Q&&(C.notification.image=Q)}(T,C),function Gc(C,T){!T.data||(C.data=T.data)}(T,C),function zc(C,T){var R,V,Q,ie,Ae;if(!T.fcmOptions&&!(null===(R=T.notification)||void 0===R?void 0:R.click_action))return;C.fcmOptions={};const Ge=null!==(Q=null===(V=T.fcmOptions)||void 0===V?void 0:V.link)&&void 0!==Q?Q:null===(ie=T.notification)||void 0===ie?void 0:ie.click_action;Ge&&(C.fcmOptions.link=Ge);const ut=null===(Ae=T.fcmOptions)||void 0===Ae?void 0:Ae.analytics_label;ut&&(C.fcmOptions.analyticsLabel=ut)}(T,C),T}function qc(C){return"object"==typeof C&&!!C&&ra in C}function ud(C,T){const R=[];for(let V=0;V<C.length;V++)R.push(C.charAt(V)),V<T.length&&R.push(T.charAt(V));return R.join("")}function bs(C){return xn.create("missing-app-config-values",{valueName:C})}ud("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),ud("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Tr{constructor(T,R,V){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Q=function Rg(C){if(!C||!C.options)throw bs("App Configuration Object");if(!C.name)throw bs("App Name");const T=["projectId","apiKey","appId","messagingSenderId"],{options:R}=C;for(const V of T)if(!R[V])throw bs(V);return{appName:C.name,projectId:R.projectId,apiKey:R.apiKey,appId:R.appId,senderId:R.messagingSenderId}}(T);this.firebaseDependencies={app:T,appConfig:Q,installations:R,analyticsProvider:V}}_delete(){return Promise.resolve()}}function vi(C){return kl.apply(this,arguments)}function kl(){return(kl=(0,N.Z)(function*(C){var T;try{C.swRegistration=yield navigator.serviceWorker.register(od,{scope:Dr}),C.swRegistration.update().catch(()=>{})}catch(R){throw xn.create("failed-service-worker-registration",{browserErrorMessage:null===(T=R)||void 0===T?void 0:T.message})}})).apply(this,arguments)}function Ys(C,T){return Pi.apply(this,arguments)}function Pi(){return(Pi=(0,N.Z)(function*(C,T){if(!T&&!C.swRegistration&&(yield vi(C)),T||!C.swRegistration){if(!(T instanceof ServiceWorkerRegistration))throw xn.create("invalid-sw-registration");C.swRegistration=T}})).apply(this,arguments)}function Wc(C,T){return Ol.apply(this,arguments)}function Ol(){return(Ol=(0,N.Z)(function*(C,T){T?C.vapidKey=T:C.vapidKey||(C.vapidKey=yo)})).apply(this,arguments)}function Zc(){return(Zc=(0,N.Z)(function*(C,T){if(!navigator)throw xn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw xn.create("permission-blocked");return yield Wc(C,null==T?void 0:T.vapidKey),yield Ys(C,null==T?void 0:T.serviceWorkerRegistration),za(C)})).apply(this,arguments)}function ca(C,T,R){return Nl.apply(this,arguments)}function Nl(){return(Nl=(0,N.Z)(function*(C,T,R){const V=Fl(T);(yield C.firebaseDependencies.analyticsProvider.get()).logEvent(V,{message_id:R[ra],message_name:R[ad],message_time:R[_f],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Fl(C){switch(C){case ia.NOTIFICATION_CLICKED:return"notification_open";case ia.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function hd(){return(hd=(0,N.Z)(function*(C,T){const R=T.data;if(!R.isFirebaseMessaging)return;C.onMessageHandler&&R.messageType===ia.PUSH_RECEIVED&&("function"==typeof C.onMessageHandler?C.onMessageHandler(Co(R)):C.onMessageHandler.next(Co(R)));const V=R.data;qc(V)&&"1"===V[ci]&&(yield ca(C,R.messageType,V))})).apply(this,arguments)}const Ll="@firebase/messaging",fd=C=>{const T=new Tr(C.getProvider("app").getImmediate(),C.getProvider("installations-internal").getImmediate(),C.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",R=>function dd(C,T){return hd.apply(this,arguments)}(T,R)),T},ua=C=>{const T=C.getProvider("messaging").getImmediate();return{getToken:V=>function Pl(C,T){return Zc.apply(this,arguments)}(T,V)}};function Vl(){return ui.apply(this,arguments)}function ui(){return(ui=(0,N.Z)(function*(){try{yield(0,oe.eu)()}catch(C){return!1}return"undefined"!=typeof window&&(0,oe.hl)()&&(0,oe.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function pd(){(0,ce._registerComponent)(new me.wA("messaging",fd,"PUBLIC")),(0,ce._registerComponent)(new me.wA("messaging-internal",ua,"PRIVATE")),(0,ce.registerVersion)(Ll,"0.9.19"),(0,ce.registerVersion)(Ll,"0.9.19","esm2017")}();const md="analytics",kg="firebase_id",Es="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",To="https://www.googletagmanager.com/gtag/js",rr=new se.Yd("@firebase/analytics");function _d(C){return Promise.all(C.map(T=>T.catch(R=>R)))}function Og(C,T){const R=document.createElement("script");R.src=`${To}?l=${C}&id=${T}`,R.async=!0,document.head.appendChild(R)}function da(C,T,R,V,Q,ie){return Bl.apply(this,arguments)}function Bl(){return(Bl=(0,N.Z)(function*(C,T,R,V,Q,ie){const Ae=V[Q];try{if(Ae)yield T[Ae];else{const ut=(yield _d(R)).find(It=>It.measurementId===Q);ut&&(yield T[ut.appId])}}catch(Ge){rr.error(Ge)}C("config",Q,ie)})).apply(this,arguments)}function Pg(C,T,R,V,Q){return ws.apply(this,arguments)}function ws(){return(ws=(0,N.Z)(function*(C,T,R,V,Q){try{let ie=[];if(Q&&Q.send_to){let Ae=Q.send_to;Array.isArray(Ae)||(Ae=[Ae]);const Ge=yield _d(R);for(const ut of Ae){const It=Ge.find(at=>at.measurementId===ut),Ot=It&&T[It.appId];if(!Ot){ie=[];break}ie.push(Ot)}}0===ie.length&&(ie=Object.values(T)),yield Promise.all(ie),C("event",V,Q||{})}catch(ie){rr.error(ie)}})).apply(this,arguments)}function In(C){const T=window.document.getElementsByTagName("script");for(const R of Object.values(T))if(R.src&&R.src.includes(To)&&R.src.includes(C))return R;return null}const ot=new oe.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Za=new class Tn{constructor(T={},R=1e3){this.throttleMetadata=T,this.intervalMillis=R}getThrottleMetadata(T){return this.throttleMetadata[T]}setThrottleMetadata(T,R){this.throttleMetadata[T]=R}deleteThrottleMetadata(T){delete this.throttleMetadata[T]}};function yd(C){return new Headers({Accept:"application/json","x-goog-api-key":C})}function ha(C){return Qs.apply(this,arguments)}function Qs(){return(Qs=(0,N.Z)(function*(C){var T;const{appId:R,apiKey:V}=C,Q={method:"GET",headers:yd(V)},ie=Es.replace("{app-id}",R),Ae=yield fetch(ie,Q);if(200!==Ae.status&&304!==Ae.status){let Ge="";try{const ut=yield Ae.json();(null===(T=ut.error)||void 0===T?void 0:T.message)&&(Ge=ut.error.message)}catch(ut){}throw ot.create("config-fetch-failed",{httpStatus:Ae.status,responseMessage:Ge})}return Ae.json()})).apply(this,arguments)}function Bn(C){return Xs.apply(this,arguments)}function Xs(){return(Xs=(0,N.Z)(function*(C,T=Za,R){const{appId:V,apiKey:Q,measurementId:ie}=C.options;if(!V)throw ot.create("no-app-id");if(!Q){if(ie)return{measurementId:ie,appId:V};throw ot.create("no-api-key")}const Ae=T.getThrottleMetadata(V)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Ge=new jl;return setTimeout((0,N.Z)(function*(){Ge.abort()}),void 0!==R?R:6e4),rs({appId:V,apiKey:Q,measurementId:ie},Ae,Ge,T)})).apply(this,arguments)}function rs(C,T,R){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,N.Z)(function*(C,{throttleEndTimeMillis:T,backoffCount:R},V,Q=Za){var ie,Ae;const{appId:Ge,measurementId:ut}=C;try{yield vd(V,T)}catch(It){if(ut)return rr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ut} provided in the "measurementId" field in the local Firebase config. [${null===(ie=It)||void 0===ie?void 0:ie.message}]`),{appId:Ge,measurementId:ut};throw It}try{const It=yield ha(C);return Q.deleteThrottleMetadata(Ge),It}catch(It){const Ot=It;if(!bd(Ot)){if(Q.deleteThrottleMetadata(Ge),ut)return rr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ut} provided in the "measurementId" field in the local Firebase config. [${null==Ot?void 0:Ot.message}]`),{appId:Ge,measurementId:ut};throw It}const at=503===Number(null===(Ae=null==Ot?void 0:Ot.customData)||void 0===Ae?void 0:Ae.httpStatus)?(0,oe.$s)(R,Q.intervalMillis,30):(0,oe.$s)(R,Q.intervalMillis),Wn={throttleEndTimeMillis:Date.now()+at,backoffCount:R+1};return Q.setThrottleMetadata(Ge,Wn),rr.debug(`Calling attemptFetch again in ${at} millis`),rs(C,Wn,V,Q)}})).apply(this,arguments)}function vd(C,T){return new Promise((R,V)=>{const Q=Math.max(T-Date.now(),0),ie=setTimeout(R,Q);C.addEventListener(()=>{clearTimeout(ie),V(ot.create("fetch-throttle",{throttleEndTimeMillis:T}))})})}function bd(C){if(!(C instanceof oe.ZR&&C.customData))return!1;const T=Number(C.customData.httpStatus);return 429===T||500===T||503===T||504===T}class jl{constructor(){this.listeners=[]}addEventListener(T){this.listeners.push(T)}abort(){this.listeners.forEach(T=>T())}}let Ka,pa;function is(){return(is=(0,N.Z)(function*(C,T,R,V,Q){if(Q&&Q.global)C("event",R,V);else{const ie=yield T;C("event",R,Object.assign(Object.assign({},V),{send_to:ie}))}})).apply(this,arguments)}function ga(C){pa=C}function eo(C){Ka=C}function Xa(){return bi.apply(this,arguments)}function bi(){return(bi=(0,N.Z)(function*(){var C;if(!(0,oe.hl)())return rr.warn(ot.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,oe.eu)()}catch(T){return rr.warn(ot.create("indexeddb-unavailable",{errorInfo:null===(C=T)||void 0===C?void 0:C.toString()}).message),!1}return!0})).apply(this,arguments)}function Un(){return(Un=(0,N.Z)(function*(C,T,R,V,Q,ie,Ae){var Ge;const ut=Bn(C);ut.then(Zn=>{R[Zn.measurementId]=Zn.appId,C.options.measurementId&&Zn.measurementId!==C.options.measurementId&&rr.warn(`The measurement ID in the local Firebase config (${C.options.measurementId}) does not match the measurement ID fetched from the server (${Zn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Zn=>rr.error(Zn)),T.push(ut);const It=Xa().then(Zn=>{if(Zn)return V.getId()}),[Ot,at]=yield Promise.all([ut,It]);In(ie)||Og(ie,Ot.measurementId),pa&&(Q("consent","default",pa),ga(void 0)),Q("js",new Date);const Wn=null!==(Ge=null==Ae?void 0:Ae.config)&&void 0!==Ge?Ge:{};return Wn.origin="firebase",Wn.update=!0,null!=at&&(Wn[kg]=at),Q("config",Ot.measurementId,Wn),Ka&&(Q("set",Ka),eo(void 0)),Ot.measurementId})).apply(this,arguments)}class Yc{constructor(T){this.app=T}_delete(){return delete Hr[this.app.options.appId],Promise.resolve()}}let Hr={},jn=[];const Fi={};let Li,ln,Ei="dataLayer",$r=!1;function Ed(C,T,R){!function Vi(){const C=[];if((0,oe.ru)()&&C.push("This is a browser extension environment."),(0,oe.zI)()||C.push("Cookies are not available."),C.length>0){const T=C.map((V,Q)=>`(${Q+1}) ${V}`).join(" "),R=ot.create("invalid-analytics-context",{errorInfo:T});rr.warn(R.message)}}();const V=C.options.appId;if(!V)throw ot.create("no-app-id");if(!C.options.apiKey){if(!C.options.measurementId)throw ot.create("no-api-key");rr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${C.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Hr[V])throw ot.create("already-exists",{id:V});if(!$r){!function So(C){let T=[];Array.isArray(window[C])?T=window[C]:window[C]=T}(Ei);const{wrappedGtag:ie,gtagCore:Ae}=function Ng(C,T,R,V,Q){let ie=function(...Ae){window[V].push(arguments)};return window[Q]&&"function"==typeof window[Q]&&(ie=window[Q]),window[Q]=function Ul(C,T,R,V){function ie(){return(ie=(0,N.Z)(function*(Ae,Ge,ut){try{"event"===Ae?yield Pg(C,T,R,Ge,ut):"config"===Ae?yield da(C,T,R,V,Ge,ut):"consent"===Ae?C("consent","update",ut):C("set",Ge)}catch(It){rr.error(It)}})).apply(this,arguments)}return function Q(Ae,Ge,ut){return ie.apply(this,arguments)}}(ie,C,T,R),{gtagCore:ie,wrappedGtag:window[Q]}}(Hr,jn,Fi,Ei,"gtag");ln=ie,Li=Ae,$r=!0}return Hr[V]=function ss(C,T,R,V,Q,ie,Ae){return Un.apply(this,arguments)}(C,jn,Fi,T,Li,Ei,R),new Yc(C)}function wd(){return Cd.apply(this,arguments)}function Cd(){return(Cd=(0,N.Z)(function*(){if((0,oe.ru)()||!(0,oe.zI)()||!(0,oe.hl)())return!1;try{return yield(0,oe.eu)()}catch(C){return!1}})).apply(this,arguments)}const Hn="@firebase/analytics";!function el(){(0,ce._registerComponent)(new me.wA(md,(T,{options:R})=>Ed(T.getProvider("app").getImmediate(),T.getProvider("installations-internal").getImmediate(),R),"PUBLIC")),(0,ce._registerComponent)(new me.wA("analytics-internal",function C(T){try{const R=T.getProvider(md).getImmediate();return{logEvent:(V,Q,ie)=>function Ds(C,T,R,V){C=(0,oe.m9)(C),function qn(C,T,R,V,Q){return is.apply(this,arguments)}(ln,Hr[C.app.options.appId],T,R,V).catch(Q=>rr.error(Q))}(R,V,Q,ie)}}catch(R){throw ot.create("interop-component-reg-failed",{reason:R})}},"PRIVATE")),(0,ce.registerVersion)(Hn,"0.8.3"),(0,ce.registerVersion)(Hn,"0.8.3","esm2017")}();var Id=P(4408),Gr=P(7565);const tl=new class zr extends Gr.v{}(class Ef extends Id.o{constructor(T,R){super(T,R),this.scheduler=T,this.work=R}schedule(T,R=0){return R>0?super.schedule(T,R):(this.delay=R,this.state=T,this.scheduler.flush(this),this)}execute(T,R){return R>0||this.closed?super.execute(T,R):this._execute(T,R)}requestAsyncId(T,R,V=0){return null!=V&&V>0||null==V&&this.delay>0?super.requestAsyncId(T,R,V):(T.flush(this),0)}});var Ro=P(4986),_a=P(8505),ko=P(9468),Hl=P(5363);const zt=new d.GfV("7.4.1"),Td="__angularfire_symbol__analyticsIsSupportedValue",Is="__angularfire_symbol__analyticsIsSupported",sr="__angularfire_symbol__remoteConfigIsSupportedValue",no="__angularfire_symbol__remoteConfigIsSupported",ro="__angularfire_symbol__messagingIsSupportedValue",Sd="__angularfire_symbol__messagingIsSupported";function $l(C,T,R){if(T){if(1===T.length)return T[0];const ie=T.filter(Ae=>Ae.app===R);if(1===ie.length)return ie[0]}return R.container.getProvider(C).getImmediate({optional:!0})}globalThis[Is]||(globalThis[Is]=wd().then(C=>globalThis[Td]=C).catch(()=>globalThis[Td]=!1)),globalThis[Sd]||(globalThis[Sd]=Vl().then(C=>globalThis[ro]=C).catch(()=>globalThis[ro]=!1)),globalThis[no]||(globalThis[no]=Sl().then(C=>globalThis[sr]=C).catch(()=>globalThis[sr]=!1));const Ad=(C,T)=>{const R=T?[T]:(0,J.C6)(),V=[];return R.forEach(Q=>{Q.container.getProvider(C).instances.forEach(Ae=>{V.includes(Ae)||V.push(Ae)})}),V};function Sn(){}class dr{constructor(T,R=tl){this.zone=T,this.delegate=R}now(){return this.delegate.now()}schedule(T,R,V){const Q=this.zone;return this.delegate.schedule(function(Ae){Q.runGuarded(()=>{T.apply(this,[Ae])})},R,V)}}class Gl{constructor(T){this.zone=T,this.task=null}call(T,R){const V=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Sn,{},Sn,Sn)),R.pipe((0,_a.b)({next:V,complete:V,error:V})).subscribe(T).add(V)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Lg=(()=>{class C{constructor(R){this.ngZone=R,this.outsideAngular=R.runOutsideAngular(()=>new dr(Zone.current)),this.insideAngular=R.run(()=>new dr(Zone.current,Ro.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return C.\u0275fac=function(R){return new(R||C)(d.LFG(d.R0b))},C.\u0275prov=d.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})();function qr(){const C=globalThis.\u0275AngularFireScheduler;if(!C)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return C}function zl(C){return qr(),function ql(C){return function(R){return(R=R.lift(new Gl(C.ngZone))).pipe((0,ko.R)(C.outsideAngular),(0,Hl.Q)(C.insideAngular))}}(qr())(C)}},2090:(tt,be,P)=>{P.d(be,{$s:()=>Ke,BH:()=>jt,G6:()=>Ie,L:()=>ue,LL:()=>dn,Pz:()=>Jt,Sg:()=>Je,UG:()=>Ne,US:()=>me,ZB:()=>H,ZR:()=>bn,aH:()=>gt,b$:()=>De,eu:()=>He,hl:()=>Ue,jU:()=>je,m9:()=>Gt,ne:()=>mi,pd:()=>tr,r3:()=>gs,ru:()=>ge,tV:()=>pe,uI:()=>Me,vZ:()=>Nr,w1:()=>Xe,xO:()=>Hs,xb:()=>xi,z$:()=>Be,zI:()=>q,zd:()=>Wi});const ce=function($){const U=[];let Y=0;for(let we=0;we<$.length;we++){let re=$.charCodeAt(we);re<128?U[Y++]=re:re<2048?(U[Y++]=re>>6|192,U[Y++]=63&re|128):55296==(64512&re)&&we+1<$.length&&56320==(64512&$.charCodeAt(we+1))?(re=65536+((1023&re)<<10)+(1023&$.charCodeAt(++we)),U[Y++]=re>>18|240,U[Y++]=re>>12&63|128,U[Y++]=re>>6&63|128,U[Y++]=63&re|128):(U[Y++]=re>>12|224,U[Y++]=re>>6&63|128,U[Y++]=63&re|128)}return U},me={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray($,U){if(!Array.isArray($))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Y=U?this.byteToCharMapWebSafe_:this.byteToCharMap_,we=[];for(let re=0;re<$.length;re+=3){const nt=$[re],Nt=re+1<$.length,fn=Nt?$[re+1]:0,nn=re+2<$.length,hn=nn?$[re+2]:0;let Cn=(15&fn)<<2|hn>>6,mo=63&hn;nn||(mo=64,Nt||(Cn=64)),we.push(Y[nt>>2],Y[(3&nt)<<4|fn>>4],Y[Cn],Y[mo])}return we.join("")},encodeString($,U){return this.HAS_NATIVE_SUPPORT&&!U?btoa($):this.encodeByteArray(ce($),U)},decodeString($,U){return this.HAS_NATIVE_SUPPORT&&!U?atob($):function($){const U=[];let Y=0,we=0;for(;Y<$.length;){const re=$[Y++];if(re<128)U[we++]=String.fromCharCode(re);else if(re>191&&re<224){const nt=$[Y++];U[we++]=String.fromCharCode((31&re)<<6|63&nt)}else if(re>239&&re<365){const nn=((7&re)<<18|(63&$[Y++])<<12|(63&$[Y++])<<6|63&$[Y++])-65536;U[we++]=String.fromCharCode(55296+(nn>>10)),U[we++]=String.fromCharCode(56320+(1023&nn))}else{const nt=$[Y++],Nt=$[Y++];U[we++]=String.fromCharCode((15&re)<<12|(63&nt)<<6|63&Nt)}}return U.join("")}(this.decodeStringToByteArray($,U))},decodeStringToByteArray($,U){this.init_();const Y=U?this.charToByteMapWebSafe_:this.charToByteMap_,we=[];for(let re=0;re<$.length;){const nt=Y[$.charAt(re++)],fn=re<$.length?Y[$.charAt(re)]:0;++re;const hn=re<$.length?Y[$.charAt(re)]:64;++re;const At=re<$.length?Y[$.charAt(re)]:64;if(++re,null==nt||null==fn||null==hn||null==At)throw Error();we.push(nt<<2|fn>>4),64!==hn&&(we.push(fn<<4&240|hn>>2),64!==At&&we.push(hn<<6&192|At))}return we},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let $=0;$<this.ENCODED_VALS.length;$++)this.byteToCharMap_[$]=this.ENCODED_VALS.charAt($),this.charToByteMap_[this.byteToCharMap_[$]]=$,this.byteToCharMapWebSafe_[$]=this.ENCODED_VALS_WEBSAFE.charAt($),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[$]]=$,$>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt($)]=$,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt($)]=$)}}},ue=function($){return function($){const U=ce($);return me.encodeByteArray(U,!0)}($).replace(/\./g,"")},pe=function($){try{return me.decodeString($,!0)}catch(U){console.error("base64Decode failed: ",U)}return null};function H($,U){if(!(U instanceof Object))return U;switch(U.constructor){case Date:return new Date(U.getTime());case Object:void 0===$&&($={});break;case Array:$=[];break;default:return U}for(const Y in U)!U.hasOwnProperty(Y)||!te(Y)||($[Y]=H($[Y],U[Y]));return $}function te($){return"__proto__"!==$}function Be(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Me(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Be())}function Ne(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch($){return!1}}function je(){return"object"==typeof self&&self.self===self}function ge(){const $="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof $&&void 0!==$.id}function De(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Xe(){const $=Be();return $.indexOf("MSIE ")>=0||$.indexOf("Trident/")>=0}function Ie(){return!Ne()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ue(){return"object"==typeof indexedDB}function He(){return new Promise(($,U)=>{try{let Y=!0;const we="validate-browser-context-for-indexeddb-analytics-module",re=self.indexedDB.open(we);re.onsuccess=()=>{re.result.close(),Y||self.indexedDB.deleteDatabase(we),$(!0)},re.onupgradeneeded=()=>{Y=!1},re.onerror=()=>{var nt;U((null===(nt=re.error)||void 0===nt?void 0:nt.message)||"")}}catch(Y){U(Y)}})}function q(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}const _e=()=>{try{return function Ee(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if("undefined"==typeof process||void 0===process.env)return;const $=process.env.__FIREBASE_DEFAULTS__;return $?JSON.parse($):void 0})()||(()=>{if("undefined"==typeof document)return;let $;try{$=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(Y){return}const U=$&&pe($[1]);return U&&JSON.parse(U)})()}catch($){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${$}`)}},gt=()=>{var $;return null===($=_e())||void 0===$?void 0:$.config},Jt=$=>{var U;return null===(U=_e())||void 0===U?void 0:U[`_${$}`]};class jt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((U,Y)=>{this.resolve=U,this.reject=Y})}wrapCallback(U){return(Y,we)=>{Y?this.reject(Y):this.resolve(we),"function"==typeof U&&(this.promise.catch(()=>{}),1===U.length?U(Y):U(Y,we))}}}function Je($,U){if($.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const we=U||"demo-project",re=$.iat||0,nt=$.sub||$.user_id;if(!nt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Nt=Object.assign({iss:`https://securetoken.google.com/${we}`,aud:we,iat:re,exp:re+3600,auth_time:re,sub:nt,user_id:nt,firebase:{sign_in_provider:"custom",identities:{}}},$);return[ue(JSON.stringify({alg:"none",type:"JWT"})),ue(JSON.stringify(Nt)),""].join(".")}class bn extends Error{constructor(U,Y,we){super(Y),this.code=U,this.customData=we,this.name="FirebaseError",Object.setPrototypeOf(this,bn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,dn.prototype.create)}}class dn{constructor(U,Y,we){this.service=U,this.serviceName=Y,this.errors=we}create(U,...Y){const we=Y[0]||{},re=`${this.service}/${U}`,nt=this.errors[U],Nt=nt?function tn($,U){return $.replace(Or,(Y,we)=>{const re=U[we];return null!=re?String(re):`<${we}?>`})}(nt,we):"Error";return new bn(re,`${this.serviceName}: ${Nt} (${re}).`,we)}}const Or=/\{\$([^}]+)}/g;function gs($,U){return Object.prototype.hasOwnProperty.call($,U)}function xi($){for(const U in $)if(Object.prototype.hasOwnProperty.call($,U))return!1;return!0}function Nr($,U){if($===U)return!0;const Y=Object.keys($),we=Object.keys(U);for(const re of Y){if(!we.includes(re))return!1;const nt=$[re],Nt=U[re];if(Mn(nt)&&Mn(Nt)){if(!Nr(nt,Nt))return!1}else if(nt!==Nt)return!1}for(const re of we)if(!Y.includes(re))return!1;return!0}function Mn($){return null!==$&&"object"==typeof $}function Hs($){const U=[];for(const[Y,we]of Object.entries($))Array.isArray(we)?we.forEach(re=>{U.push(encodeURIComponent(Y)+"="+encodeURIComponent(re))}):U.push(encodeURIComponent(Y)+"="+encodeURIComponent(we));return U.length?"&"+U.join("&"):""}function Wi($){const U={};return $.replace(/^\?/,"").split("&").forEach(we=>{if(we){const[re,nt]=we.split("=");U[decodeURIComponent(re)]=decodeURIComponent(nt)}}),U}function tr($){const U=$.indexOf("?");if(!U)return"";const Y=$.indexOf("#",U);return $.substring(U,Y>0?Y:void 0)}function mi($,U){const Y=new fo($,U);return Y.subscribe.bind(Y)}class fo{constructor(U,Y){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Y,this.task.then(()=>{U(this)}).catch(we=>{this.error(we)})}next(U){this.forEachObserver(Y=>{Y.next(U)})}error(U){this.forEachObserver(Y=>{Y.error(U)}),this.close(U)}complete(){this.forEachObserver(U=>{U.complete()}),this.close()}subscribe(U,Y,we){let re;if(void 0===U&&void 0===Y&&void 0===we)throw new Error("Missing Observer.");re=function ct($,U){if("object"!=typeof $||null===$)return!1;for(const Y of U)if(Y in $&&"function"==typeof $[Y])return!0;return!1}(U,["next","error","complete"])?U:{next:U,error:Y,complete:we},void 0===re.next&&(re.next=bt),void 0===re.error&&(re.error=bt),void 0===re.complete&&(re.complete=bt);const nt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?re.error(this.finalError):re.complete()}catch(Nt){}}),this.observers.push(re),nt}unsubscribeOne(U){void 0===this.observers||void 0===this.observers[U]||(delete this.observers[U],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(U){if(!this.finalized)for(let Y=0;Y<this.observers.length;Y++)this.sendOne(Y,U)}sendOne(U,Y){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[U])try{Y(this.observers[U])}catch(we){"undefined"!=typeof console&&console.error&&console.error(we)}})}close(U){this.finalized||(this.finalized=!0,void 0!==U&&(this.finalError=U),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function bt(){}function Ke($,U=1e3,Y=2){const we=U*Math.pow(Y,$),re=Math.round(.5*we*(Math.random()-.5)*2);return Math.min(144e5,we+re)}function Gt($){return $&&$._delegate?$._delegate:$}},2259:(tt,be,P)=>{var d=P(5e3);let J=null;function N(){return J}const se=new d.OlP("DocumentToken");let ue=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:function(){return function pe(){return(0,d.LFG)(H)}()},providedIn:"platform"}),n})();const G=new d.OlP("Location Initialized");let H=(()=>{class n extends ue{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return N().getBaseHref(this._doc)}onPopState(t){const r=N().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=N().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,i){te()?this._history.pushState(t,r,i):this.location.hash=i}replaceState(t,r,i){te()?this._history.replaceState(t,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(se))},n.\u0275prov=d.Yz7({token:n,factory:function(){return function Be(){return new H((0,d.LFG)(se))}()},providedIn:"platform"}),n})();function te(){return!!window.history.pushState}function Me(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Ne(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function je(n){return n&&"?"!==n[0]?"?"+n:n}let ge=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:function(){return function De(n){const e=(0,d.LFG)(se).location;return new Xe((0,d.LFG)(ue),e&&e.origin||"")}()},providedIn:"root"}),n})();const Ze=new d.OlP("appBaseHref");let Xe=(()=>{class n extends ge{constructor(t,r){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Me(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+je(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,a){const c=this.prepareExternalUrl(i+je(a));this._platformLocation.pushState(t,r,c)}replaceState(t,r,i,a){const c=this.prepareExternalUrl(i+je(a));this._platformLocation.replaceState(t,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ue),d.LFG(Ze,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),ke=(()=>{class n extends ge{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=Me(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,a){let c=this.prepareExternalUrl(i+je(a));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.pushState(t,r,c)}replaceState(t,r,i,a){let c=this.prepareExternalUrl(i+je(a));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ue),d.LFG(Ze,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),ye=(()=>{class n{constructor(t,r){this._subject=new d.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const i=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=Ne(He(i)),this._platformStrategy.onPopState(a=>{this._subject.emit({url:this.path(!0),pop:!0,state:a.state,type:a.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+je(r))}normalize(t){return n.stripTrailingSlash(function Ue(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,He(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._platformStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+je(r)),i)}replaceState(t,r="",i=null){this._platformStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+je(r)),i)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformStrategy).historyGo)||void 0===i||i.call(r,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=je,n.joinWithSlash=Me,n.stripTrailingSlash=Ne,n.\u0275fac=function(t){return new(t||n)(d.LFG(ge),d.LFG(ue))},n.\u0275prov=d.Yz7({token:n,factory:function(){return function Ie(){return new ye((0,d.LFG)(ge),(0,d.LFG)(ue))}()},providedIn:"root"}),n})();function He(n){return n.replace(/\/index.html$/,"")}var ne=(()=>((ne=ne||{})[ne.Format=0]="Format",ne[ne.Standalone=1]="Standalone",ne))(),ee=(()=>((ee=ee||{})[ee.Narrow=0]="Narrow",ee[ee.Abbreviated=1]="Abbreviated",ee[ee.Wide=2]="Wide",ee[ee.Short=3]="Short",ee))(),_e=(()=>((_e=_e||{})[_e.Short=0]="Short",_e[_e.Medium=1]="Medium",_e[_e.Long=2]="Long",_e[_e.Full=3]="Full",_e))(),de=(()=>((de=de||{})[de.Decimal=0]="Decimal",de[de.Group=1]="Group",de[de.List=2]="List",de[de.PercentSign=3]="PercentSign",de[de.PlusSign=4]="PlusSign",de[de.MinusSign=5]="MinusSign",de[de.Exponential=6]="Exponential",de[de.SuperscriptingExponent=7]="SuperscriptingExponent",de[de.PerMille=8]="PerMille",de[de.Infinity=9]="Infinity",de[de.NaN=10]="NaN",de[de.TimeSeparator=11]="TimeSeparator",de[de.CurrencyDecimal=12]="CurrencyDecimal",de[de.CurrencyGroup=13]="CurrencyGroup",de))();function tn(n,e){return Mn((0,d.cg1)(n)[d.wAp.DateFormat],e)}function Or(n,e){return Mn((0,d.cg1)(n)[d.wAp.TimeFormat],e)}function Qt(n,e){return Mn((0,d.cg1)(n)[d.wAp.DateTimeFormat],e)}function Wt(n,e){const t=(0,d.cg1)(n),r=t[d.wAp.NumberSymbols][e];if(void 0===r){if(e===de.CurrencyDecimal)return t[d.wAp.NumberSymbols][de.Decimal];if(e===de.CurrencyGroup)return t[d.wAp.NumberSymbols][de.Group]}return r}function gi(n){if(!n[d.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[d.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Mn(n,e){for(let t=e;t>-1;t--)if(void 0!==n[t])return n[t];throw new Error("Locale data API: locale data undefined")}function lr(n){const[e,t]=n.split(":");return{hours:+e,minutes:+t}}const $n=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,mi={},fo=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Xt=(()=>((Xt=Xt||{})[Xt.Short=0]="Short",Xt[Xt.ShortGMT=1]="ShortGMT",Xt[Xt.Long=2]="Long",Xt[Xt.Extended=3]="Extended",Xt))(),ct=(()=>((ct=ct||{})[ct.FullYear=0]="FullYear",ct[ct.Month=1]="Month",ct[ct.Date=2]="Date",ct[ct.Hours=3]="Hours",ct[ct.Minutes=4]="Minutes",ct[ct.Seconds=5]="Seconds",ct[ct.FractionalSeconds=6]="FractionalSeconds",ct[ct.Day=7]="Day",ct))(),bt=(()=>((bt=bt||{})[bt.DayPeriods=0]="DayPeriods",bt[bt.Days=1]="Days",bt[bt.Months=2]="Months",bt[bt.Eras=3]="Eras",bt))();function Fr(n,e,t,r){let i=function Nt(n){if(nn(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[i,a=1,c=1]=n.split("-").map(f=>+f);return Lr(i,a-1,c)}const t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let r;if(r=n.match($n))return function fn(n){const e=new Date(0);let t=0,r=0;const i=n[8]?e.setUTCFullYear:e.setFullYear,a=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));const c=Number(n[4]||0)-t,f=Number(n[5]||0)-r,_=Number(n[6]||0),E=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return a.call(e,c,f,_,E),e}(r)}const e=new Date(n);if(!nn(e))throw new Error(`Unable to convert "${n}" into a date`);return e}(n);e=Zt(t,e)||e;let f,c=[];for(;e;){if(f=fo.exec(e),!f){c.push(e);break}{c=c.concat(f.slice(1));const I=c.pop();if(!I)break;e=I}}let _=i.getTimezoneOffset();r&&(_=we(r,_),i=function nt(n,e,t){const r=t?-1:1,i=n.getTimezoneOffset();return function re(n,e){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+e),n}(n,r*(we(e,i)-i))}(i,r,!0));let E="";return c.forEach(I=>{const x=function Y(n){if(U[n])return U[n];let e;switch(n){case"G":case"GG":case"GGG":e=$t(bt.Eras,ee.Abbreviated);break;case"GGGG":e=$t(bt.Eras,ee.Wide);break;case"GGGGG":e=$t(bt.Eras,ee.Narrow);break;case"y":e=_t(ct.FullYear,1,0,!1,!0);break;case"yy":e=_t(ct.FullYear,2,0,!0,!0);break;case"yyy":e=_t(ct.FullYear,3,0,!1,!0);break;case"yyyy":e=_t(ct.FullYear,4,0,!1,!0);break;case"Y":e=$(1);break;case"YY":e=$(2,!0);break;case"YYY":e=$(3);break;case"YYYY":e=$(4);break;case"M":case"L":e=_t(ct.Month,1,1);break;case"MM":case"LL":e=_t(ct.Month,2,1);break;case"MMM":e=$t(bt.Months,ee.Abbreviated);break;case"MMMM":e=$t(bt.Months,ee.Wide);break;case"MMMMM":e=$t(bt.Months,ee.Narrow);break;case"LLL":e=$t(bt.Months,ee.Abbreviated,ne.Standalone);break;case"LLLL":e=$t(bt.Months,ee.Wide,ne.Standalone);break;case"LLLLL":e=$t(bt.Months,ee.Narrow,ne.Standalone);break;case"w":e=Gt(1);break;case"ww":e=Gt(2);break;case"W":e=Gt(1,!0);break;case"d":e=_t(ct.Date,1);break;case"dd":e=_t(ct.Date,2);break;case"c":case"cc":e=_t(ct.Day,1);break;case"ccc":e=$t(bt.Days,ee.Abbreviated,ne.Standalone);break;case"cccc":e=$t(bt.Days,ee.Wide,ne.Standalone);break;case"ccccc":e=$t(bt.Days,ee.Narrow,ne.Standalone);break;case"cccccc":e=$t(bt.Days,ee.Short,ne.Standalone);break;case"E":case"EE":case"EEE":e=$t(bt.Days,ee.Abbreviated);break;case"EEEE":e=$t(bt.Days,ee.Wide);break;case"EEEEE":e=$t(bt.Days,ee.Narrow);break;case"EEEEEE":e=$t(bt.Days,ee.Short);break;case"a":case"aa":case"aaa":e=$t(bt.DayPeriods,ee.Abbreviated);break;case"aaaa":e=$t(bt.DayPeriods,ee.Wide);break;case"aaaaa":e=$t(bt.DayPeriods,ee.Narrow);break;case"b":case"bb":case"bbb":e=$t(bt.DayPeriods,ee.Abbreviated,ne.Standalone,!0);break;case"bbbb":e=$t(bt.DayPeriods,ee.Wide,ne.Standalone,!0);break;case"bbbbb":e=$t(bt.DayPeriods,ee.Narrow,ne.Standalone,!0);break;case"B":case"BB":case"BBB":e=$t(bt.DayPeriods,ee.Abbreviated,ne.Format,!0);break;case"BBBB":e=$t(bt.DayPeriods,ee.Wide,ne.Format,!0);break;case"BBBBB":e=$t(bt.DayPeriods,ee.Narrow,ne.Format,!0);break;case"h":e=_t(ct.Hours,1,-12);break;case"hh":e=_t(ct.Hours,2,-12);break;case"H":e=_t(ct.Hours,1);break;case"HH":e=_t(ct.Hours,2);break;case"m":e=_t(ct.Minutes,1);break;case"mm":e=_t(ct.Minutes,2);break;case"s":e=_t(ct.Seconds,1);break;case"ss":e=_t(ct.Seconds,2);break;case"S":e=_t(ct.FractionalSeconds,1);break;case"SS":e=_t(ct.FractionalSeconds,2);break;case"SSS":e=_t(ct.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=et(Xt.Short);break;case"ZZZZZ":e=et(Xt.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=et(Xt.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=et(Xt.Long);break;default:return null}return U[n]=e,e}(I);E+=x?x(i,t,_):"''"===I?"'":I.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),E}function Lr(n,e,t){const r=new Date(0);return r.setFullYear(n,e,t),r.setHours(0,0,0),r}function Zt(n,e){const t=function gt(n){return(0,d.cg1)(n)[d.wAp.LocaleId]}(n);if(mi[t]=mi[t]||{},mi[t][e])return mi[t][e];let r="";switch(e){case"shortDate":r=tn(n,_e.Short);break;case"mediumDate":r=tn(n,_e.Medium);break;case"longDate":r=tn(n,_e.Long);break;case"fullDate":r=tn(n,_e.Full);break;case"shortTime":r=Or(n,_e.Short);break;case"mediumTime":r=Or(n,_e.Medium);break;case"longTime":r=Or(n,_e.Long);break;case"fullTime":r=Or(n,_e.Full);break;case"short":const i=Zt(n,"shortTime"),a=Zt(n,"shortDate");r=po(Qt(n,_e.Short),[i,a]);break;case"medium":const c=Zt(n,"mediumTime"),f=Zt(n,"mediumDate");r=po(Qt(n,_e.Medium),[c,f]);break;case"long":const _=Zt(n,"longTime"),E=Zt(n,"longDate");r=po(Qt(n,_e.Long),[_,E]);break;case"full":const I=Zt(n,"fullTime"),x=Zt(n,"fullDate");r=po(Qt(n,_e.Full),[I,x])}return r&&(mi[t][e]=r),r}function po(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,r){return null!=e&&r in e?e[r]:t})),n}function Vr(n,e,t="-",r,i){let a="";(n<0||i&&n<=0)&&(i?n=1-n:(n=-n,a=t));let c=String(n);for(;c.length<e;)c="0"+c;return r&&(c=c.substr(c.length-e)),a+c}function _t(n,e,t=0,r=!1,i=!1){return function(a,c){let f=function go(n,e){switch(n){case ct.FullYear:return e.getFullYear();case ct.Month:return e.getMonth();case ct.Date:return e.getDate();case ct.Hours:return e.getHours();case ct.Minutes:return e.getMinutes();case ct.Seconds:return e.getSeconds();case ct.FractionalSeconds:return e.getMilliseconds();case ct.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,a);if((t>0||f>-t)&&(f+=t),n===ct.Hours)0===f&&-12===t&&(f=12);else if(n===ct.FractionalSeconds)return function Br(n,e){return Vr(n,3).substr(0,e)}(f,e);const _=Wt(c,de.MinusSign);return Vr(f,e,_,r,i)}}function $t(n,e,t=ne.Format,r=!1){return function(i,a){return function ms(n,e,t,r,i,a){switch(t){case bt.Months:return function Je(n,e,t){const r=(0,d.cg1)(n),a=Mn([r[d.wAp.MonthsFormat],r[d.wAp.MonthsStandalone]],e);return Mn(a,t)}(e,i,r)[n.getMonth()];case bt.Days:return function jt(n,e,t){const r=(0,d.cg1)(n),a=Mn([r[d.wAp.DaysFormat],r[d.wAp.DaysStandalone]],e);return Mn(a,t)}(e,i,r)[n.getDay()];case bt.DayPeriods:const c=n.getHours(),f=n.getMinutes();if(a){const E=function xi(n){const e=(0,d.cg1)(n);return gi(e),(e[d.wAp.ExtraData][2]||[]).map(r=>"string"==typeof r?lr(r):[lr(r[0]),lr(r[1])])}(e),I=function wt(n,e,t){const r=(0,d.cg1)(n);gi(r);const a=Mn([r[d.wAp.ExtraData][0],r[d.wAp.ExtraData][1]],e)||[];return Mn(a,t)||[]}(e,i,r),x=E.findIndex(F=>{if(Array.isArray(F)){const[B,j]=F,le=c>=B.hours&&f>=B.minutes,Te=c<j.hours||c===j.hours&&f<j.minutes;if(B.hours<j.hours){if(le&&Te)return!0}else if(le||Te)return!0}else if(F.hours===c&&F.minutes===f)return!0;return!1});if(-1!==x)return I[x]}return function Jt(n,e,t){const r=(0,d.cg1)(n),a=Mn([r[d.wAp.DayPeriodsFormat],r[d.wAp.DayPeriodsStandalone]],e);return Mn(a,t)}(e,i,r)[c<12?0:1];case bt.Eras:return function sn(n,e){return Mn((0,d.cg1)(n)[d.wAp.Eras],e)}(e,r)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${t}`)}}(i,a,n,e,t,r)}}function et(n){return function(e,t,r){const i=-1*r,a=Wt(t,de.MinusSign),c=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case Xt.Short:return(i>=0?"+":"")+Vr(c,2,a)+Vr(Math.abs(i%60),2,a);case Xt.ShortGMT:return"GMT"+(i>=0?"+":"")+Vr(c,1,a);case Xt.Long:return"GMT"+(i>=0?"+":"")+Vr(c,2,a)+":"+Vr(Math.abs(i%60),2,a);case Xt.Extended:return 0===r?"Z":(i>=0?"+":"")+Vr(c,2,a)+":"+Vr(Math.abs(i%60),2,a);default:throw new Error(`Unknown zone width "${n}"`)}}}function Ct(n){return Lr(n.getFullYear(),n.getMonth(),n.getDate()+(4-n.getDay()))}function Gt(n,e=!1){return function(t,r){let i;if(e){const a=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,c=t.getDate();i=1+Math.floor((c+a)/7)}else{const a=Ct(t),c=function kt(n){const e=Lr(n,0,1).getDay();return Lr(n,0,1+(e<=4?4:11)-e)}(a.getFullYear()),f=a.getTime()-c.getTime();i=1+Math.round(f/6048e5)}return Vr(i,n,Wt(r,de.MinusSign))}}function $(n,e=!1){return function(t,r){return Vr(Ct(t).getFullYear(),n,Wt(r,de.MinusSign),e)}}const U={};function we(n,e){n=n.replace(/:/g,"");const t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function nn(n){return n instanceof Date&&!isNaN(n.valueOf())}function ta(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,a]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(a)}return null}let ki=(()=>{class n{constructor(t,r,i,a){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=i,this._renderer=a,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&((0,d.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachChangedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachRemovedItem(r=>{r.previousValue&&this._toggleClass(r.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(r=>{if("string"!=typeof r.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,d.AaK)(r.item)}`);this._toggleClass(r.item,!0)}),t.forEachRemovedItem(r=>this._toggleClass(r.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!0)):Object.keys(t).forEach(r=>this._toggleClass(r,!!t[r])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!1)):Object.keys(t).forEach(r=>this._toggleClass(r,!1)))}_toggleClass(t,r){(t=t.trim())&&t.split(/\s+/g).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.ZZ4),d.Y36(d.aQg),d.Y36(d.SBq),d.Y36(d.Qsj))},n.\u0275dir=d.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class Gs{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let cr=(()=>{class n{constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,a,c)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new Gs(i.item,this._ngForOf,-1,-1),null===c?void 0:c);else if(null==c)r.remove(null===a?void 0:a);else if(null!==a){const f=r.get(a);r.move(f,c),_o(f,i)}});for(let i=0,a=r.length;i<a;i++){const f=r.get(i).context;f.index=i,f.count=a,f.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{_o(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.s_b),d.Y36(d.Rgc),d.Y36(d.ZZ4))},n.\u0275dir=d.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function _o(n,e){n.context.$implicit=e.item}let zn=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new yn,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Dl("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Dl("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.s_b),d.Y36(d.Rgc))},n.\u0275dir=d.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class yn{constructor(){this.$implicit=null,this.ngIf=null}}function Dl(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,d.AaK)(e)}'.`)}let Tl=(()=>{class n{constructor(t,r,i){this._ngEl=t,this._differs=r,this._renderer=i,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,r){const[i,a]=t.split(".");null!=(r=null!=r&&a?`${r}${a}`:r)?this._renderer.setStyle(this._ngEl.nativeElement,i,r):this._renderer.removeStyle(this._ngEl.nativeElement,i)}_applyChanges(t){t.forEachRemovedItem(r=>this._setStyle(r.key,null)),t.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),t.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.SBq),d.Y36(d.aQg),d.Y36(d.Qsj))},n.\u0275dir=d.lG2({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),n})();const rd=new d.OlP("DATE_PIPE_DEFAULT_TIMEZONE");let gf=(()=>{class n{constructor(t,r){this.locale=t,this.defaultTimezone=r}transform(t,r="mediumDate",i,a){var c;if(null==t||""===t||t!=t)return null;try{return Fr(t,r,a||this.locale,null!==(c=null!=i?i:this.defaultTimezone)&&void 0!==c?c:void 0)}catch(f){throw function Cr(n,e){return new d.vHH(2100,"")}()}}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.soG,16),d.Y36(rd,24))},n.\u0275pipe=d.Yjl({name:"date",type:n,pure:!0}),n})(),ci=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})();const vo="browser";function sa(n){return"server"===n}let Vc=(()=>{class n{}return n.\u0275prov=(0,d.Yz7)({token:n,providedIn:"root",factory:()=>new oa((0,d.LFG)(se),window)}),n})();class oa{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function es(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const a=i.shadowRoot;if(a){const c=a.getElementById(e)||a.querySelector(`[name="${e}"]`);if(c)return c}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,a=this.offset();this.window.scrollTo(r-a[0],i-a[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Bc(this.window.history)||Bc(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function Bc(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class gn{}class bo extends class Ha extends class me{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function oe(n){J||(J=n)}(new bo)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function $a(){return on=on||document.querySelector("base"),on?on.getAttribute("href"):null}();return null==t?null:function Zs(n){Al=Al||document.createElement("a"),Al.setAttribute("href",n);const e=Al.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){on=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return ta(document.cookie,e)}}let Al,on=null;const mr=new d.OlP("TRANSITION_ID"),xn=[{provide:d.ip1,useFactory:function Uc(n,e,t){return()=>{t.get(d.CZH).donePromise.then(()=>{const r=N(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let a=0;a<i.length;a++)r.remove(i[a])})}},deps:[mr,se,d.zs3],multi:!0}];class ts{static init(){(0,d.VLi)(new ts)}addToWindow(e){d.dqk.getAngularTestability=(r,i=!0)=>{const a=e.findTestabilityInTree(r,i);if(null==a)throw new Error("Could not find testability for element.");return a},d.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),d.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),d.dqk.frameworkStabilizers||(d.dqk.frameworkStabilizers=[]),d.dqk.frameworkStabilizers.push(r=>{const i=d.dqk.getAllAngularTestabilities();let a=i.length,c=!1;const f=function(_){c=c||_,a--,0==a&&r(c)};i.forEach(function(_){_.whenStable(f)})})}findTestabilityInTree(e,t,r){if(null==t)return null;const i=e.getTestability(t);return null!=i?i:r?N().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let _r=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const Eo=new d.OlP("EventManagerPlugins");let vs=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let a=0;a<i.length;a++){const c=i[a];if(c.supports(t))return this._eventNameToPlugin.set(t,c),c}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Eo),d.LFG(d.R0b))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();class Ga{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=N().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let Oi=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),ns=(()=>{class n extends Oi{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(a=>{const c=this._doc.createElement("style");c.textContent=a,i.push(r.appendChild(c))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(aa),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(aa))}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(se))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();function aa(n){N().remove(n)}const Et={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Ks=/%COMP%/g;function la(n,e,t){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?la(n,i,t):(i=i.replace(Ks,n),t.push(i))}return t}function xe(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let wo=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new Dn(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case d.ifc.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new yi(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case d.ifc.ShadowDom:return new Gc(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=la(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(vs),d.LFG(ns),d.LFG(d.AFp))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();class Dn{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(Et[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,r){e&&e.insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const a=Et[i];a?e.setAttributeNS(a,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=Et[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(d.JOm.DashCase|d.JOm.Important)?e.style.setProperty(t,r,i&d.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&d.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,xe(r)):this.eventManager.addEventListener(e,t,xe(r))}}class yi extends Dn{constructor(e,t,r,i){super(e),this.component=r;const a=la(i+"-"+r.id,r.styles,[]);t.addStyles(a),this.contentAttr=function xl(n){return"_ngcontent-%COMP%".replace(Ks,n)}(i+"-"+r.id),this.hostAttr=function $c(n){return"_nghost-%COMP%".replace(Ks,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class Gc extends Dn{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const a=la(i.id,i.styles,[]);for(let c=0;c<a.length;c++){const f=document.createElement("style");f.textContent=a[c],this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let zc=(()=>{class n extends Ga{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(se))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const qc=["alt","control","meta","shift"],Rg={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},bs={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Tr={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let vi=(()=>{class n extends Ga{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const a=n.parseEventName(r),c=n.eventCallback(a.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>N().onAndCancel(t,a.domEventName,c))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const a=n._normalizeKey(r.pop());let c="";if(qc.forEach(_=>{const E=r.indexOf(_);E>-1&&(r.splice(E,1),c+=_+".")}),c+=a,0!=r.length||0===a.length)return null;const f={};return f.domEventName=i,f.fullKey=c,f}static getEventFullKey(t){let r="",i=function kl(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&bs.hasOwnProperty(e)&&(e=bs[e]))}return Rg[e]||e}(t);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),qc.forEach(a=>{a!=i&&Tr[a](t)&&(r+=a+".")}),r+=i,r}static eventCallback(t,r,i){return a=>{n.getEventFullKey(a)===t&&i.runGuarded(()=>r(a))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(se))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const Pl=(0,d.eFA)(d._c5,"browser",[{provide:d.Lbi,useValue:vo},{provide:d.g9A,useValue:function Ys(){bo.makeCurrent(),ts.init()},multi:!0},{provide:se,useFactory:function Wc(){return(0,d.RDi)(document),document},deps:[]}]),Zc=[{provide:d.zSh,useValue:"root"},{provide:d.qLn,useFactory:function Pi(){return new d.qLn},deps:[]},{provide:Eo,useClass:zc,multi:!0,deps:[se,d.R0b,d.Lbi]},{provide:Eo,useClass:vi,multi:!0,deps:[se]},{provide:wo,useClass:wo,deps:[vs,ns,d.AFp]},{provide:d.FYo,useExisting:wo},{provide:Oi,useExisting:ns},{provide:ns,useClass:ns,deps:[se]},{provide:d.dDg,useClass:d.dDg,deps:[d.R0b]},{provide:vs,useClass:vs,deps:[Eo,d.R0b]},{provide:gn,useClass:_r,deps:[]}];let ca=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:d.AFp,useValue:t.appId},{provide:mr,useExisting:d.AFp},xn]}}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(n,12))},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:Zc,imports:[ci,d.hGG]}),n})();"undefined"!=typeof window&&window;var In=P(8996),Wa=P(3269);function ot(...n){const e=(0,Wa.yG)(n);return(0,In.D)(n,e)}var an=P(7579);class Ni extends an.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}var Tn=P(8306);const{isArray:Za}=Array,{getPrototypeOf:yd,prototype:ha,keys:Qs}=Object;function Bn(n){if(1===n.length){const e=n[0];if(Za(e))return{args:e,keys:null};if(function Xs(n){return n&&"object"==typeof n&&yd(n)===ha}(e)){const t=Qs(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var rs=P(4671),Dt=P(4004);const{isArray:vd}=Array;function jl(n){return(0,Dt.U)(e=>function bd(n,e){return vd(e)?n(...e):n(e)}(n,e))}function Ka(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}var qn=P(5403),is=P(9672);function Ya(...n){const e=(0,Wa.yG)(n),t=(0,Wa.jO)(n),{args:r,keys:i}=Bn(n);if(0===r.length)return(0,In.D)([],e);const a=new Tn.y(function Cs(n,e,t=rs.y){return r=>{Js(e,()=>{const{length:i}=n,a=new Array(i);let c=i,f=i;for(let _=0;_<i;_++)Js(e,()=>{const E=(0,In.D)(n[_],e);let I=!1;E.subscribe((0,qn.x)(r,x=>{a[_]=x,I||(I=!0,f--),f||r.next(t(a.slice()))},()=>{--c||r.complete()}))},r)},r)}}(r,e,i?c=>Ka(i,c):rs.y));return t?a.pipe(jl(t)):a}function Js(n,e,t){n?(0,is.f)(t,n,e):e()}var Sr=P(576);function fa(n,e){const t=(0,Sr.m)(n)?n:()=>n,r=i=>i.error(t());return new Tn.y(e?i=>e.schedule(r,0,i):r)}const Ao=(0,P(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Mo=P(8189);function ga(...n){return function pa(){return(0,Mo.J)(1)}()((0,In.D)(n,(0,Wa.yG)(n)))}var eo=P(8421);function Xa(n){return new Tn.y(e=>{(0,eo.Xf)(n()).subscribe(e)})}var bi=P(515),ss=P(727),Un=P(4482);function Yc(){return(0,Un.e)((n,e)=>{let t=null;n._refCount++;const r=(0,qn.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,a=t;t=null,i&&(!a||i===a)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class Hr extends Tn.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,Un.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new ss.w0;const t=this.getSubject();e.add(this.source.subscribe((0,qn.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=ss.w0.EMPTY)}return e}refCount(){return Yc()(this)}}function jn(n,e){return(0,Un.e)((t,r)=>{let i=null,a=0,c=!1;const f=()=>c&&!i&&r.complete();t.subscribe((0,qn.x)(r,_=>{null==i||i.unsubscribe();let E=0;const I=a++;(0,eo.Xf)(n(_,I)).subscribe(i=(0,qn.x)(r,x=>r.next(e?e(_,x,I,E++):x),()=>{i=null,f()}))},()=>{c=!0,f()}))})}function Fi(n){return n<=0?()=>bi.E:(0,Un.e)((e,t)=>{let r=0;e.subscribe((0,qn.x)(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function Ei(...n){const e=(0,Wa.yG)(n);return(0,Un.e)((t,r)=>{(e?ga(n,t,e):ga(n,t)).subscribe(r)})}function to(n,e,t,r,i){return(a,c)=>{let f=t,_=e,E=0;a.subscribe((0,qn.x)(c,I=>{const x=E++;_=f?n(_,I,x):(f=!0,I),r&&c.next(_)},i&&(()=>{f&&c.next(_),c.complete()})))}}function Li(n,e){return(0,Un.e)(to(n,e,arguments.length>=2,!0))}function ln(n,e){return(0,Un.e)((t,r)=>{let i=0;t.subscribe((0,qn.x)(r,a=>n.call(e,a,i++)&&r.next(a)))})}function $r(n){return(0,Un.e)((e,t)=>{let a,r=null,i=!1;r=e.subscribe((0,qn.x)(t,void 0,void 0,c=>{a=(0,eo.Xf)(n(c,$r(n)(e))),r?(r.unsubscribe(),r=null,a.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,a.subscribe(t))})}var ir=P(5577);function Vi(n,e){return(0,Sr.m)(e)?(0,ir.z)(n,e,1):(0,ir.z)(n,1)}function Ed(n){return n<=0?()=>bi.E:(0,Un.e)((e,t)=>{let r=[];e.subscribe((0,qn.x)(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Qc(n=Rn){return(0,Un.e)((e,t)=>{let r=!1;e.subscribe((0,qn.x)(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function Rn(){return new Ao}function wd(n){return(0,Un.e)((e,t)=>{let r=!1;e.subscribe((0,qn.x)(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function Ja(n,e){const t=arguments.length>=2;return r=>r.pipe(n?ln((i,a)=>n(i,a,r)):rs.y,Fi(1),t?wd(e):Qc(()=>new Ao))}var Bi=P(8505);class xo{constructor(e,t){this.id=e,this.url=t}}class bf extends xo{constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ds extends xo{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Dd extends xo{constructor(e,t,r){super(e,t),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Hn extends xo{constructor(e,t,r){super(e,t),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class ma extends xo{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class el extends xo{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Id extends xo{constructor(e,t,r,i,a){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=a}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Ef extends xo{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Gr extends xo{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class zr{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class tl{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Xc{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ro{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class _a{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ko{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Hl{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const zt="primary";class Td{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Is(n){return new Td(n)}const sr="ngNavigationCancelingError";function no(n){const e=Error("NavigationCancelingError: "+n);return e[sr]=!0,e}function Sd(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let a=0;a<r.length;a++){const c=r[a],f=n[a];if(c.startsWith(":"))i[c.substring(1)]=f;else if(c!==f.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Ts(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let a=0;a<t.length;a++)if(i=t[a],!Jc(n[i],e[i]))return!1;return!0}function Jc(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,a)=>r[a]===i)}return n===e}function wf(n){return Array.prototype.concat.apply([],n)}function $l(n){return n.length>0?n[n.length-1]:null}function Sn(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function dr(n){return(0,d.CqO)(n)?n:(0,d.QGY)(n)?(0,In.D)(Promise.resolve(n)):ot(n)}const Lg={exact:function Cf(n,e,t){if(!V(n.segments,e.segments)||!Wl(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!Cf(n.children[r],e.children[r],t))return!1;return!0},subset:zl},qr={exact:function wi(n,e){return Ts(n,e)},subset:function Md(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Jc(n[t],e[t]))},ignored:()=>!0};function va(n,e,t){return Lg[t.paths](n.root,e.root,t.matrixParams)&&qr[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function zl(n,e,t){return ql(n,e,e.segments,t)}function ql(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!V(i,t)||e.hasChildren()||!Wl(i,t,r))}if(n.segments.length===t.length){if(!V(n.segments,t)||!Wl(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!zl(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),a=t.slice(n.segments.length);return!!(V(n.segments,i)&&Wl(n.segments,i,r)&&n.children[zt])&&ql(n.children[zt],e,a,r)}}function Wl(n,e,t){return e.every((r,i)=>qr[t](n[i].parameters,r.parameters))}class os{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Is(this.queryParams)),this._queryParamMap}toString(){return Ge.serialize(this)}}class C{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Sn(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ut(this)}}class T{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Is(this.parameters)),this._parameterMap}toString(){return as(this)}}function V(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}class ie{}class Ae{parse(e){const t=new Vg(e);return new os(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${It(e.root,!0)}`,r=function nl(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${at(t)}=${at(i)}`).join("&"):`${at(t)}=${at(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function Wn(n){return encodeURI(n)}(e.fragment)}`:""}`}}const Ge=new Ae;function ut(n){return n.segments.map(e=>as(e)).join("/")}function It(n,e){if(!n.hasChildren())return ut(n);if(e){const t=n.children[zt]?It(n.children[zt],!1):"",r=[];return Sn(n.children,(i,a)=>{a!==zt&&r.push(`${a}:${It(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function Q(n,e){let t=[];return Sn(n.children,(r,i)=>{i===zt&&(t=t.concat(e(r,i)))}),Sn(n.children,(r,i)=>{i!==zt&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===zt?[It(n.children[zt],!1)]:[`${i}:${It(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[zt]?`${ut(n)}/${t[0]}`:`${ut(n)}/(${t.join("//")})`}}function Ot(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function at(n){return Ot(n).replace(/%3B/gi,";")}function Zn(n){return Ot(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function io(n){return decodeURIComponent(n)}function so(n){return io(n.replace(/\+/g,"%20"))}function as(n){return`${Zn(n.path)}${function Zl(n){return Object.keys(n).map(e=>`;${Zn(e)}=${Zn(n[e])}`).join("")}(n.parameters)}`}const Oo=/^[^\/()?;=#]+/;function ls(n){const e=n.match(Oo);return e?e[0]:""}const Ui=/^[^=?&#]+/,Df=/^[^&#]+/;class Vg{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new C([],{}):new C([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[zt]=new C(e,t)),r}parseSegment(){const e=ls(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new T(io(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=ls(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=ls(this.remaining);i&&(r=i,this.capture(r))}e[io(t)]=io(r)}parseQueryParam(e){const t=function ba(n){const e=n.match(Ui);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const c=function O0(n){const e=n.match(Df);return e?e[0]:""}(this.remaining);c&&(r=c,this.capture(r))}const i=so(t),a=so(r);if(e.hasOwnProperty(i)){let c=e[i];Array.isArray(c)||(c=[c],e[i]=c),c.push(a)}else e[i]=a}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=ls(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let a;r.indexOf(":")>-1?(a=r.substr(0,r.indexOf(":")),this.capture(a),this.capture(":")):e&&(a=zt);const c=this.parseChildren();t[a]=1===Object.keys(c).length?c[zt]:new C([],c),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class If{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Bg(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=Bg(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Kl(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Kl(e,this._root).map(t=>t.value)}}function Bg(n,e){if(n===e.value)return e;for(const t of e.children){const r=Bg(n,t);if(r)return r}return null}function Kl(n,e){if(n===e.value)return[e];for(const t of e.children){const r=Kl(n,t);if(r.length)return r.unshift(e),r}return[]}class Po{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Yl(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class eu extends If{constructor(e,t){super(e),this.snapshot=t,kd(this,e)}toString(){return this.snapshot.toString()}}function xd(n,e){const t=function Ql(n,e){const c=new No([],{},{},"",{},zt,e,null,n.root,-1,{});return new Rd("",new Po(c,[]))}(n,e),r=new Ni([new T("",{})]),i=new Ni({}),a=new Ni({}),c=new Ni({}),f=new Ni(""),_=new Xl(r,i,c,f,a,zt,e,t.root);return _.snapshot=t.root,new eu(new Po(_,[]),t)}class Xl{constructor(e,t,r,i,a,c,f,_){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=a,this.outlet=c,this.component=f,this._futureSnapshot=_}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Dt.U)(e=>Is(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Dt.U)(e=>Is(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Ug(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],a=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(a.component)break;r--}}return function P0(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(r))}class No{constructor(e,t,r,i,a,c,f,_,E,I,x){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=a,this.outlet=c,this.component=f,this.routeConfig=_,this._urlSegment=E,this._lastPathIndex=I,this._resolve=x}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Is(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Is(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Rd extends If{constructor(e,t){super(t),this.url=e,kd(this,t)}toString(){return Tf(this._root)}}function kd(n,e){e.value._routerState=n,e.children.forEach(t=>kd(n,t))}function Tf(n){const e=n.children.length>0?` { ${n.children.map(Tf).join(", ")} } `:"";return`${n.value}${e}`}function Od(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Ts(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Ts(e.params,t.params)||n.params.next(t.params),function ya(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Ts(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Ts(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Pd(n,e){const t=Ts(n.params,e.params)&&function R(n,e){return V(n,e)&&n.every((t,r)=>Ts(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||Pd(n.parent,e.parent))}function tu(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function py(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return tu(n,r,i);return tu(n,r)})}(n,e,t);return new Po(r,i)}{if(n.shouldAttach(e.value)){const a=n.retrieve(e.value);if(null!==a){const c=a.route;return c.value._futureSnapshot=e.value,c.children=e.children.map(f=>tu(n,f)),c}}const r=function gy(n){return new Xl(new Ni(n.url),new Ni(n.params),new Ni(n.queryParams),new Ni(n.fragment),new Ni(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(a=>tu(n,a));return new Po(r,i)}}function ji(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Fo(n){return"object"==typeof n&&null!=n&&n.outlets}function nu(n,e,t,r,i){let a={};if(r&&Sn(r,(f,_)=>{a[_]=Array.isArray(f)?f.map(E=>`${E}`):`${f}`}),n===e)return new os(t,a,i);const c=_y(n,e,t);return new os(c,a,i)}function _y(n,e,t){const r={};return Sn(n.children,(i,a)=>{r[a]=i===e?t:_y(i,e,t)}),new C(n.segments,r)}class Hg{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&ji(r[0]))throw new Error("Root segment cannot have matrix parameters");const i=r.find(Fo);if(i&&i!==$l(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Nd{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function Gg(n,e,t){if(n||(n=new C([],{})),0===n.segments.length&&n.hasChildren())return Fd(n,e,t);const r=function yy(n,e,t){let r=0,i=e;const a={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return a;const c=n.segments[i],f=t[r];if(Fo(f))break;const _=`${f}`,E=r<t.length-1?t[r+1]:null;if(i>0&&void 0===_)break;if(_&&E&&"object"==typeof E&&void 0===E.outlets){if(!Af(_,E,c))return a;r+=2}else{if(!Af(_,{},c))return a;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const a=new C(n.segments.slice(0,r.pathIndex),{});return a.children[zt]=new C(n.segments.slice(r.pathIndex),n.children),Fd(a,0,i)}return r.match&&0===i.length?new C(n.segments,{}):r.match&&!n.hasChildren()?zg(n,e,t):r.match?Fd(n,0,i):zg(n,e,t)}function Fd(n,e,t){if(0===t.length)return new C(n.segments,{});{const r=function $g(n){return Fo(n[0])?n[0].outlets:{[zt]:n}}(t),i={};return Sn(r,(a,c)=>{"string"==typeof a&&(a=[a]),null!==a&&(i[c]=Gg(n.children[c],e,a))}),Sn(n.children,(a,c)=>{void 0===r[c]&&(i[c]=a)}),new C(n.segments,i)}}function zg(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const a=t[i];if(Fo(a)){const _=vy(a.outlets);return new C(r,_)}if(0===i&&ji(t[0])){r.push(new T(n.segments[e].path,Jl(t[0]))),i++;continue}const c=Fo(a)?a.outlets[zt]:`${a}`,f=i<t.length-1?t[i+1]:null;c&&f&&ji(f)?(r.push(new T(c,Jl(f))),i+=2):(r.push(new T(c,{})),i++)}return new C(r,{})}function vy(n){const e={};return Sn(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=zg(new C([],{}),0,t))}),e}function Jl(n){const e={};return Sn(n,(t,r)=>e[r]=`${t}`),e}function Af(n,e,t){return n==t.path&&Ts(e,t.parameters)}class Ss{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Od(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=Yl(t);e.children.forEach(a=>{const c=a.value.outlet;this.deactivateRoutes(a,i[c],r),delete i[c]}),Sn(i,(a,c)=>{this.deactivateRouteAndItsChildren(a,r)})}deactivateRoutes(e,t,r){const i=e.value,a=t?t.value:null;if(i===a)if(i.component){const c=r.getContext(i.outlet);c&&this.deactivateChildRoutes(e,t,c.children)}else this.deactivateChildRoutes(e,t,r);else a&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,a=Yl(e);for(const c of Object.keys(a))this.deactivateRouteAndItsChildren(a[c],i);if(r&&r.outlet){const c=r.outlet.detach(),f=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:c,route:e,contexts:f})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,a=Yl(e);for(const c of Object.keys(a))this.deactivateRouteAndItsChildren(a[c],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=Yl(t);e.children.forEach(a=>{this.activateRoutes(a,i[a.value.outlet],r),this.forwardEvent(new ko(a.value.snapshot))}),e.children.length&&this.forwardEvent(new Ro(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,a=t?t.value:null;if(Od(i),i===a)if(i.component){const c=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,c.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const c=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const f=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),c.children.onOutletReAttached(f.contexts),c.attachRef=f.componentRef,c.route=f.route.value,c.outlet&&c.outlet.attach(f.componentRef,f.route.value),Od(f.route.value),this.activateChildRoutes(e,null,c.children)}else{const f=function qg(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(i.snapshot),_=f?f.module.componentFactoryResolver:null;c.attachRef=null,c.route=i,c.resolver=_,c.outlet&&c.outlet.activateWith(i,_),this.activateChildRoutes(e,null,c.children)}}else this.activateChildRoutes(e,null,r)}}class Ld{constructor(e,t){this.routes=e,this.module=t}}function As(n){return"function"==typeof n}function Ea(n){return n instanceof os}const Vd=Symbol("INITIAL_VALUE");function ec(){return jn(n=>Ya(n.map(e=>e.pipe(Fi(1),Ei(Vd)))).pipe(Li((e,t)=>{let r=!1;return t.reduce((i,a,c)=>i!==Vd?i:(a===Vd&&(r=!0),r||!1!==a&&c!==t.length-1&&!Ea(a)?i:a),e)},Vd),ln(e=>e!==Vd),(0,Dt.U)(e=>Ea(e)?e:!0===e),Fi(1)))}class Wg{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new iu,this.attachRef=null}}class iu{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const r=this.getOrCreateContext(e);r.outlet=t,this.contexts.set(e,r)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new Wg,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}let Rf=(()=>{class n{constructor(t,r,i,a,c){this.parentContexts=t,this.location=r,this.resolver=i,this.changeDetector=c,this.activated=null,this._activatedRoute=null,this.activateEvents=new d.vpe,this.deactivateEvents=new d.vpe,this.attachEvents=new d.vpe,this.detachEvents=new d.vpe,this.name=a||zt,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const c=(r=r||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),f=this.parentContexts.getOrCreateContext(this.name).children,_=new by(t,f,this.location.injector);this.activated=this.location.createComponent(c,this.location.length,_),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(iu),d.Y36(d.s_b),d.Y36(d._Vd),d.$8M("name"),d.Y36(d.sBO))},n.\u0275dir=d.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class by{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Xl?this.route:e===iu?this.childContexts:this.parent.get(e,t)}}let Zg=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,r){1&t&&d._UZ(0,"router-outlet")},directives:[Rf],encapsulation:2}),n})();function Bd(n,e=""){for(let t=0;t<n.length;t++){const r=n[t];tc(r,Ey(e,r))}}function tc(n,e){n.children&&Bd(n.children,e)}function Ey(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function su(n){const e=n.children&&n.children.map(su),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==zt&&(t.component=Zg),t}function Ci(n){return n.outlet||zt}function Pn(n,e){const t=n.filter(r=>Ci(r)===e);return t.push(...n.filter(r=>Ci(r)!==e)),t}const Kg={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Ud(n,e,t){var r;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},Kg):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const a=(e.matcher||Sd)(t,n,e);if(!a)return Object.assign({},Kg);const c={};Sn(a.posParams,(_,E)=>{c[E]=_.path});const f=a.consumed.length>0?Object.assign(Object.assign({},c),a.consumed[a.consumed.length-1].parameters):c;return{matched:!0,consumedSegments:a.consumed,remainingSegments:t.slice(a.consumed.length),parameters:f,positionalParamSegments:null!==(r=a.posParams)&&void 0!==r?r:{}}}function Vo(n,e,t,r,i="corrected"){if(t.length>0&&function Cy(n,e,t){return t.some(r=>jd(n,e,r)&&Ci(r)!==zt)}(n,t,r)){const c=new C(e,function wy(n,e,t,r){const i={};i[zt]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const a of t)if(""===a.path&&Ci(a)!==zt){const c=new C([],{});c._sourceSegment=n,c._segmentIndexShift=e.length,i[Ci(a)]=c}return i}(n,e,r,new C(t,n.children)));return c._sourceSegment=n,c._segmentIndexShift=e.length,{segmentGroup:c,slicedSegments:[]}}if(0===t.length&&function Qg(n,e,t){return t.some(r=>jd(n,e,r))}(n,t,r)){const c=new C(n.segments,function Yg(n,e,t,r,i,a){const c={};for(const f of r)if(jd(n,t,f)&&!i[Ci(f)]){const _=new C([],{});_._sourceSegment=n,_._segmentIndexShift="legacy"===a?n.segments.length:e.length,c[Ci(f)]=_}return Object.assign(Object.assign({},i),c)}(n,e,t,r,n.children,i));return c._sourceSegment=n,c._segmentIndexShift=e.length,{segmentGroup:c,slicedSegments:t}}const a=new C(n.segments,n.children);return a._sourceSegment=n,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:t}}function jd(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function Xg(n,e,t,r){return!!(Ci(n)===r||r!==zt&&jd(e,t,n))&&("**"===n.path||Ud(e,n,t).matched)}function Dy(n,e,t){return 0===e.length&&!n.children[t]}class kf{constructor(e){this.segmentGroup=e||null}}class oo{constructor(e){this.urlTree=e}}function hr(n){return fa(new kf(n))}function ou(n){return fa(new oo(n))}class au{constructor(e,t,r,i,a){this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=a,this.allowRedirects=!0,this.ngModule=e.get(d.h0i)}apply(){const e=Vo(this.urlTree.root,[],[],this.config).segmentGroup,t=new C(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,zt).pipe((0,Dt.U)(a=>this.createUrlTree(lu(a),this.urlTree.queryParams,this.urlTree.fragment))).pipe($r(a=>{if(a instanceof oo)return this.allowRedirects=!1,this.match(a.urlTree);throw a instanceof kf?this.noMatchError(a):a}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,zt).pipe((0,Dt.U)(i=>this.createUrlTree(lu(i),e.queryParams,e.fragment))).pipe($r(i=>{throw i instanceof kf?this.noMatchError(i):i}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,r){const i=e.segments.length>0?new C([],{[zt]:e}):e;return new os(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,Dt.U)(a=>new C([],a))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const a of Object.keys(r.children))"primary"===a?i.unshift(a):i.push(a);return(0,In.D)(i).pipe(Vi(a=>{const c=r.children[a],f=Pn(t,a);return this.expandSegmentGroup(e,f,c,a).pipe((0,Dt.U)(_=>({segment:_,outlet:a})))}),Li((a,c)=>(a[c.outlet]=c.segment,a),{}),function Cd(n,e){const t=arguments.length>=2;return r=>r.pipe(n?ln((i,a)=>n(i,a,r)):rs.y,Ed(1),t?wd(e):Qc(()=>new Ao))}())}expandSegment(e,t,r,i,a,c){return(0,In.D)(r).pipe(Vi(f=>this.expandSegmentAgainstRoute(e,t,r,f,i,a,c).pipe($r(E=>{if(E instanceof kf)return ot(null);throw E}))),Ja(f=>!!f),$r((f,_)=>{if(f instanceof Ao||"EmptyError"===f.name)return Dy(t,i,a)?ot(new C([],{})):hr(t);throw f}))}expandSegmentAgainstRoute(e,t,r,i,a,c,f){return Xg(i,t,a,c)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,a,c):f&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,a,c):hr(t):hr(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,a,c){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,c):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,a,c)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const a=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?ou(a):this.lineralizeSegments(r,a).pipe((0,ir.z)(c=>{const f=new C(c,{});return this.expandSegment(e,f,t,c,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,a,c){const{matched:f,consumedSegments:_,remainingSegments:E,positionalParamSegments:I}=Ud(t,i,a);if(!f)return hr(t);const x=this.applyRedirectCommands(_,i.redirectTo,I);return i.redirectTo.startsWith("/")?ou(x):this.lineralizeSegments(i,x).pipe((0,ir.z)(F=>this.expandSegment(e,t,r,F.concat(E),c,!1)))}matchSegmentAgainstRoute(e,t,r,i,a){if("**"===r.path)return r.loadChildren?(r._loadedConfig?ot(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe((0,Dt.U)(x=>(r._loadedConfig=x,new C(i,{})))):ot(new C(i,{}));const{matched:c,consumedSegments:f,remainingSegments:_}=Ud(t,r,i);return c?this.getChildConfig(e,r,i).pipe((0,ir.z)(I=>{const x=I.module,F=I.routes,{segmentGroup:B,slicedSegments:j}=Vo(t,f,_,F),le=new C(B.segments,B.children);if(0===j.length&&le.hasChildren())return this.expandChildren(x,F,le).pipe((0,Dt.U)(pt=>new C(f,pt)));if(0===F.length&&0===j.length)return ot(new C(f,{}));const Te=Ci(r)===a;return this.expandSegment(x,le,F,j,Te?zt:a,!0).pipe((0,Dt.U)(st=>new C(f.concat(st.segments),st.children)))})):hr(t)}getChildConfig(e,t,r){return t.children?ot(new Ld(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?ot(t._loadedConfig):this.runCanLoadGuards(e.injector,t,r).pipe((0,ir.z)(i=>i?this.configLoader.load(e.injector,t).pipe((0,Dt.U)(a=>(t._loadedConfig=a,a))):function em(n){return fa(no(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))}(t))):ot(new Ld([],e))}runCanLoadGuards(e,t,r){const i=t.canLoad;return i&&0!==i.length?ot(i.map(c=>{const f=e.get(c);let _;if(function V0(n){return n&&As(n.canLoad)}(f))_=f.canLoad(t,r);else{if(!As(f))throw new Error("Invalid CanLoad guard");_=f(t,r)}return dr(_)})).pipe(ec(),(0,Bi.b)(c=>{if(!Ea(c))return;const f=no(`Redirecting to "${this.urlSerializer.serialize(c)}"`);throw f.url=c,f}),(0,Dt.U)(c=>!0===c)):ot(!0)}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return ot(r);if(i.numberOfChildren>1||!i.children[zt])return fa(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e.redirectTo}'`));i=i.children[zt]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreatreUrlTree(e,t,r,i){const a=this.createSegmentGroup(e,t.root,r,i);return new os(a,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Sn(e,(i,a)=>{if("string"==typeof i&&i.startsWith(":")){const f=i.substring(1);r[a]=t[f]}else r[a]=i}),r}createSegmentGroup(e,t,r,i){const a=this.createSegments(e,t.segments,r,i);let c={};return Sn(t.children,(f,_)=>{c[_]=this.createSegmentGroup(e,f,r,i)}),new C(a,c)}createSegments(e,t,r,i){return t.map(a=>a.path.startsWith(":")?this.findPosParam(e,a,i):this.findOrReturn(a,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}function lu(n){const e={};for(const r of Object.keys(n.children)){const a=lu(n.children[r]);(a.segments.length>0||a.hasChildren())&&(e[r]=a)}return function Hd(n){if(1===n.numberOfChildren&&n.children[zt]){const e=n.children[zt];return new C(n.segments.concat(e.segments),e.children)}return n}(new C(n.segments,e))}class $d{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Gd{constructor(e,t){this.component=e,this.route=t}}function zd(n,e,t){const r=n._root;return nc(r,e?e._root:null,t,[r.value])}function Ar(n,e,t){const r=function cu(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:t).get(n)}function nc(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=Yl(e);return n.children.forEach(c=>{(function Pf(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=n.value,c=e?e.value:null,f=t?t.getContext(n.value.outlet):null;if(c&&a.routeConfig===c.routeConfig){const _=function Nf(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!V(n.url,e.url);case"pathParamsOrQueryParamsChange":return!V(n.url,e.url)||!Ts(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Pd(n,e)||!Ts(n.queryParams,e.queryParams);default:return!Pd(n,e)}}(c,a,a.routeConfig.runGuardsAndResolvers);_?i.canActivateChecks.push(new $d(r)):(a.data=c.data,a._resolvedData=c._resolvedData),nc(n,e,a.component?f?f.children:null:t,r,i),_&&f&&f.outlet&&f.outlet.isActivated&&i.canDeactivateChecks.push(new Gd(f.outlet.component,c))}else c&&rl(e,f,i),i.canActivateChecks.push(new $d(r)),nc(n,null,a.component?f?f.children:null:t,r,i)})(c,a[c.value.outlet],t,r.concat([c.value]),i),delete a[c.value.outlet]}),Sn(a,(c,f)=>rl(c,t.getContext(f),i)),i}function rl(n,e,t){const r=Yl(n),i=n.value;Sn(r,(a,c)=>{rl(a,i.component?e?e.children.getContext(c):null:e,t)}),t.canDeactivateChecks.push(new Gd(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class rm{}function Zr(n){return new Tn.y(e=>e.error(n))}class Vf{constructor(e,t,r,i,a,c){this.rootComponentType=e,this.config=t,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=a,this.relativeLinkResolution=c}recognize(){const e=Vo(this.urlTree.root,[],[],this.config.filter(c=>void 0===c.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,zt);if(null===t)return null;const r=new No([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},zt,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Po(r,t),a=new Rd(this.url,i);return this.inheritParamsAndData(a._root),a}inheritParamsAndData(e){const t=e.value,r=Ug(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,r)}processChildren(e,t){const r=[];for(const a of Object.keys(t.children)){const c=t.children[a],f=Pn(e,a),_=this.processSegmentGroup(f,c,a);if(null===_)return null;r.push(..._)}const i=Bf(r);return function xy(n){n.sort((e,t)=>e.value.outlet===zt?-1:t.value.outlet===zt?1:e.value.outlet.localeCompare(t.value.outlet))}(i),i}processSegment(e,t,r,i){for(const a of e){const c=this.processSegmentAgainstRoute(a,t,r,i);if(null!==c)return c}return Dy(t,r,i)?[]:null}processSegmentAgainstRoute(e,t,r,i){if(e.redirectTo||!Xg(e,t,r,i))return null;let a,c=[],f=[];if("**"===e.path){const B=r.length>0?$l(r).parameters:{};a=new No(r,B,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,xs(e),Ci(e),e.component,e,im(t),Uo(t)+r.length,ky(e))}else{const B=Ud(t,e,r);if(!B.matched)return null;c=B.consumedSegments,f=B.remainingSegments,a=new No(c,B.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,xs(e),Ci(e),e.component,e,im(t),Uo(t)+c.length,ky(e))}const _=function Bo(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(e),{segmentGroup:E,slicedSegments:I}=Vo(t,c,f,_.filter(B=>void 0===B.redirectTo),this.relativeLinkResolution);if(0===I.length&&E.hasChildren()){const B=this.processChildren(_,E);return null===B?null:[new Po(a,B)]}if(0===_.length&&0===I.length)return[new Po(a,[])];const x=Ci(e)===i,F=this.processSegment(_,E,I,x?zt:i);return null===F?null:[new Po(a,F)]}}function uu(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function Bf(n){const e=[],t=new Set;for(const r of n){if(!uu(r)){e.push(r);continue}const i=e.find(a=>r.value.routeConfig===a.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=Bf(r.children);e.push(new Po(r.value,i))}return e.filter(r=>!t.has(r))}function im(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Uo(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function xs(n){return n.data||{}}function ky(n){return n.resolve||{}}function g(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function S(n){return jn(e=>{const t=n(e);return t?(0,In.D)(t).pipe((0,Dt.U)(()=>e)):ot(e)})}class he extends class W{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const Le=new d.OlP("ROUTES");class Qe{constructor(e,t,r,i){this.injector=e,this.compiler=t,this.onLoadStartListener=r,this.onLoadEndListener=i}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const i=this.loadModuleFactory(t.loadChildren).pipe((0,Dt.U)(a=>{this.onLoadEndListener&&this.onLoadEndListener(t);const c=a.create(e);return new Ld(wf(c.injector.get(Le,void 0,d.XFs.Self|d.XFs.Optional)).map(su),c)}),$r(a=>{throw t._loader$=void 0,a}));return t._loader$=new Hr(i,()=>new an.x).pipe(Yc()),t._loader$}loadModuleFactory(e){return dr(e()).pipe((0,ir.z)(t=>t instanceof d.YKP?ot(t):(0,In.D)(this.compiler.compileModuleAsync(t))))}}class mt{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function yr(n){throw n}function Kr(n,e,t){return e.parse("/")}function il(n,e){return ot(null)}const Uf={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},jf={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let or=(()=>{class n{constructor(t,r,i,a,c,f,_){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=i,this.location=a,this.config=_,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new an.x,this.errorHandler=yr,this.malformedUriErrorHandler=Kr,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:il,afterPreactivation:il},this.urlHandlingStrategy=new mt,this.routeReuseStrategy=new he,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=c.get(d.h0i),this.console=c.get(d.c2e);const x=c.get(d.R0b);this.isNgZoneEnabled=x instanceof d.R0b&&d.R0b.isInAngularZone(),this.resetConfig(_),this.currentUrlTree=function Gl(){return new os(new C([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Qe(c,f,F=>this.triggerEvent(new zr(F)),F=>this.triggerEvent(new tl(F))),this.routerState=xd(this.currentUrlTree,this.rootComponentType),this.transitions=new Ni({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(ln(i=>0!==i.id),(0,Dt.U)(i=>Object.assign(Object.assign({},i),{extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),jn(i=>{let a=!1,c=!1;return ot(i).pipe((0,Bi.b)(f=>{this.currentNavigation={id:f.id,initialUrl:f.currentRawUrl,extractedUrl:f.extractedUrl,trigger:f.source,extras:f.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),jn(f=>{const _=this.browserUrlTree.toString(),E=!this.navigated||f.extractedUrl.toString()!==_||_!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||E)&&this.urlHandlingStrategy.shouldProcessUrl(f.rawUrl))return qd(f.source)&&(this.browserUrlTree=f.extractedUrl),ot(f).pipe(jn(x=>{const F=this.transitions.getValue();return r.next(new bf(x.id,this.serializeUrl(x.extractedUrl),x.source,x.restoredState)),F!==this.transitions.getValue()?bi.E:Promise.resolve(x)}),function Of(n,e,t,r){return jn(i=>function Wr(n,e,t,r,i){return new au(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe((0,Dt.U)(a=>Object.assign(Object.assign({},i),{urlAfterRedirects:a}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Bi.b)(x=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:x.urlAfterRedirects})}),function B0(n,e,t,r,i){return(0,ir.z)(a=>function Lf(n,e,t,r,i="emptyOnly",a="legacy"){try{const c=new Vf(n,e,t,r,i,a).recognize();return null===c?Zr(new rm):ot(c)}catch(c){return Zr(c)}}(n,e,a.urlAfterRedirects,t(a.urlAfterRedirects),r,i).pipe((0,Dt.U)(c=>Object.assign(Object.assign({},a),{targetSnapshot:c}))))}(this.rootComponentType,this.config,x=>this.serializeUrl(x),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Bi.b)(x=>{if("eager"===this.urlUpdateStrategy){if(!x.extras.skipLocationChange){const B=this.urlHandlingStrategy.merge(x.urlAfterRedirects,x.rawUrl);this.setBrowserUrl(B,x)}this.browserUrlTree=x.urlAfterRedirects}const F=new ma(x.id,this.serializeUrl(x.extractedUrl),this.serializeUrl(x.urlAfterRedirects),x.targetSnapshot);r.next(F)}));if(E&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:F,extractedUrl:B,source:j,restoredState:le,extras:Te}=f,qe=new bf(F,this.serializeUrl(B),j,le);r.next(qe);const st=xd(B,this.rootComponentType).snapshot;return ot(Object.assign(Object.assign({},f),{targetSnapshot:st,urlAfterRedirects:B,extras:Object.assign(Object.assign({},Te),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=f.rawUrl,f.resolve(null),bi.E}),S(f=>{const{targetSnapshot:_,id:E,extractedUrl:I,rawUrl:x,extras:{skipLocationChange:F,replaceUrl:B}}=f;return this.hooks.beforePreactivation(_,{navigationId:E,appliedUrlTree:I,rawUrlTree:x,skipLocationChange:!!F,replaceUrl:!!B})}),(0,Bi.b)(f=>{const _=new el(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot);this.triggerEvent(_)}),(0,Dt.U)(f=>Object.assign(Object.assign({},f),{guards:zd(f.targetSnapshot,f.currentSnapshot,this.rootContexts)})),function Ff(n,e){return(0,ir.z)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:a,canDeactivateChecks:c}}=t;return 0===c.length&&0===a.length?ot(Object.assign(Object.assign({},t),{guardsResult:!0})):function tm(n,e,t,r){return(0,In.D)(n).pipe((0,ir.z)(i=>function My(n,e,t,r,i){const a=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return a&&0!==a.length?ot(a.map(f=>{const _=Ar(f,e,i);let E;if(function xf(n){return n&&As(n.canDeactivate)}(_))E=dr(_.canDeactivate(n,e,t,r));else{if(!As(_))throw new Error("Invalid CanDeactivate guard");E=dr(_(n,e,t,r))}return E.pipe(Ja())})).pipe(ec()):ot(!0)}(i.component,i.route,t,e,r)),Ja(i=>!0!==i,!0))}(c,r,i,n).pipe((0,ir.z)(f=>f&&function L0(n){return"boolean"==typeof n}(f)?function Ty(n,e,t,r){return(0,In.D)(e).pipe(Vi(i=>ga(function nm(n,e){return null!==n&&e&&e(new Xc(n)),ot(!0)}(i.route.parent,r),function Ms(n,e){return null!==n&&e&&e(new _a(n)),ot(!0)}(i.route,r),function Ay(n,e,t){const r=e[e.length-1],a=e.slice(0,e.length-1).reverse().map(c=>function Iy(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(c)).filter(c=>null!==c).map(c=>Xa(()=>ot(c.guards.map(_=>{const E=Ar(_,c.node,t);let I;if(function ru(n){return n&&As(n.canActivateChild)}(E))I=dr(E.canActivateChild(r,n));else{if(!As(E))throw new Error("Invalid CanActivateChild guard");I=dr(E(r,n))}return I.pipe(Ja())})).pipe(ec())));return ot(a).pipe(ec())}(n,i.path,t),function Sy(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return ot(!0);const i=r.map(a=>Xa(()=>{const c=Ar(a,e,t);let f;if(function Mf(n){return n&&As(n.canActivate)}(c))f=dr(c.canActivate(e,n));else{if(!As(c))throw new Error("Invalid CanActivate guard");f=dr(c(e,n))}return f.pipe(Ja())}));return ot(i).pipe(ec())}(n,i.route,t))),Ja(i=>!0!==i,!0))}(r,a,n,e):ot(f)),(0,Dt.U)(f=>Object.assign(Object.assign({},t),{guardsResult:f})))})}(this.ngModule.injector,f=>this.triggerEvent(f)),(0,Bi.b)(f=>{if(Ea(f.guardsResult)){const E=no(`Redirecting to "${this.serializeUrl(f.guardsResult)}"`);throw E.url=f.guardsResult,E}const _=new Id(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot,!!f.guardsResult);this.triggerEvent(_)}),ln(f=>!!f.guardsResult||(this.restoreHistory(f),this.cancelNavigationTransition(f,""),!1)),S(f=>{if(f.guards.canActivateChecks.length)return ot(f).pipe((0,Bi.b)(_=>{const E=new Ef(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(E)}),jn(_=>{let E=!1;return ot(_).pipe(function sm(n,e){return(0,ir.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return ot(t);let a=0;return(0,In.D)(i).pipe(Vi(c=>function y(n,e,t,r){return function p(n,e,t,r){const i=g(n);if(0===i.length)return ot({});const a={};return(0,In.D)(i).pipe((0,ir.z)(c=>function b(n,e,t,r){const i=Ar(n,e,r);return dr(i.resolve?i.resolve(e,t):i(e,t))}(n[c],e,t,r).pipe((0,Bi.b)(f=>{a[c]=f}))),Ed(1),(0,ir.z)(()=>g(a).length===i.length?ot(a):bi.E))}(n._resolve,n,e,r).pipe((0,Dt.U)(a=>(n._resolvedData=a,n.data=Object.assign(Object.assign({},n.data),Ug(n,t).resolve),null)))}(c.route,r,n,e)),(0,Bi.b)(()=>a++),Ed(1),(0,ir.z)(c=>a===i.length?ot(t):bi.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Bi.b)({next:()=>E=!0,complete:()=>{E||(this.restoreHistory(_),this.cancelNavigationTransition(_,"At least one route resolver didn't emit any value."))}}))}),(0,Bi.b)(_=>{const E=new Gr(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(E)}))}),S(f=>{const{targetSnapshot:_,id:E,extractedUrl:I,rawUrl:x,extras:{skipLocationChange:F,replaceUrl:B}}=f;return this.hooks.afterPreactivation(_,{navigationId:E,appliedUrlTree:I,rawUrlTree:x,skipLocationChange:!!F,replaceUrl:!!B})}),(0,Dt.U)(f=>{const _=function jg(n,e,t){const r=tu(n,e._root,t?t._root:void 0);return new eu(r,e)}(this.routeReuseStrategy,f.targetSnapshot,f.currentRouterState);return Object.assign(Object.assign({},f),{targetRouterState:_})}),(0,Bi.b)(f=>{this.currentUrlTree=f.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(f.urlAfterRedirects,f.rawUrl),this.routerState=f.targetRouterState,"deferred"===this.urlUpdateStrategy&&(f.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,f),this.browserUrlTree=f.urlAfterRedirects)}),((n,e,t)=>(0,Dt.U)(r=>(new Ss(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,f=>this.triggerEvent(f)),(0,Bi.b)({next(){a=!0},complete(){a=!0}}),function Fg(n){return(0,Un.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}(()=>{var f;a||c||this.cancelNavigationTransition(i,`Navigation ID ${i.id} is not equal to the current navigation id ${this.navigationId}`),(null===(f=this.currentNavigation)||void 0===f?void 0:f.id)===i.id&&(this.currentNavigation=null)}),$r(f=>{if(c=!0,function ro(n){return n&&n[sr]}(f)){const _=Ea(f.url);_||(this.navigated=!0,this.restoreHistory(i,!0));const E=new Dd(i.id,this.serializeUrl(i.extractedUrl),f.message);r.next(E),_?setTimeout(()=>{const I=this.urlHandlingStrategy.merge(f.url,this.rawUrlTree),x={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||qd(i.source)};this.scheduleNavigation(I,"imperative",null,x,{resolve:i.resolve,reject:i.reject,promise:i.promise})},0):i.resolve(!1)}else{this.restoreHistory(i,!0);const _=new Hn(i.id,this.serializeUrl(i.extractedUrl),f);r.next(_);try{i.resolve(this.errorHandler(f))}catch(E){i.reject(E)}}return bi.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var i;const a={replaceUrl:!0},c=(null===(i=t.state)||void 0===i?void 0:i.navigationId)?t.state:null;if(c){const _=Object.assign({},c);delete _.navigationId,delete _.\u0275routerPageId,0!==Object.keys(_).length&&(a.state=_)}const f=this.parseUrl(t.url);this.scheduleNavigation(f,r,c,a)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){Bd(t),this.config=t.map(su),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:a,fragment:c,queryParamsHandling:f,preserveFragment:_}=r,E=i||this.routerState.root,I=_?this.currentUrlTree.fragment:c;let x=null;switch(f){case"merge":x=Object.assign(Object.assign({},this.currentUrlTree.queryParams),a);break;case"preserve":x=this.currentUrlTree.queryParams;break;default:x=a||null}return null!==x&&(x=this.removeEmptyProps(x)),function my(n,e,t,r,i){if(0===t.length)return nu(e.root,e.root,e.root,r,i);const a=function N0(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Hg(!0,0,n);let e=0,t=!1;const r=n.reduce((i,a,c)=>{if("object"==typeof a&&null!=a){if(a.outlets){const f={};return Sn(a.outlets,(_,E)=>{f[E]="string"==typeof _?_.split("/"):_}),[...i,{outlets:f}]}if(a.segmentPath)return[...i,a.segmentPath]}return"string"!=typeof a?[...i,a]:0===c?(a.split("/").forEach((f,_)=>{0==_&&"."===f||(0==_&&""===f?t=!0:".."===f?e++:""!=f&&i.push(f))}),i):[...i,a]},[]);return new Hg(t,e,r)}(t);if(a.toRoot())return nu(e.root,e.root,new C([],{}),r,i);const c=function F0(n,e,t){if(n.isAbsolute)return new Nd(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const a=t.snapshot._urlSegment;return new Nd(a,a===e.root,0)}const r=ji(n.commands[0])?0:1;return function Sf(n,e,t){let r=n,i=e,a=t;for(;a>i;){if(a-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new Nd(r,!1,i-a)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(a,e,n),f=c.processChildren?Fd(c.segmentGroup,c.index,a.commands):Gg(c.segmentGroup,c.index,a.commands);return nu(e.root,c.segmentGroup,f,r,i)}(E,this.currentUrlTree,t,x,null!=I?I:null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=Ea(t)?t:this.parseUrl(t),a=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(a,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function om(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?Object.assign({},Uf):!1===r?Object.assign({},jf):r,Ea(t))return va(this.currentUrlTree,t,i);const a=this.parseUrl(t);return va(this.currentUrlTree,a,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const a=t[i];return null!=a&&(r[i]=a),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new Ds(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,i,a,c){var f,_;if(this.disposed)return Promise.resolve(!1);let E,I,x;c?(E=c.resolve,I=c.reject,x=c.promise):x=new Promise((j,le)=>{E=j,I=le});const F=++this.navigationId;let B;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),B=i&&i.\u0275routerPageId?i.\u0275routerPageId:a.replaceUrl||a.skipLocationChange?null!==(f=this.browserPageId)&&void 0!==f?f:0:(null!==(_=this.browserPageId)&&void 0!==_?_:0)+1):B=0,this.setTransition({id:F,targetPageId:B,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:a,resolve:E,reject:I,promise:x,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),x.catch(j=>Promise.reject(j))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),a=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",a):this.location.go(i,"",a)}restoreHistory(t,r=!1){var i,a;if("computed"===this.canceledNavigationResolution){const c=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(i=this.currentNavigation)||void 0===i?void 0:i.finalUrl)||0===c?this.currentUrlTree===(null===(a=this.currentNavigation)||void 0===a?void 0:a.finalUrl)&&0===c&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(c)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r){const i=new Dd(t.id,this.serializeUrl(t.extractedUrl),r);this.triggerEvent(i),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){d.$Z()},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();function qd(n){return"imperative"!==n}let du=(()=>{class n{constructor(t,r,i,a,c){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=a,this.el=c,this.commands=null,this.onChanges=new an.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){if(null!=this.tabIndexAttribute)return;const r=this.renderer,i=this.el.nativeElement;null!==t?r.setAttribute(i,"tabindex",t):r.removeAttribute(i,"tabindex")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const t={skipLocationChange:Ca(this.skipLocationChange),replaceUrl:Ca(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Ca(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(or),d.Y36(Xl),d.$8M("tabindex"),d.Y36(d.Qsj),d.Y36(d.SBq))},n.\u0275dir=d.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,r){1&t&&d.NdJ("click",function(){return r.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[d.TTD]}),n})(),wa=(()=>{class n{constructor(t,r,i){this.router=t,this.route=r,this.locationStrategy=i,this.commands=null,this.href=null,this.onChanges=new an.x,this.subscription=t.events.subscribe(a=>{a instanceof Ds&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,r,i,a,c){if(0!==t||r||i||a||c||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const f={skipLocationChange:Ca(this.skipLocationChange),replaceUrl:Ca(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,f),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Ca(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(or),d.Y36(Xl),d.Y36(ge))},n.\u0275dir=d.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,r){1&t&&d.NdJ("click",function(a){return r.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),2&t&&d.uIk("target",r.target)("href",r.href,d.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[d.TTD]}),n})();function Ca(n){return""===n||!!n}class rc{}class um{preload(e,t){return ot(null)}}let U0=(()=>{class n{constructor(t,r,i,a){this.router=t,this.injector=i,this.preloadingStrategy=a,this.loader=new Qe(i,r,_=>t.triggerEvent(new zr(_)),_=>t.triggerEvent(new tl(_)))}setUpPreloading(){this.subscription=this.router.events.pipe(ln(t=>t instanceof Ds),Vi(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(d.h0i);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const a of r)if(a.loadChildren&&!a.canLoad&&a._loadedConfig){const c=a._loadedConfig;i.push(this.processRoutes(c.module,c.routes))}else a.loadChildren&&!a.canLoad?i.push(this.preloadConfig(t,a)):a.children&&i.push(this.processRoutes(t,a.children));return(0,In.D)(i).pipe((0,Mo.J)(),(0,Dt.U)(a=>{}))}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?ot(r._loadedConfig):this.loader.load(t.injector,r)).pipe((0,ir.z)(a=>(r._loadedConfig=a,this.processRoutes(a.module,a.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(or),d.LFG(d.Sil),d.LFG(d.zs3),d.LFG(rc))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),Oy=(()=>{class n{constructor(t,r,i={}){this.router=t,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof bf?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Ds&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Hl&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new Hl(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){d.$Z()},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const ic=new d.OlP("ROUTER_CONFIGURATION"),sc=new d.OlP("ROUTER_FORROOT_GUARD"),j0=[ye,{provide:ie,useClass:Ae},{provide:or,useFactory:function z0(n,e,t,r,i,a,c={},f,_){const E=new or(null,n,e,t,r,i,wf(a));return f&&(E.urlHandlingStrategy=f),_&&(E.routeReuseStrategy=_),function Ny(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(c,E),c.enableTracing&&E.events.subscribe(I=>{var x,F;null===(x=console.group)||void 0===x||x.call(console,`Router Event: ${I.constructor.name}`),console.log(I.toString()),console.log(I),null===(F=console.groupEnd)||void 0===F||F.call(console)}),E},deps:[ie,iu,ye,d.zs3,d.Sil,Le,ic,[class vt{},new d.FiY],[class O{},new d.FiY]]},iu,{provide:Xl,useFactory:function q0(n){return n.routerState.root},deps:[or]},U0,um,class cm{preload(e,t){return t().pipe($r(()=>ot(null)))}},{provide:ic,useValue:{enableTracing:!1}}];function H0(){return new d.PXZ("Router",or)}let $0=(()=>{class n{constructor(t,r){}static forRoot(t,r){return{ngModule:n,providers:[j0,Py(t),{provide:sc,useFactory:G0,deps:[[or,new d.FiY,new d.tp0]]},{provide:ic,useValue:r||{}},{provide:ge,useFactory:lI,deps:[ue,[new d.tBr(Ze),new d.FiY],ic]},{provide:Oy,useFactory:dm,deps:[or,Vc,ic]},{provide:rc,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:um},{provide:d.PXZ,multi:!0,useFactory:H0},[Wd,{provide:d.ip1,multi:!0,useFactory:hm,deps:[Wd]},{provide:fm,useFactory:W0,deps:[Wd]},{provide:d.tb,multi:!0,useExisting:fm}]]}}static forChild(t){return{ngModule:n,providers:[Py(t)]}}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(sc,8),d.LFG(or,8))},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})();function dm(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new Oy(n,e,t)}function lI(n,e,t={}){return t.useHash?new ke(n,e):new Xe(n,e)}function G0(n){return"guarded"}function Py(n){return[{provide:d.deG,multi:!0,useValue:n},{provide:Le,multi:!0,useValue:n}]}let Wd=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new an.x}appInitializer(){return this.injector.get(G,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const i=new Promise(f=>r=f),a=this.injector.get(or),c=this.injector.get(ic);return"disabled"===c.initialNavigation?(a.setUpLocationChangeListener(),r(!0)):"enabled"===c.initialNavigation||"enabledBlocking"===c.initialNavigation?(a.hooks.afterPreactivation=()=>this.initNavigation?ot(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),a.initialNavigation()):r(!0),i})}bootstrapListener(t){const r=this.injector.get(ic),i=this.injector.get(U0),a=this.injector.get(Oy),c=this.injector.get(or),f=this.injector.get(d.z2F);t===f.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&c.initialNavigation(),i.setUpPreloading(),a.init(),c.resetRootComponentType(f.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.zs3))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();function hm(n){return n.appInitializer.bind(n)}function W0(n){return n.bootstrapListener.bind(n)}const fm=new d.OlP("Router Initializer");class Zd{}class Y0{}class Da{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),a=i.toLowerCase(),c=t.slice(r+1).trim();this.maybeSetNormalizedName(i,a),this.headers.has(a)?this.headers.get(a).push(c):this.headers.set(a,[c])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let r=e[t];const i=t.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(i,r),this.maybeSetNormalizedName(t,i))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Da?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Da;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Da?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const a=e.value;if(a){let c=this.headers.get(t);if(!c)return;c=c.filter(f=>-1===a.indexOf(f)),0===c.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,c)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class cI{encodeKey(e){return Ly(e)}encodeValue(e){return Ly(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const Q0=/%(\d[a-f0-9])/gi,Fy={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function Ly(n){return encodeURIComponent(n).replace(Q0,(e,t)=>{var r;return null!==(r=Fy[t])&&void 0!==r?r:e})}function dI(n){return`${n}`}class sl{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new cI,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function uI(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const a=i.indexOf("="),[c,f]=-1==a?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,a)),e.decodeValue(i.slice(a+1))],_=t.get(c)||[];_.push(f),t.set(c,_)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t];this.map.set(t,Array.isArray(r)?r:[r])})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(a=>{t.push({param:r,value:a,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new sl({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(dI(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(dI(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class X0{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function J0(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function ao(n){return"undefined"!=typeof Blob&&n instanceof Blob}function eE(n){return"undefined"!=typeof FormData&&n instanceof FormData}class Hf{constructor(e,t,r,i){let a;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function hI(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,a=i):a=r,a&&(this.reportProgress=!!a.reportProgress,this.withCredentials=!!a.withCredentials,a.responseType&&(this.responseType=a.responseType),a.headers&&(this.headers=a.headers),a.context&&(this.context=a.context),a.params&&(this.params=a.params)),this.headers||(this.headers=new Da),this.context||(this.context=new X0),this.params){const c=this.params.toString();if(0===c.length)this.urlWithParams=t;else{const f=t.indexOf("?");this.urlWithParams=t+(-1===f?"?":f<t.length-1?"&":"")+c}}else this.params=new sl,this.urlWithParams=t}serializeBody(){return null===this.body?null:J0(this.body)||ao(this.body)||eE(this.body)||function tE(n){return"undefined"!=typeof URLSearchParams&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof sl?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||eE(this.body)?null:ao(this.body)?this.body.type||null:J0(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof sl?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){var t;const r=e.method||this.method,i=e.url||this.url,a=e.responseType||this.responseType,c=void 0!==e.body?e.body:this.body,f=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,_=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let E=e.headers||this.headers,I=e.params||this.params;const x=null!==(t=e.context)&&void 0!==t?t:this.context;return void 0!==e.setHeaders&&(E=Object.keys(e.setHeaders).reduce((F,B)=>F.set(B,e.setHeaders[B]),E)),e.setParams&&(I=Object.keys(e.setParams).reduce((F,B)=>F.set(B,e.setParams[B]),I)),new Hf(r,i,c,{params:I,headers:E,context:x,reportProgress:_,responseType:a,withCredentials:f})}}var vr=(()=>((vr=vr||{})[vr.Sent=0]="Sent",vr[vr.UploadProgress=1]="UploadProgress",vr[vr.ResponseHeader=2]="ResponseHeader",vr[vr.DownloadProgress=3]="DownloadProgress",vr[vr.Response=4]="Response",vr[vr.User=5]="User",vr))();class Vy{constructor(e,t=200,r="OK"){this.headers=e.headers||new Da,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class By extends Vy{constructor(e={}){super(e),this.type=vr.ResponseHeader}clone(e={}){return new By({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class $f extends Vy{constructor(e={}){super(e),this.type=vr.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new $f({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class nE extends Vy{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function Uy(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let jy=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let a;if(t instanceof Hf)a=t;else{let _,E;_=i.headers instanceof Da?i.headers:new Da(i.headers),i.params&&(E=i.params instanceof sl?i.params:new sl({fromObject:i.params})),a=new Hf(t,r,void 0!==i.body?i.body:null,{headers:_,context:i.context,params:E,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const c=ot(a).pipe(Vi(_=>this.handler.handle(_)));if(t instanceof Hf||"events"===i.observe)return c;const f=c.pipe(ln(_=>_ instanceof $f));switch(i.observe||"body"){case"body":switch(a.responseType){case"arraybuffer":return f.pipe((0,Dt.U)(_=>{if(null!==_.body&&!(_.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return _.body}));case"blob":return f.pipe((0,Dt.U)(_=>{if(null!==_.body&&!(_.body instanceof Blob))throw new Error("Response is not a Blob.");return _.body}));case"text":return f.pipe((0,Dt.U)(_=>{if(null!==_.body&&"string"!=typeof _.body)throw new Error("Response is not a string.");return _.body}));default:return f.pipe((0,Dt.U)(_=>_.body))}case"response":return f;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new sl).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,Uy(i,r))}post(t,r,i={}){return this.request("POST",t,Uy(i,r))}put(t,r,i={}){return this.request("PUT",t,Uy(i,r))}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Zd))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();class Ut{constructor(e,t){this.next=e,this.interceptor=t}handle(e){return this.interceptor.intercept(e,this.next)}}const Hy=new d.OlP("HTTP_INTERCEPTORS");let rE=(()=>{class n{intercept(t,r){return r.handle(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const oE=/^\)\]\}',?\n/;let gI=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Tn.y(r=>{const i=this.xhrFactory.build();if(i.open(t.method,t.urlWithParams),t.withCredentials&&(i.withCredentials=!0),t.headers.forEach((B,j)=>i.setRequestHeader(B,j.join(","))),t.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const B=t.detectContentTypeHeader();null!==B&&i.setRequestHeader("Content-Type",B)}if(t.responseType){const B=t.responseType.toLowerCase();i.responseType="json"!==B?B:"text"}const a=t.serializeBody();let c=null;const f=()=>{if(null!==c)return c;const B=i.statusText||"OK",j=new Da(i.getAllResponseHeaders()),le=function Gy(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(i)||t.url;return c=new By({headers:j,status:i.status,statusText:B,url:le}),c},_=()=>{let{headers:B,status:j,statusText:le,url:Te}=f(),qe=null;204!==j&&(qe=void 0===i.response?i.responseText:i.response),0===j&&(j=qe?200:0);let st=j>=200&&j<300;if("json"===t.responseType&&"string"==typeof qe){const pt=qe;qe=qe.replace(oE,"");try{qe=""!==qe?JSON.parse(qe):null}catch(lt){qe=pt,st&&(st=!1,qe={error:lt,text:qe})}}st?(r.next(new $f({body:qe,headers:B,status:j,statusText:le,url:Te||void 0})),r.complete()):r.error(new nE({error:qe,headers:B,status:j,statusText:le,url:Te||void 0}))},E=B=>{const{url:j}=f(),le=new nE({error:B,status:i.status||0,statusText:i.statusText||"Unknown Error",url:j||void 0});r.error(le)};let I=!1;const x=B=>{I||(r.next(f()),I=!0);let j={type:vr.DownloadProgress,loaded:B.loaded};B.lengthComputable&&(j.total=B.total),"text"===t.responseType&&!!i.responseText&&(j.partialText=i.responseText),r.next(j)},F=B=>{let j={type:vr.UploadProgress,loaded:B.loaded};B.lengthComputable&&(j.total=B.total),r.next(j)};return i.addEventListener("load",_),i.addEventListener("error",E),i.addEventListener("timeout",E),i.addEventListener("abort",E),t.reportProgress&&(i.addEventListener("progress",x),null!==a&&i.upload&&i.upload.addEventListener("progress",F)),i.send(a),r.next({type:vr.Sent}),()=>{i.removeEventListener("error",E),i.removeEventListener("abort",E),i.removeEventListener("load",_),i.removeEventListener("timeout",E),t.reportProgress&&(i.removeEventListener("progress",x),null!==a&&i.upload&&i.upload.removeEventListener("progress",F)),i.readyState!==i.DONE&&i.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(gn))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const pm=new d.OlP("XSRF_COOKIE_NAME"),aE=new d.OlP("XSRF_HEADER_NAME");class Gf{}let gm=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=ta(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(se),d.LFG(d.Lbi),d.LFG(pm))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),zf=(()=>{class n{constructor(t,r){this.tokenService=t,this.headerName=r}intercept(t,r){const i=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||i.startsWith("http://")||i.startsWith("https://"))return r.handle(t);const a=this.tokenService.getToken();return null!==a&&!t.headers.has(this.headerName)&&(t=t.clone({headers:t.headers.set(this.headerName,a)})),r.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Gf),d.LFG(aE))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),zy=(()=>{class n{constructor(t,r){this.backend=t,this.injector=r,this.chain=null}handle(t){if(null===this.chain){const r=this.injector.get(Hy,[]);this.chain=r.reduceRight((i,a)=>new Ut(i,a),this.backend)}return this.chain.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Y0),d.LFG(d.zs3))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),mI=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:zf,useClass:rE}]}}static withOptions(t={}){return{ngModule:n,providers:[t.cookieName?{provide:pm,useValue:t.cookieName}:[],t.headerName?{provide:aE,useValue:t.headerName}:[]]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[zf,{provide:Hy,useExisting:zf,multi:!0},{provide:Gf,useClass:gm},{provide:pm,useValue:"XSRF-TOKEN"},{provide:aE,useValue:"X-XSRF-TOKEN"}]}),n})(),_I=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[jy,{provide:Zd,useClass:zy},gI,{provide:Y0,useExisting:gI}],imports:[[mI.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),n})(),qf=(()=>{class n{constructor(t,r){this.http=t,this.route=r,this.urlv1="https://hostinjor.com/aledapi/v1/users/"}register(t){return this.http.post(this.urlv1+"register",t)}login(t){return this.http.post(this.urlv1+"login",t)}saveData(t){setTimeout(()=>{localStorage.setItem("idALED",String(t.id)),localStorage.setItem("nameALED",t.name),localStorage.setItem("emailALED",t.email)},1e3)}auth(){return this.getId(),this.getNombre(),!!this.id&&this.id}getId(){this.id||(this.id=Number(localStorage.getItem("idALED")))}getNombre(){this.nombre||(this.nombre=localStorage.getItem("nameALED"))}logout(){this.id="",localStorage.removeItem("idALED"),localStorage.removeItem("nameALED"),localStorage.removeItem("mailALED"),this.route.navigate([""])}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(jy),d.LFG(or))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),qA=(()=>{class n{constructor(t,r){this.authServ=t,this.router=r}canActivate(t,r){return!!localStorage.getItem("idALED")||(this.router.navigate(["/login"]),!1)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(qf),d.LFG(or))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class yI{constructor(e){this.login=e.login,this.avatar=e.avatar_url,this.url=e.html_url,this.nombre=e.name,this.bio=e.bio,this.email=e.email}}let WA=(()=>{class n{constructor(t){this.http=t,this.url="https://api.github.com/users/jorgedc87"}getDatos(){return this.http.get(this.url)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(jy))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),cE=(()=>{class n{constructor(t){this.github=t}ngOnInit(){this.tomaDatosGithub()}tomaDatosGithub(){this.github.getDatos().subscribe(t=>{this.githubPerson=new yI(t),console.log(t)})}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(WA))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-aboutme"]],decls:42,vars:4,consts:[[1,"container","py-5","h-100"],[1,"row","d-flex","justify-content-center","align-items-center","h-100"],[1,"col","col-lg-6","mb-4","mb-lg-0"],[1,"card","mb-3",2,"border-radius",".5rem"],[1,"row","g-0"],[1,"col-md-4","gradient-custom","text-center","text-white",2,"border-top-left-radius",".5rem","border-bottom-left-radius",".5rem"],["alt","Avatar",1,"img-fluid","my-5",2,"width","80px","border-radius","50%",3,"src"],[1,"col-md-8"],[1,"card-body","p-4"],[1,"mt-0","mb-4"],[1,"row","pt-1"],[1,"col-6","mb-3"],[1,"text-muted"],[1,"mb-3"],[1,"d-flex","justify-content-start"],["href","https://www.linkedin.com/in/jorgedcalderon/","target","_blank"],[1,"fab","fa-linkedin","fa-lg","me-3"],["href","https://www.github.com/Jorgedc87","target","_blank"],[1,"fab","fa-github","fa-lg","me-3"],["href","https://www.instagram.com/j.calderon7/","target","_blank"],[1,"fab","fa-instagram","fa-lg"]],template:function(t,r){1&t&&(d.TgZ(0,"section")(1,"div",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4)(6,"div",5),d._UZ(7,"img",6),d.TgZ(8,"h5"),d._uU(9),d.qZA(),d.TgZ(10,"p"),d._uU(11,"Web Designer"),d.qZA()(),d.TgZ(12,"div",7)(13,"div",8)(14,"h6"),d._uU(15,"Informaci\xf3n"),d.qZA(),d._UZ(16,"hr",9),d.TgZ(17,"div",10)(18,"div",11)(19,"h6"),d._uU(20,"Usuario"),d.qZA(),d.TgZ(21,"p",12),d._uU(22),d.qZA()(),d.TgZ(23,"div",11)(24,"h6"),d._uU(25,"Celular"),d.qZA(),d.TgZ(26,"p",12),d._uU(27,"11 3031-8773"),d.qZA()()(),d.TgZ(28,"h6"),d._uU(29,"Bio"),d.qZA(),d._UZ(30,"hr",9),d.TgZ(31,"div",10)(32,"div",13)(33,"p",12),d._uU(34),d.qZA()()(),d.TgZ(35,"div",14)(36,"a",15),d._UZ(37,"i",16),d.qZA(),d.TgZ(38,"a",17),d._UZ(39,"i",18),d.qZA(),d.TgZ(40,"a",19),d._UZ(41,"i",20),d.qZA()()()()()()()()()()),2&t&&(d.xp6(7),d.s9C("src",null==r.githubPerson?null:r.githubPerson.avatar,d.LSH),d.xp6(2),d.Oqu(null==r.githubPerson?null:r.githubPerson.nombre),d.xp6(13),d.Oqu(null==r.githubPerson?null:r.githubPerson.login),d.xp6(12),d.Oqu(null==r.githubPerson?null:r.githubPerson.bio))},styles:[".gradient-custom[_ngcontent-%COMP%]{background:#f6d365;background:linear-gradient(to right bottom,rgba(20,155,130,.7),rgba(65,11,151,.7) 100%)}"]}),n})();var Wf=P(4986),Yr=P(5813);function Zf(){return(0,Un.e)((n,e)=>{let t,r=!1;n.subscribe((0,qn.x)(e,i=>{const a=t;t=i,r&&e.next([a,i]),r=!0}))})}function KA(n,e){return n===e}var dt,Ta=P(2011),YA=(P(9545),P(3942)),Ce=P(5861),Kd=P(9681),qy=P(4859),hu=P(1877),mn=P(2090),ac="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},jo={},mm=mm||{},Ft=ac||self;function Kf(){}function Yd(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Yf(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var _m="closure_uid_"+(1e9*Math.random()>>>0),vI=0;function Wy(n,e,t){return n.call.apply(n.bind,arguments)}function bI(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function di(n,e,t){return(di=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Wy:bI).apply(null,arguments)}function ym(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function hi(n,e){function t(){}t.prototype=e.prototype,n.X=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Wb=function(r,i,a){for(var c=Array(arguments.length-2),f=2;f<arguments.length;f++)c[f-2]=arguments[f];return e.prototype[i].apply(r,c)}}function lo(){this.s=this.s,this.o=this.o}var Zy={};lo.prototype.s=!1,lo.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function lc(n){return Object.prototype.hasOwnProperty.call(n,_m)&&n[_m]||(n[_m]=++vI)}(this);delete Zy[n]}},lo.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const fu=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function pu(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function gu(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(Yd(r)){const i=n.length||0,a=r.length||0;n.length=i+a;for(let c=0;c<a;c++)n[i+c]=r[c]}else n.push(r)}}function Di(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}Di.prototype.h=function(){this.defaultPrevented=!0};var uE=function(){if(!Ft.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Ft.addEventListener("test",Kf,e),Ft.removeEventListener("test",Kf,e)}catch(t){}return n}();function Qf(n){return/^[\s\xa0]*$/.test(n)}var vm=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Xf(n,e){return n<e?-1:n>e?1:0}function Jf(){var n=Ft.navigator;return n&&(n=n.userAgent)?n:""}function Rs(n){return-1!=Jf().indexOf(n)}function Ky(n){return Ky[" "](n),n}Ky[" "]=Kf;var Ii,n,QA=Rs("Opera"),mu=Rs("Trident")||Rs("MSIE"),Yy=Rs("Edge"),Qy=Yy||mu,Xy=Rs("Gecko")&&!(-1!=Jf().toLowerCase().indexOf("webkit")&&!Rs("Edge"))&&!(Rs("Trident")||Rs("MSIE"))&&!Rs("Edge"),EI=-1!=Jf().toLowerCase().indexOf("webkit")&&!Rs("Edge");function hE(){var n=Ft.document;return n?n.documentMode:void 0}e:{var Jy="",ev=(n=Jf(),Xy?/rv:([^\);]+)(\)|;)/.exec(n):Yy?/Edge\/([\d\.]+)/.exec(n):mu?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):EI?/WebKit\/(\S+)/.exec(n):QA?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(ev&&(Jy=ev?ev[1]:""),mu){var fE=hE();if(null!=fE&&fE>parseFloat(Jy)){Ii=String(fE);break e}}Ii=Jy}var XA={};var tv=Ft.document&&mu&&(hE()||parseInt(Ii,10))||void 0;function Xd(n,e){if(Di.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(Xy){e:{try{Ky(e.nodeName);var i=!0;break e}catch(a){}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:wI[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Xd.X.h.call(this)}}hi(Xd,Di);var wI={2:"touch",3:"pen",4:"mouse"};Xd.prototype.h=function(){Xd.X.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var ep="closure_listenable_"+(1e6*Math.random()|0),CI=0;function _E(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ha=i,this.key=++CI,this.ba=this.ea=!1}function bm(n){n.ba=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function Em(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function yE(n){const e={};for(const t in n)e[t]=n[t];return e}const vE="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function nv(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let a=0;a<vE.length;a++)t=vE[a],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function tp(n){this.src=n,this.g={},this.h=0}function rv(n,e){var t=e.type;if(t in n.g){var a,r=n.g[t],i=fu(r,e);(a=0<=i)&&Array.prototype.splice.call(r,i,1),a&&(bm(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function co(n,e,t,r){for(var i=0;i<n.length;++i){var a=n[i];if(!a.ba&&a.listener==e&&a.capture==!!t&&a.ha==r)return i}return-1}tp.prototype.add=function(n,e,t,r,i){var a=n.toString();(n=this.g[a])||(n=this.g[a]=[],this.h++);var c=co(n,e,r,i);return-1<c?(e=n[c],t||(e.ea=!1)):((e=new _E(e,this.src,a,!!r,i)).ea=t,n.push(e)),e};var np="closure_lm_"+(1e6*Math.random()|0),iv={};function bE(n,e,t,r,i){if(r&&r.once)return wE(n,e,t,r,i);if(Array.isArray(e)){for(var a=0;a<e.length;a++)bE(n,e[a],t,r,i);return null}return t=rp(t),n&&n[ep]?n.N(e,t,Yf(r)?!!r.capture:!!r,i):DI(n,e,t,!1,r,i)}function DI(n,e,t,r,i,a){if(!e)throw Error("Invalid event type");var c=Yf(i)?!!i.capture:!!i,f=ov(n);if(f||(n[np]=f=new tp(n)),(t=f.add(e,t,r,c,a)).proxy)return t;if(r=function EE(){const e=II;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)uE||(i=c),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(wm(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function wE(n,e,t,r,i){if(Array.isArray(e)){for(var a=0;a<e.length;a++)wE(n,e[a],t,r,i);return null}return t=rp(t),n&&n[ep]?n.O(e,t,Yf(r)?!!r.capture:!!r,i):DI(n,e,t,!0,r,i)}function CE(n,e,t,r,i){if(Array.isArray(e))for(var a=0;a<e.length;a++)CE(n,e[a],t,r,i);else r=Yf(r)?!!r.capture:!!r,t=rp(t),n&&n[ep]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=co(a=n.g[e],t,r,i))&&(bm(a[t]),Array.prototype.splice.call(a,t,1),0==a.length&&(delete n.g[e],n.h--))):n&&(n=ov(n))&&(e=n.g[e.toString()],n=-1,e&&(n=co(e,t,r,i)),(t=-1<n?e[n]:null)&&sv(t))}function sv(n){if("number"!=typeof n&&n&&!n.ba){var e=n.src;if(e&&e[ep])rv(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(wm(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=ov(e))?(rv(t,n),0==t.h&&(t.src=null,e[np]=null)):bm(n)}}}function wm(n){return n in iv?iv[n]:iv[n]="on"+n}function II(n,e){if(n.ba)n=!0;else{e=new Xd(e,this);var t=n.listener,r=n.ha||n.src;n.ea&&sv(n),n=t.call(r,e)}return n}function ov(n){return(n=n[np])instanceof tp?n:null}var Jd="__closure_events_fn_"+(1e9*Math.random()>>>0);function rp(n){return"function"==typeof n?n:(n[Jd]||(n[Jd]=function(e){return n.handleEvent(e)}),n[Jd])}function Qr(){lo.call(this),this.i=new tp(this),this.P=this,this.I=null}function Mr(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new Di(e,n);else if(e instanceof Di)e.target=e.target||n;else{var i=e;nv(e=new Di(r,n),i)}if(i=!0,t)for(var a=t.length-1;0<=a;a--){var c=e.g=t[a];i=eh(c,r,!0,e)&&i}if(i=eh(c=e.g=n,r,!0,e)&&i,i=eh(c,r,!1,e)&&i,t)for(a=0;a<t.length;a++)i=eh(c=e.g=t[a],r,!1,e)&&i}function eh(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,a=0;a<e.length;++a){var c=e[a];if(c&&!c.ba&&c.capture==t){var f=c.listener,_=c.ha||c.src;c.ea&&rv(n.i,c),i=!1!==f.call(_,r)&&i}}return i&&!r.defaultPrevented}hi(Qr,lo),Qr.prototype[ep]=!0,Qr.prototype.removeEventListener=function(n,e,t,r){CE(this,n,e,t,r)},Qr.prototype.M=function(){if(Qr.X.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)bm(t[r]);delete n.g[e],n.h--}}this.I=null},Qr.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Qr.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var Cm=Ft.JSON.stringify;function JA(){var n=lv;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var Im,Dm=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new tM,n=>n.reset());class tM{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function TI(n){Ft.setTimeout(()=>{throw n},0)}function av(n,e){Im||function DE(){var n=Ft.Promise.resolve(void 0);Im=function(){n.then(ol)}}(),Tm||(Im(),Tm=!0),lv.add(n,e)}var Tm=!1,lv=new class eM{constructor(){this.h=this.g=null}add(e,t){const r=Dm.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function ol(){for(var n;n=JA();){try{n.h.call(n.g)}catch(t){TI(t)}var e=Dm;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Tm=!1}function _u(n,e){Qr.call(this),this.h=n||1,this.g=e||Ft,this.j=di(this.lb,this),this.l=Date.now()}function cv(n){n.ca=!1,n.R&&(n.g.clearTimeout(n.R),n.R=null)}function uv(n,e,t){if("function"==typeof n)t&&(n=di(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=di(n.handleEvent,n)}return 2147483647<Number(e)?-1:Ft.setTimeout(n,e||0)}function SI(n){n.g=uv(()=>{n.g=null,n.i&&(n.i=!1,SI(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}hi(_u,Qr),(dt=_u.prototype).ca=!1,dt.R=null,dt.lb=function(){if(this.ca){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-n):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Mr(this,"tick"),this.ca&&(cv(this),this.start()))}},dt.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},dt.M=function(){_u.X.M.call(this),cv(this),delete this.g};class dv extends lo{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:SI(this)}M(){super.M(),this.g&&(Ft.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function th(n){lo.call(this),this.h=n,this.g={}}hi(th,lo);var Sm=[];function nh(n,e,t,r){Array.isArray(t)||(t&&(Sm[0]=t.toString()),t=Sm);for(var i=0;i<t.length;i++){var a=bE(e,t[i],r||n.handleEvent,!1,n.h||n);if(!a)break;n.g[a.key]=a}}function IE(n){Em(n.g,function(e,t){this.g.hasOwnProperty(t)&&sv(e)},n),n.g={}}function rh(){this.g=!0}function yu(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function hv(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var c=1;c<i.length;c++)i[c]=""}}}return Cm(t)}catch(f){return e}}(n,t)+(r?" "+r:"")})}th.prototype.M=function(){th.X.M.call(this),IE(this)},th.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},rh.prototype.Aa=function(){this.g=!1},rh.prototype.info=function(){};var vu={},AE=null;function ip(){return AE=AE||new Qr}function bu(n){Di.call(this,vu.Pa,n)}function ih(n){const e=ip();Mr(e,new bu(e,n))}function ME(n,e){Di.call(this,vu.STAT_EVENT,n),this.stat=e}function Hi(n){const e=ip();Mr(e,new ME(e,n))}function Eu(n,e){Di.call(this,vu.Qa,n),this.size=e}function sp(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Ft.setTimeout(function(){n()},e)}vu.Pa="serverreachability",hi(bu,Di),vu.STAT_EVENT="statevent",hi(ME,Di),vu.Qa="timingevent",hi(Eu,Di);var Am={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},xE={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function fv(){}function Mm(){}fv.prototype.h=null;var km,sh={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function xm(){Di.call(this,"d")}function Rm(){Di.call(this,"c")}function Om(){}function op(n,e,t,r){this.l=n,this.j=e,this.m=t,this.U=r||1,this.S=new th(this),this.O=MI,this.T=new _u(n=Qy?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new RE}function RE(){this.i=null,this.g="",this.h=!1}hi(xm,Di),hi(Rm,Di),hi(Om,fv),Om.prototype.g=function(){return new XMLHttpRequest},Om.prototype.i=function(){return{}},km=new Om;var MI=45e3,Pm={},pv={};function Nm(n,e,t){n.K=1,n.v=Fm(cc(e)),n.s=t,n.P=!0,kE(n,null)}function kE(n,e){n.F=Date.now(),wu(n),n.A=cc(n.v);var t=n.A,r=n.U;Array.isArray(r)||(r=[String(r)]),$o(t.i,"t",r),n.C=0,t=n.l.H,n.h=new RE,n.g=XE(n.l,t?e:null,!n.s),0<n.N&&(n.L=new dv(di(n.La,n,n.g),n.N)),nh(n.S,n.g,"readystatechange",n.ib),e=n.H?yE(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.da(n.A,n.u,n.s,e)):(n.u="GET",n.g.da(n.A,n.u,null,e)),ih(1),function TE(n,e,t,r,i,a){n.info(function(){if(n.g)if(a)for(var c="",f=a.split("&"),_=0;_<f.length;_++){var E=f[_].split("=");if(1<E.length){var I=E[0];E=E[1];var x=I.split("_");c=2<=x.length&&"type"==x[1]?c+(I+"=")+E+"&":c+(I+"=redacted&")}}else c=null;else c=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+c})}(n.j,n.u,n.A,n.m,n.U,n.s)}function OE(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Da}function xI(n,e,t){let i,r=!0;for(;!n.I&&n.C<t.length;){if(i=nM(n,t),i==pv){4==e&&(n.o=4,Hi(14),r=!1),yu(n.j,n.m,null,"[Incomplete Response]");break}if(i==Pm){n.o=4,Hi(15),yu(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}yu(n.j,n.m,i,null),ks(n,i)}OE(n)&&i!=pv&&i!=Pm&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Hi(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.$&&(n.$=!0,(e=n.l).g==n&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),bv(e),e.K=!0,Hi(11))):(yu(n.j,n.m,t,"[Invalid Chunked Response]"),ah(n),oh(n))}function nM(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?pv:(t=Number(e.substring(t,r)),isNaN(t)?Pm:(r+=1)+t>e.length?pv:(e=e.substr(r,t),n.C=r+t,e))}function wu(n){n.V=Date.now()+n.O,PE(n,n.O)}function PE(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=sp(di(n.gb,n),e)}function ap(n){n.B&&(Ft.clearTimeout(n.B),n.B=null)}function oh(n){0==n.l.G||n.I||wv(n.l,n)}function ah(n){ap(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,cv(n.T),IE(n.S),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function ks(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||dc(t.h,n)))if(!n.J&&dc(t.h,n)&&3==t.G){try{var r=t.Fa.g.parse(e)}catch(E){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0])e:if(t.u)t.Ba=i[1],0<t.Ba-t.T&&37500>i[2]&&t.L&&0==t.A&&!t.v&&(t.v=sp(di(t.cb,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;$m(t),Hm(t)}pc(t),Hi(18)}if(1>=Iu(t.h)&&t.ja){try{t.ja()}catch(E){}t.ja=void 0}}else Au(t,11)}else if((n.J||t.g==n)&&$m(t),!Qf(e))for(i=t.Fa.g.parse(e),e=0;e<i.length;e++){let E=i[e];if(t.T=E[0],E=E[1],2==t.G)if("c"==E[0]){t.I=E[1],t.ka=E[2];const I=E[3];null!=I&&(t.ma=I,t.j.info("VER="+t.ma));const x=E[4];null!=x&&(t.Ca=x,t.j.info("SVER="+t.Ca));const F=E[5];null!=F&&"number"==typeof F&&0<F&&(t.J=r=1.5*F,t.j.info("backChannelRequestTimeoutMs_="+r)),r=t;const B=n.g;if(B){const j=B.g?B.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(j){var a=r.h;a.g||-1==j.indexOf("spdy")&&-1==j.indexOf("quic")&&-1==j.indexOf("h2")||(a.j=a.l,a.g=new Set,a.h&&(hc(a,a.h),a.h=null))}if(r.D){const le=B.g?B.g.getResponseHeader("X-HTTP-Session-Id"):null;le&&(r.za=le,kn(r.F,r.D,le))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-n.F,t.j.info("Handshake RTT: "+t.P+"ms"));var c=n;if((r=t).sa=QE(r,r.H?r.ka:null,r.V),c.J){Tu(r.h,c);var f=c,_=r.J;_&&f.setTimeout(_),f.B&&(ap(f),wu(f)),r.g=c}else YE(r);0<t.i.length&&vv(t)}else"stop"!=E[0]&&"close"!=E[0]||Au(t,7);else 3==t.G&&("stop"==E[0]||"close"==E[0]?"stop"==E[0]?Au(t,7):mp(t):"noop"!=E[0]&&t.l&&t.l.wa(E),t.A=0)}ih(4)}catch(E){}}function gv(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Yd(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function iM(n){if(n.oa&&"function"==typeof n.oa)return n.oa();if(!n.W||"function"!=typeof n.W){if("undefined"!=typeof Map&&n instanceof Map)return Array.from(n.keys());if(!("undefined"!=typeof Set&&n instanceof Set)){if(Yd(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function rM(n){if(n.W&&"function"==typeof n.W)return n.W();if("undefined"!=typeof Map&&n instanceof Map||"undefined"!=typeof Set&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(Yd(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,a=0;a<i;a++)e.call(void 0,r[a],t&&t[a],n)}(dt=op.prototype).setTimeout=function(n){this.O=n},dt.ib=function(n){n=n.target;const e=this.L;e&&3==Aa(n)?e.l():this.La(n)},dt.La=function(n){try{if(n==this.g)e:{const I=Aa(this.g);var e=this.g.Ea();const x=this.g.aa();if(!(3>I)&&(3!=I||Qy||this.g&&(this.h.h||this.g.fa()||qE(this.g)))){this.I||4!=I||7==e||ih(8==e||0>=x?3:2),ap(this);var t=this.g.aa();this.Y=t;t:if(OE(this)){var r=qE(this.g);n="";var i=r.length,a=4==Aa(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){ah(this),oh(this);var c="";break t}this.h.i=new Ft.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:a&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,c=this.h.g}else c=this.g.fa();if(this.i=200==t,function SE(n,e,t,r,i,a,c){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+a+" "+c})}(this.j,this.u,this.A,this.m,this.U,I,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var f,_=this.g;if((f=_.g?_.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Qf(f)){var E=f;break t}}E=null}if(!(t=E)){this.i=!1,this.o=3,Hi(12),ah(this),oh(this);break e}yu(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,ks(this,t)}this.P?(xI(this,I,c),Qy&&this.i&&3==I&&(nh(this.S,this.T,"tick",this.hb),this.T.start())):(yu(this.j,this.m,c,null),ks(this,c)),4==I&&ah(this),this.i&&!this.I&&(4==I?wv(this.l,this):(this.i=!1,wu(this)))}else 400==t&&0<c.indexOf("Unknown SID")?(this.o=3,Hi(12)):(this.o=0,Hi(13)),ah(this),oh(this)}}}catch(I){}},dt.hb=function(){if(this.g){var n=Aa(this.g),e=this.g.fa();this.C<e.length&&(ap(this),xI(this,n,e),this.i&&4!=n&&wu(this))}},dt.cancel=function(){this.I=!0,ah(this)},dt.gb=function(){this.B=null;const n=Date.now();0<=n-this.V?(function AI(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(ih(3),Hi(17)),ah(this),this.o=2,oh(this)):PE(this,this.V-n)};var mv=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Cu(n,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Cu){this.h=void 0!==e?e:n.h,lp(this,n.j),this.s=n.s,this.g=n.g,lh(this,n.m),this.l=n.l,e=n.i;var t=new al;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),FE(this,t),this.o=n.o}else n&&(t=String(n).match(mv))?(this.h=!!e,lp(this,t[1]||"",!0),this.s=cp(t[2]||""),this.g=cp(t[3]||"",!0),lh(this,t[4]),this.l=cp(t[5]||"",!0),FE(this,t[6]||"",!0),this.o=cp(t[7]||"")):(this.h=!!e,this.i=new al(null,this.h))}function cc(n){return new Cu(n)}function lp(n,e,t){n.j=t?cp(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function lh(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function FE(n,e,t){e instanceof al?(n.i=e,function Ti(n,e){e&&!n.j&&(uc(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(VE(this,r),$o(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=up(e,ch)),n.i=new al(e,n.h))}function kn(n,e,t){n.i.set(e,t)}function Fm(n){return kn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function cp(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function up(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,RI),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function RI(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Cu.prototype.toString=function(){var n=[],e=this.j;e&&n.push(up(e,LE,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(up(e,LE,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(up(t,"/"==t.charAt(0)?Lm:kI,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",up(t,OI)),n.join("")};var LE=/[#\/\?@]/g,kI=/[#\?:]/g,Lm=/[#\?]/g,ch=/[#\?@]/g,OI=/#/g;function al(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function uc(n){n.g||(n.g=new Map,n.h=0,n.i&&function NE(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var a=n[t].substring(0,r);i=n[t].substring(r+1)}else a=n[t];e(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function VE(n,e){uc(n),e=Sa(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function Vm(n,e){return uc(n),e=Sa(n,e),n.g.has(e)}function $o(n,e,t){VE(n,e),0<t.length&&(n.i=null,n.g.set(Sa(n,e),pu(t)),n.h+=t.length)}function Sa(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function dp(n){this.l=n||uo,n=Ft.PerformanceNavigationTiming?0<(n=Ft.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Ft.g&&Ft.g.Ga&&Ft.g.Ga()&&Ft.g.Ga().$b),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(dt=al.prototype).add=function(n,e){uc(this),this.i=null,n=Sa(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},dt.forEach=function(n,e){uc(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},dt.oa=function(){uc(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let a=0;a<i.length;a++)t.push(e[r])}return t},dt.W=function(n){uc(this);let e=[];if("string"==typeof n)Vm(this,n)&&(e=e.concat(this.g.get(Sa(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},dt.set=function(n,e){return uc(this),this.i=null,Vm(this,n=Sa(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},dt.get=function(n,e){return n&&0<(n=this.W(n)).length?String(n[0]):e},dt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const a=encodeURIComponent(String(r)),c=this.W(r);for(r=0;r<c.length;r++){var i=a;""!==c[r]&&(i+="="+encodeURIComponent(String(c[r]))),n.push(i)}}return this.i=n.join("&")};var uo=10;function Bm(n){return!!n.h||!!n.g&&n.g.size>=n.j}function Iu(n){return n.h?1:n.g?n.g.size:0}function dc(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function hc(n,e){n.g?n.g.add(e):n.h=e}function Tu(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function Su(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return pu(n.i)}function fc(){}function uh(){this.g=new fc}function dh(n,e,t){const r=t||"";try{gv(n,function(i,a){let c=i;Yf(i)&&(c=Cm(i)),e.push(r+a+"="+encodeURIComponent(c))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function hp(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(a){}}function fh(n){this.l=n.ac||null,this.j=n.jb||!1}function fp(n,e){Qr.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=Um,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}dp.prototype.cancel=function(){if(this.i=Su(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},fc.prototype.stringify=function(n){return Ft.JSON.stringify(n,void 0)},fc.prototype.parse=function(n){return Ft.JSON.parse(n,void 0)},hi(fh,fv),fh.prototype.g=function(){return new fp(this.l,this.j)},fh.prototype.i=function(n){return function(){return n}}({}),hi(fp,Qr);var Um=0;function _v(n){n.j.read().then(n.Ta.bind(n)).catch(n.ga.bind(n))}function ph(n){n.readyState=4,n.l=null,n.j=null,n.A=null,gh(n)}function gh(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(dt=fp.prototype).open=function(n,e){if(this.readyState!=Um)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,gh(this)},dt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||Ft).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},dt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ph(this)),this.readyState=Um},dt.Wa=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,gh(this)),this.g&&(this.readyState=3,gh(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(void 0!==Ft.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;_v(this)}else n.text().then(this.Va.bind(this),this.ga.bind(this))},dt.Ta=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?ph(this):gh(this),3==this.readyState&&_v(this)}},dt.Va=function(n){this.g&&(this.response=this.responseText=n,ph(this))},dt.Ua=function(n){this.g&&(this.response=n,ph(this))},dt.ga=function(){this.g&&ph(this)},dt.setRequestHeader=function(n,e){this.v.append(n,e)},dt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},dt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(fp.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var BE=Ft.JSON.parse;function Kn(n){Qr.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=UE,this.K=this.L=!1}hi(Kn,Qr);var UE="",jE=/^https?$/i,PI=["POST","PUT"];function yv(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,$E(n),pp(n)}function $E(n){n.D||(n.D=!0,Mr(n,"complete"),Mr(n,"error"))}function GE(n){if(n.h&&void 0!==mm&&(!n.C[1]||4!=Aa(n)||2!=n.aa()))if(n.v&&4==Aa(n))uv(n.Ha,0,n);else if(Mr(n,"readystatechange"),4==Aa(n)){n.h=!1;try{const f=n.aa();e:switch(f){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===f){var i=String(n.H).match(mv)[1]||null;if(!i&&Ft.self&&Ft.self.location){var a=Ft.self.location.protocol;i=a.substr(0,a.length-1)}r=!jE.test(i?i.toLowerCase():"")}t=r}if(t)Mr(n,"complete"),Mr(n,"success");else{n.m=6;try{var c=2<Aa(n)?n.g.statusText:""}catch(_){c=""}n.j=c+" ["+n.aa()+"]",$E(n)}}finally{pp(n)}}}function pp(n,e){if(n.g){zE(n);const t=n.g,r=n.C[0]?Kf:null;n.g=null,n.C=null,e||Mr(n,"ready");try{t.onreadystatechange=r}catch(i){}}}function zE(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Ft.clearTimeout(n.A),n.A=null)}function Aa(n){return n.g?n.g.readyState:0}function qE(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case UE:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function WE(n){let e="";return Em(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function ZE(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=WE(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):kn(n,e,t))}function gp(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function jm(n){this.Ca=0,this.i=[],this.j=new rh,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=gp("failFast",!1,n),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=gp("baseRetryDelayMs",5e3,n),this.bb=gp("retryDelaySeedMs",1e4,n),this.$a=gp("forwardChannelMaxRetries",2,n),this.ta=gp("forwardChannelRequestTimeoutMs",2e4,n),this.ra=n&&n.xmlHttpFactory||void 0,this.Da=n&&n.Zb||!1,this.J=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.I="",this.h=new dp(n&&n.concurrentRequestLimit),this.Fa=new uh,this.O=n&&n.fastHandshake||!1,this.N=n&&n.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=n&&n.Xb||!1,n&&n.Aa&&this.j.Aa(),n&&n.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&n&&n.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function mp(n){if(NI(n),3==n.G){var e=n.U++,t=cc(n.F);kn(t,"SID",n.I),kn(t,"RID",e),kn(t,"TYPE","terminate"),mh(n,t),(e=new op(n,n.j,e,void 0)).K=2,e.v=Fm(cc(t)),t=!1,Ft.navigator&&Ft.navigator.sendBeacon&&(t=Ft.navigator.sendBeacon(e.v.toString(),"")),!t&&Ft.Image&&((new Image).src=e.v,t=!0),t||(e.g=XE(e.l,null),e.g.da(e.v)),e.F=Date.now(),wu(e)}Cv(n)}function Hm(n){n.g&&(bv(n),n.g.cancel(),n.g=null)}function NI(n){Hm(n),n.u&&(Ft.clearTimeout(n.u),n.u=null),$m(n),n.h.cancel(),n.m&&("number"==typeof n.m&&Ft.clearTimeout(n.m),n.m=null)}function vv(n){Bm(n.h)||n.m||(n.m=!0,av(n.Ja,n),n.C=0)}function KE(n,e){var t;t=e?e.m:n.U++;const r=cc(n.F);kn(r,"SID",n.I),kn(r,"RID",t),kn(r,"AID",n.T),mh(n,r),n.o&&n.s&&ZE(r,n.o,n.s),t=new op(n,n.j,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.i=e.D.concat(n.i)),e=FI(n,t,1e3),t.setTimeout(Math.round(.5*n.ta)+Math.round(.5*n.ta*Math.random())),hc(n.h,t),Nm(t,r,e)}function mh(n,e){n.ia&&Em(n.ia,function(t,r){kn(e,r,t)}),n.l&&gv({},function(t,r){kn(e,r,t)})}function FI(n,e,t){t=Math.min(n.i.length,t);var r=n.l?di(n.l.Ra,n.l,n):null;e:{var i=n.i;let a=-1;for(;;){const c=["count="+t];-1==a?0<t?(a=i[0].h,c.push("ofs="+a)):a=0:c.push("ofs="+a);let f=!0;for(let _=0;_<t;_++){let E=i[_].h;const I=i[_].g;if(E-=a,0>E)a=Math.max(0,i[_].h-100),f=!1;else try{dh(I,c,"req"+E+"_")}catch(x){r&&r(I)}}if(f){r=c.join("&");break e}}}return n=n.i.splice(0,t),e.D=n,r}function YE(n){n.g||n.u||(n.Z=1,av(n.Ia,n),n.A=0)}function pc(n){return!(n.g||n.u||3<=n.A||(n.Z++,n.u=sp(di(n.Ia,n),_p(n,n.A)),n.A++,0))}function bv(n){null!=n.B&&(Ft.clearTimeout(n.B),n.B=null)}function Ev(n){n.g=new op(n,n.j,"rpc",n.Z),null===n.o&&(n.g.H=n.s),n.g.N=0;var e=cc(n.sa);kn(e,"RID","rpc"),kn(e,"SID",n.I),kn(e,"CI",n.L?"0":"1"),kn(e,"AID",n.T),kn(e,"TYPE","xmlhttp"),mh(n,e),n.o&&n.s&&ZE(e,n.o,n.s),n.J&&n.g.setTimeout(n.J);var t=n.g;n=n.ka,t.K=1,t.v=Fm(cc(e)),t.s=null,t.P=!0,kE(t,n)}function $m(n){null!=n.v&&(Ft.clearTimeout(n.v),n.v=null)}function wv(n,e){var t=null;if(n.g==e){$m(n),bv(n),n.g=null;var r=2}else{if(!dc(n.h,e))return;t=e.D,Tu(n.h,e),r=1}if(0!=n.G)if(n.pa=e.Y,e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var i=n.C;Mr(r=ip(),new Eu(r,t,e,i)),vv(n)}else YE(n);else if(3==(i=e.o)||0==i&&0<n.pa||!(1==r&&function sM(n,e){return!(Iu(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=e.D.concat(n.i),0):1==n.G||2==n.G||n.C>=(n.Za?0:n.$a)||(n.m=sp(di(n.Ja,n,e),_p(n,n.C)),n.C++,0)))}(n,e)||2==r&&pc(n)))switch(t&&0<t.length&&(e=n.h,e.i=e.i.concat(t)),i){case 1:Au(n,5);break;case 4:Au(n,10);break;case 3:Au(n,6);break;default:Au(n,2)}}function _p(n,e){let t=n.Xa+Math.floor(Math.random()*n.bb);return n.l||(t*=2),t*e}function Au(n,e){if(n.j.info("Error code "+e),2==e){var t=null;n.l&&(t=null);var r=di(n.kb,n);t||(t=new Cu("//www.google.com/images/cleardot.gif"),Ft.location&&"http"==Ft.location.protocol||lp(t,"https"),Fm(t)),function hh(n,e){const t=new rh;if(Ft.Image){const r=new Image;r.onload=ym(hp,t,r,"TestLoadImage: loaded",!0,e),r.onerror=ym(hp,t,r,"TestLoadImage: error",!1,e),r.onabort=ym(hp,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=ym(hp,t,r,"TestLoadImage: timeout",!1,e),Ft.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Hi(2);n.G=0,n.l&&n.l.va(e),Cv(n),NI(n)}function Cv(n){if(n.G=0,n.la=[],n.l){const e=Su(n.h);(0!=e.length||0!=n.i.length)&&(gu(n.la,e),gu(n.la,n.i),n.h.i.length=0,pu(n.i),n.i.length=0),n.l.ua()}}function QE(n,e,t){var r=t instanceof Cu?cc(t):new Cu(t,void 0);if(""!=r.g)e&&(r.g=e+"."+r.g),lh(r,r.m);else{var i=Ft.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var a=new Cu(null,void 0);r&&lp(a,r),e&&(a.g=e),i&&lh(a,i),t&&(a.l=t),r=a}return e=n.za,(t=n.D)&&e&&kn(r,t,e),kn(r,"VER",n.ma),mh(n,r),r}function XE(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Kn(t&&n.Da&&!n.ra?new fh({jb:!0}):n.ra)).Ka(n.H),e}function JE(){}function Gm(){if(mu&&!(10<=Number(tv)))throw Error("Environmental error: no available transport.")}function Os(n,e){Qr.call(this),this.g=new jm(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.S=n,(n=e&&e.Yb)&&!Qf(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Qf(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Mu(this)}function Dv(n){xm.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function ew(){Rm.call(this),this.status=1}function Mu(n){this.g=n}(dt=Kn.prototype).Ka=function(n){this.L=n},dt.da=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():km.g(),this.C=function Ho(n){return n.h||(n.h=n.i())}(this.u?this.u:km),this.g.onreadystatechange=di(this.Ha,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(a){return void yv(this,a)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const a of r.keys())t.set(a,r.get(a))}r=Array.from(t.keys()).find(a=>"content-type"==a.toLowerCase()),i=Ft.FormData&&n instanceof Ft.FormData,!(0<=fu(PI,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[a,c]of t)this.g.setRequestHeader(a,c);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{zE(this),0<this.B&&((this.K=function HE(n){return mu&&function pE(){return function dE(n){var e=XA;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=vm(String(Ii)).split("."),t=vm("9").split("."),r=Math.max(e.length,t.length);for(let c=0;0==n&&c<r;c++){var i=e[c]||"",a=t[c]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==i[0].length&&0==a[0].length)break;n=Xf(0==i[1].length?0:parseInt(i[1],10),0==a[1].length?0:parseInt(a[1],10))||Xf(0==i[2].length,0==a[2].length)||Xf(i[2],a[2]),i=i[3],a=a[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=di(this.qa,this)):this.A=uv(this.qa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(a){yv(this,a)}},dt.qa=function(){void 0!==mm&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Mr(this,"timeout"),this.abort(8))},dt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Mr(this,"complete"),Mr(this,"abort"),pp(this))},dt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),pp(this,!0)),Kn.X.M.call(this)},dt.Ha=function(){this.s||(this.F||this.v||this.l?GE(this):this.fb())},dt.fb=function(){GE(this)},dt.aa=function(){try{return 2<Aa(this)?this.g.status:-1}catch(n){return-1}},dt.fa=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},dt.Sa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),BE(e)}},dt.Ea=function(){return this.m},dt.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(dt=jm.prototype).ma=8,dt.G=1,dt.Ja=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;const i=new op(this,this.j,n,void 0);let a=this.s;if(this.S&&(a?(a=yE(a),nv(a,this.S)):a=this.S),null!==this.o||this.N||(i.H=a,a=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var r=this.i[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=FI(this,i,e),kn(t=cc(this.F),"RID",n),kn(t,"CVER",22),this.D&&kn(t,"X-HTTP-Session-Id",this.D),mh(this,t),a&&(this.N?e="headers="+encodeURIComponent(String(WE(a)))+"&"+e:this.o&&ZE(t,this.o,a)),hc(this.h,i),this.Ya&&kn(t,"TYPE","init"),this.O?(kn(t,"$req",e),kn(t,"SID","null"),i.Z=!0,Nm(i,t,null)):Nm(i,t,e),this.G=2}}else 3==this.G&&(n?KE(this,n):0==this.i.length||Bm(this.h)||KE(this))},dt.Ia=function(){if(this.u=null,Ev(this),this.$&&!(this.K||null==this.g||0>=this.P)){var n=2*this.P;this.j.info("BP detection timer enabled: "+n),this.B=sp(di(this.eb,this),n)}},dt.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Hi(10),Hm(this),Ev(this))},dt.cb=function(){null!=this.v&&(this.v=null,Hm(this),pc(this),Hi(19))},dt.kb=function(n){n?(this.j.info("Successfully pinged google.com"),Hi(2)):(this.j.info("Failed to ping google.com"),Hi(1))},(dt=JE.prototype).xa=function(){},dt.wa=function(){},dt.va=function(){},dt.ua=function(){},dt.Ra=function(){},Gm.prototype.g=function(n,e){return new Os(n,e)},hi(Os,Qr),Os.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;Hi(0),n.V=e,n.ia=t||{},n.L=n.Y,n.F=QE(n,null,n.V),vv(n)},Os.prototype.close=function(){mp(this.g)},Os.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=Cm(n),n=t);e.i.push(new class{constructor(n,e){this.h=n,this.g=e}}(e.ab++,n)),3==e.G&&vv(e)},Os.prototype.M=function(){this.g.l=null,delete this.j,mp(this.g),delete this.g,Os.X.M.call(this)},hi(Dv,xm),hi(ew,Rm),hi(Mu,JE),Mu.prototype.xa=function(){Mr(this.g,"a")},Mu.prototype.wa=function(n){Mr(this.g,new Dv(n))},Mu.prototype.va=function(n){Mr(this.g,new ew(n))},Mu.prototype.ua=function(){Mr(this.g,"b")},Gm.prototype.createWebChannel=Gm.prototype.g,Os.prototype.send=Os.prototype.u,Os.prototype.open=Os.prototype.m,Os.prototype.close=Os.prototype.close,Am.NO_ERROR=0,Am.TIMEOUT=8,Am.HTTP_ERROR=6,xE.COMPLETE="complete",Mm.EventType=sh,sh.OPEN="a",sh.CLOSE="b",sh.ERROR="c",sh.MESSAGE="d",Qr.prototype.listen=Qr.prototype.N,Kn.prototype.listenOnce=Kn.prototype.O,Kn.prototype.getLastError=Kn.prototype.Oa,Kn.prototype.getLastErrorCode=Kn.prototype.Ea,Kn.prototype.getStatus=Kn.prototype.aa,Kn.prototype.getResponseJson=Kn.prototype.Sa,Kn.prototype.getResponseText=Kn.prototype.fa,Kn.prototype.send=Kn.prototype.da,Kn.prototype.setWithCredentials=Kn.prototype.Ka;var tw=jo.createWebChannelTransport=function(){return new Gm},Iv=jo.getStatEventTarget=function(){return ip()},nw=jo.ErrorCode=Am,Tv=jo.EventType=xE,LI=jo.Event=vu,VI=jo.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},yp=jo.FetchXmlHttpFactory=fh,vp=jo.WebChannel=Mm,Sv=jo.XhrIo=Kn;const zm="@firebase/firestore";class Xr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Xr.UNAUTHENTICATED=new Xr(null),Xr.GOOGLE_CREDENTIALS=new Xr("google-credentials-uid"),Xr.FIRST_PARTY=new Xr("first-party-uid"),Xr.MOCK_USER=new Xr("mock-user");let ll="9.12.1";const Go=new hu.Yd("@firebase/firestore");function bp(){return Go.logLevel}function Pe(n,...e){if(Go.logLevel<=hu.in.DEBUG){const t=e.map(qm);Go.debug(`Firestore (${ll}): ${n}`,...t)}}function Yn(n,...e){if(Go.logLevel<=hu.in.ERROR){const t=e.map(qm);Go.error(`Firestore (${ll}): ${n}`,...t)}}function cl(n,...e){if(Go.logLevel<=hu.in.WARN){const t=e.map(qm);Go.warn(`Firestore (${ll}): ${n}`,...t)}}function qm(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function it(n="Unexpected state"){const e=`FIRESTORE (${ll}) INTERNAL ASSERTION FAILED: `+n;throw Yn(e),new Error(e)}function Tt(n,e){n||it()}function We(n,e){return n}const fe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Oe extends mn.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class xr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Av{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class iw{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Xr.UNAUTHENTICATED))}shutdown(){}}class Mv{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class sw{constructor(e){this.t=e,this.currentUser=Xr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const a=E=>this.i!==i?(i=this.i,t(E)):Promise.resolve();let c=new xr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new xr,e.enqueueRetryable(()=>a(this.currentUser))};const f=()=>{const E=c;e.enqueueRetryable((0,Ce.Z)(function*(){yield E.promise,yield a(r.currentUser)}))},_=E=>{Pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=E,this.auth.addAuthTokenListener(this.o),f()};this.t.onInit(E=>_(E)),setTimeout(()=>{if(!this.auth){const E=this.t.getImmediate({optional:!0});E?_(E):(Pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new xr)}},0),f()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Tt("string"==typeof r.accessToken),new Av(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Tt(null===e||"string"==typeof e),new Xr(e)}}class BI{constructor(e,t,r,i){this.h=e,this.l=t,this.m=r,this.g=i,this.type="FirstParty",this.user=Xr.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(Tt(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class ow{constructor(e,t,r,i){this.h=e,this.l=t,this.m=r,this.g=i}getToken(){return Promise.resolve(new BI(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(Xr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class xv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Rv{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const r=a=>{null!=a.error&&Pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const c=a.token!==this.A;return this.A=a.token,Pe("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{Pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.appCheck.addTokenListener(this.o)};this.T.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.T.getImmediate({optional:!0});a?i(a):Pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Tt("string"==typeof t.token),this.A=t.token,new xv(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function lw(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class kv{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=lw(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<t&&(r+=e.charAt(i[a]%e.length))}return r}}function Vt(n,e){return n<e?-1:n>e?1:0}function xu(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function Ov(n){return n+"\0"}class Nn{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Oe(fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Oe(fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Oe(fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Oe(fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Nn.fromMillis(Date.now())}static fromDate(e){return Nn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Nn(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Vt(this.nanoseconds,e.nanoseconds):Vt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Mt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Mt(e)}static min(){return new Mt(new Nn(0,0))}static max(){return new Mt(new Nn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class _h{constructor(e,t,r){void 0===t?t=0:t>e.length&&it(),void 0===r?r=e.length-t:r>e.length-t&&it(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===_h.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof _h?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const a=e.get(i),c=t.get(i);if(a<c)return-1;if(a>c)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class cn extends _h{construct(e,t,r){return new cn(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Oe(fe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new cn(t)}static emptyPath(){return new cn([])}}const UI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ar extends _h{construct(e,t,r){return new ar(e,t,r)}static isValidIdentifier(e){return UI.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ar.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new ar(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const a=()=>{if(0===r.length)throw new Oe(fe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let c=!1;for(;i<e.length;){const f=e[i];if("\\"===f){if(i+1===e.length)throw new Oe(fe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[i+1];if("\\"!==_&&"."!==_&&"`"!==_)throw new Oe(fe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=_,i+=2}else"`"===f?(c=!c,i++):"."!==f||c?(r+=f,i++):(a(),i++)}if(a(),c)throw new Oe(fe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ar(t)}static emptyPath(){return new ar([])}}class ze{constructor(e){this.path=e}static fromPath(e){return new ze(cn.fromString(e))}static fromName(e){return new ze(cn.fromString(e).popFirst(5))}static empty(){return new ze(cn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===cn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return cn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ze(new cn(e.slice()))}}class Wm{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function fr(n){return n.fields.find(e=>2===e.kind)}function gc(n){return n.fields.filter(e=>2!==e.kind)}Wm.UNKNOWN_ID=-1;class Zm{constructor(e,t){this.fieldPath=e,this.kind=t}}class Ep{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Ep(0,Jr.min())}}function Pv(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Mt.fromTimestamp(1e9===r?new Nn(t+1,0):new Nn(t,r));return new Jr(i,ze.empty(),e)}function Nv(n){return new Jr(n.readTime,n.key,-1)}class Jr{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Jr(Mt.min(),ze.empty(),-1)}static max(){return new Jr(Mt.max(),ze.empty(),-1)}}function Fv(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=ze.comparator(n.documentKey,e.documentKey),0!==t?t:Vt(n.largestBatchId,e.largestBatchId))}const uw="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Lv{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function mc(n){return Km.apply(this,arguments)}function Km(){return Km=(0,Ce.Z)(function*(n){if(n.code!==fe.FAILED_PRECONDITION||n.message!==uw)throw n;Pe("LocalStore","Unexpectedly lost primary lease")}),Km.apply(this,arguments)}class ae{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&it(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ae((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ae?t:ae.resolve(t)}catch(t){return ae.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ae.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ae.reject(t)}static resolve(e){return new ae((t,r)=>{t(e)})}static reject(e){return new ae((t,r)=>{r(e)})}static waitFor(e){return new ae((t,r)=>{let i=0,a=0,c=!1;e.forEach(f=>{++i,f.next(()=>{++a,c&&a===i&&t()},_=>r(_))}),c=!0,a===i&&t()})}static or(e){let t=ae.resolve(!1);for(const r of e)t=t.next(i=>i?ae.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,a)=>{r.push(t.call(this,i,a))}),this.waitFor(r)}static mapArray(e,t){return new ae((r,i)=>{const a=e.length,c=new Array(a);let f=0;for(let _=0;_<a;_++){const E=_;t(e[E]).next(I=>{c[E]=I,++f,f===a&&r(c)},I=>i(I))}})}static doWhile(e,t){return new ae((r,i)=>{const a=()=>{!0===e()?t().next(()=>{a()},i):r()};a()})}}class wp{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.P=new xr,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{t.error?this.P.reject(new Cp(e,t.error)):this.P.resolve()},this.transaction.onerror=r=>{const i=Ym(r.target.error);this.P.reject(new Cp(e,i))}}static open(e,t,r,i){try{return new wp(t,e.transaction(i,r))}catch(a){throw new Cp(t,a)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(Pe("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new xa(t)}}class Ps{constructor(e,t,r){this.name=e,this.version=t,this.S=r,12.2===Ps.D((0,mn.z$)())&&Yn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Pe("SimpleDb","Removing database:",e),fi(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!(0,mn.hl)())return!1;if(Ps.N())return!0;const e=(0,mn.z$)(),t=Ps.D(e),r=0<t&&t<10,i=Ps.k(e),a=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||a)}static N(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.O)}static M(e,t){return e.store(t)}static D(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static k(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}F(e){var t=this;return(0,Ce.Z)(function*(){return t.db||(Pe("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,i)=>{const a=indexedDB.open(t.name,t.version);a.onsuccess=c=>{r(c.target.result)},a.onblocked=()=>{i(new Cp(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=c=>{const f=c.target.error;i("VersionError"===f.name?new Oe(fe.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===f.name?new Oe(fe.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+f):new Cp(e,f))},a.onupgradeneeded=c=>{Pe("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',c.oldVersion),t.S.$(c.target.result,a.transaction,c.oldVersion,t.version).next(()=>{Pe("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=r=>t.B(r)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){var a=this;return(0,Ce.Z)(function*(){const c="readonly"===t;let f=0;for(;;){++f;try{a.db=yield a.F(e);const _=wp.open(a.db,e,c?"readonly":"readwrite",r),E=i(_).next(I=>(_.V(),I)).catch(I=>(_.abort(I),ae.reject(I))).toPromise();return E.catch(()=>{}),yield _.v,E}catch(_){const E=_,I="FirebaseError"!==E.name&&f<3;if(Pe("SimpleDb","Transaction failed with error:",E.message,"Retrying:",I),a.close(),!I)return Promise.reject(E)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Ma{constructor(e){this.U=e,this.q=!1,this.K=null}get isDone(){return this.q}get G(){return this.K}set cursor(e){this.U=e}done(){this.q=!0}j(e){this.K=e}delete(){return fi(this.U.delete())}}class Cp extends Oe{constructor(e,t){super(fe.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function ul(n){return"IndexedDbTransactionError"===n.name}class xa{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(Pe("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(Pe("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),fi(r)}add(e){return Pe("SimpleDb","ADD",this.store.name,e,e),fi(this.store.add(e))}get(e){return fi(this.store.get(e)).next(t=>(void 0===t&&(t=null),Pe("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Pe("SimpleDb","DELETE",this.store.name,e),fi(this.store.delete(e))}count(){return Pe("SimpleDb","COUNT",this.store.name),fi(this.store.count())}W(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),a=[];return this.H(i,(c,f)=>{a.push(f)}).next(()=>a)}{const i=this.store.getAll(r.range);return new ae((a,c)=>{i.onerror=f=>{c(f.target.error)},i.onsuccess=f=>{a(f.target.result)}})}}J(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new ae((i,a)=>{r.onerror=c=>{a(c.target.error)},r.onsuccess=c=>{i(c.target.result)}})}Y(e,t){Pe("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.X=!1;const i=this.cursor(r);return this.H(i,(a,c,f)=>f.delete())}Z(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.H(i,t)}tt(e){const t=this.cursor({});return new ae((r,i)=>{t.onerror=a=>{const c=Ym(a.target.error);i(c)},t.onsuccess=a=>{const c=a.target.result;c?e(c.primaryKey,c.value).next(f=>{f?c.continue():r()}):r()}})}H(e,t){const r=[];return new ae((i,a)=>{e.onerror=c=>{a(c.target.error)},e.onsuccess=c=>{const f=c.target.result;if(!f)return void i();const _=new Ma(f),E=t(f.primaryKey,f.value,_);if(E instanceof ae){const I=E.catch(x=>(_.done(),ae.reject(x)));r.push(I)}_.isDone?i():null===_.G?f.continue():f.continue(_.G)}}).next(()=>ae.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.X?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function fi(n){return new ae((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const i=Ym(r.target.error);t(i)}})}let ho=!1;function Ym(n){const e=Ps.D((0,mn.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Oe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return ho||(ho=!0,setTimeout(()=>{throw r},0)),r}}return n}class dw{constructor(e,t){this.asyncQueue=e,this.et=t,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(e){var t=this;Pe("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,Ce.Z)(function*(){t.task=null;try{Pe("IndexBackiller",`Documents written: ${yield t.et.st()}`)}catch(r){ul(r)?Pe("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield mc(r)}yield t.nt(6e4)}))}}class HI{constructor(e,t){this.localStore=e,this.persistence=t}st(e=50){var t=this;return(0,Ce.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>t.it(r,e))})()}it(e,t){const r=new Set;let i=t,a=!0;return ae.doWhile(()=>!0===a&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(c=>{if(null!==c&&!r.has(c))return Pe("IndexBackiller",`Processing collection: ${c}`),this.rt(e,c,i).next(f=>{i-=f,r.add(c)});a=!1})).next(()=>t-i)}rt(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(i=>this.localStore.localDocuments.getNextDocuments(e,t,i,r).next(a=>{const c=a.changes;return this.localStore.indexManager.updateIndexEntries(e,c).next(()=>this.ot(i,a)).next(f=>(Pe("IndexBackiller",`Updating offset: ${f}`),this.localStore.indexManager.updateCollectionGroup(e,t,f))).next(()=>c.size)}))}ot(e,t){let r=e;return t.changes.forEach((i,a)=>{const c=Nv(a);Fv(c,r)>0&&(r=c)}),new Jr(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}class cs{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ut(r),this.ct=r=>t.writeSequenceNumber(r))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}function hw(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ru(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Qm(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}cs.at=-1;class On{constructor(e,t){this.comparator=e,this.root=t||ei.EMPTY}insert(e,t){return new On(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ei.BLACK,null,null))}remove(e){return new On(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ei.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Xm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Xm(this.root,e,this.comparator,!1)}getReverseIterator(){return new Xm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Xm(this.root,e,this.comparator,!0)}}class Xm{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(0===a){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ei{constructor(e,t,r,i,a){this.key=e,this.value=t,this.color=null!=r?r:ei.RED,this.left=null!=i?i:ei.EMPTY,this.right=null!=a?a:ei.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,a){return new ei(null!=e?e:this.key,null!=t?t:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===a?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ei.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return ei.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ei.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ei.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw it();const e=this.left.check();if(e!==this.right.check())throw it();return e+(this.isRed()?0:1)}}ei.EMPTY=null,ei.RED=!0,ei.BLACK=!1,ei.EMPTY=new class{constructor(){this.size=0}get key(){throw it()}get value(){throw it()}get color(){throw it()}get left(){throw it()}get right(){throw it()}copy(n,e,t,r,i){return this}insert(n,e,t){return new ei(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class wn{constructor(e){this.comparator=e,this.data=new On(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Vv(this.data.getIterator())}getIteratorFrom(e){return new Vv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof wn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new wn(this.comparator);return t.data=e,t}}class Vv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function ku(n){return n.hasNext()?n.getNext():void 0}class Si{constructor(e){this.fields=e,e.sort(ar.comparator)}static empty(){return new Si([])}unionWith(e){let t=new wn(ar.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Si(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return xu(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class br{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new br(t)}static fromUint8Array(e){const t=function(r){let i="";for(let a=0;a<r.length;++a)i+=String.fromCharCode(r[a]);return i}(e);return new br(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Vt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}br.EMPTY_BYTE_STRING=new br("");const fw=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ra(n){if(Tt(!!n),"string"==typeof n){let e=0;const t=fw.exec(n);if(Tt(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Fn(n.seconds),nanos:Fn(n.nanos)}}function Fn(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function _c(n){return"string"==typeof n?br.fromBase64String(n):br.fromUint8Array(n)}function Jm(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Bv(n){const e=n.mapValue.fields.__previous_value__;return Jm(e)?Bv(e):e}function yh(n){const e=Ra(n.mapValue.fields.__local_write_time__.timestampValue);return new Nn(e.seconds,e.nanos)}class pw{constructor(e,t,r,i,a,c,f,_){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=c,this.autoDetectLongPolling=f,this.useFetchStreams=_}}class dl{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new dl("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof dl&&e.projectId===this.projectId&&e.database===this.database}}function vh(n){return null==n}function bh(n){return 0===n&&1/n==-1/0}function gw(n){return"number"==typeof n&&Number.isInteger(n)&&!bh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const yc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},e_={nullValue:"NULL_VALUE"};function Ou(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Jm(n)?4:vw(n)?9007199254740991:10:it()}function ka(n,e){if(n===e)return!0;const t=Ou(n);if(t!==Ou(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return yh(n).isEqual(yh(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const a=Ra(r.timestampValue),c=Ra(i.timestampValue);return a.seconds===c.seconds&&a.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,_c(n.bytesValue).isEqual(_c(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return Fn(r.geoPointValue.latitude)===Fn(i.geoPointValue.latitude)&&Fn(r.geoPointValue.longitude)===Fn(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Fn(r.integerValue)===Fn(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const a=Fn(r.doubleValue),c=Fn(i.doubleValue);return a===c?bh(a)===bh(c):isNaN(a)&&isNaN(c)}return!1}(n,e);case 9:return xu(n.arrayValue.values||[],e.arrayValue.values||[],ka);case 10:return function(r,i){const a=r.mapValue.fields||{},c=i.mapValue.fields||{};if(hw(a)!==hw(c))return!1;for(const f in a)if(a.hasOwnProperty(f)&&(void 0===c[f]||!ka(a[f],c[f])))return!1;return!0}(n,e);default:return it()}var i}function Dp(n,e){return void 0!==(n.values||[]).find(t=>ka(t,e))}function vc(n,e){if(n===e)return 0;const t=Ou(n),r=Ou(e);if(t!==r)return Vt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Vt(n.booleanValue,e.booleanValue);case 2:return function(i,a){const c=Fn(i.integerValue||i.doubleValue),f=Fn(a.integerValue||a.doubleValue);return c<f?-1:c>f?1:c===f?0:isNaN(c)?isNaN(f)?0:-1:1}(n,e);case 3:return mw(n.timestampValue,e.timestampValue);case 4:return mw(yh(n),yh(e));case 5:return Vt(n.stringValue,e.stringValue);case 6:return function(i,a){const c=_c(i),f=_c(a);return c.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(i,a){const c=i.split("/"),f=a.split("/");for(let _=0;_<c.length&&_<f.length;_++){const E=Vt(c[_],f[_]);if(0!==E)return E}return Vt(c.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,a){const c=Vt(Fn(i.latitude),Fn(a.latitude));return 0!==c?c:Vt(Fn(i.longitude),Fn(a.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,a){const c=i.values||[],f=a.values||[];for(let _=0;_<c.length&&_<f.length;++_){const E=vc(c[_],f[_]);if(E)return E}return Vt(c.length,f.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,a){if(i===yc.mapValue&&a===yc.mapValue)return 0;if(i===yc.mapValue)return 1;if(a===yc.mapValue)return-1;const c=i.fields||{},f=Object.keys(c),_=a.fields||{},E=Object.keys(_);f.sort(),E.sort();for(let I=0;I<f.length&&I<E.length;++I){const x=Vt(f[I],E[I]);if(0!==x)return x;const F=vc(c[f[I]],_[E[I]]);if(0!==F)return F}return Vt(f.length,E.length)}(n.mapValue,e.mapValue);default:throw it()}}function mw(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Vt(n,e);const t=Ra(n),r=Ra(e),i=Vt(t.seconds,r.seconds);return 0!==i?i:Vt(t.nanos,r.nanos)}function Eh(n){return Uv(n)}function Uv(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=Ra(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?_c(n.bytesValue).toBase64():"referenceValue"in n?ze.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",a=!0;for(const c of r.values||[])a?a=!1:i+=",",i+=Uv(c);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let a="{",c=!0;for(const f of i)c?c=!1:a+=",",a+=`${f}:${Uv(r.fields[f])}`;return a+"}"}(n.mapValue):it();var e}function Pu(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function jv(n){return!!n&&"integerValue"in n}function Ip(n){return!!n&&"arrayValue"in n}function _w(n){return!!n&&"nullValue"in n}function yw(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function t_(n){return!!n&&"mapValue"in n}function Tp(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Ru(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Tp(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Tp(n.arrayValue.values[t]);return e}return Object.assign({},n)}function vw(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function bw(n){return"nullValue"in n?e_:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Pu(dl.empty(),ze.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:it()}function Ew(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Pu(dl.empty(),ze.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?yc:it()}function Hv(n,e){const t=vc(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function $v(n,e){const t=vc(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class ti{constructor(e){this.value=e}static empty(){return new ti({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!t_(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Tp(t)}setAll(e){let t=ar.emptyPath(),r={},i=[];e.forEach((c,f)=>{if(!t.isImmediateParentOf(f)){const _=this.getFieldsMap(t);this.applyChanges(_,r,i),r={},i=[],t=f.popLast()}c?r[f.lastSegment()]=Tp(c):i.push(f.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,r,i)}delete(e){const t=this.field(e.popLast());t_(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ka(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];t_(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Ru(t,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new ti(Tp(this.value))}}function Gv(n){const e=[];return Ru(n.fields,(t,r)=>{const i=new ar([t]);if(t_(r)){const a=Gv(r.mapValue).fields;if(0===a.length)e.push(i);else for(const c of a)e.push(i.child(c))}else e.push(i)}),new Si(e)}class An{constructor(e,t,r,i,a,c){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.data=a,this.documentState=c}static newInvalidDocument(e){return new An(e,0,Mt.min(),Mt.min(),ti.empty(),0)}static newFoundDocument(e,t,r){return new An(e,1,t,Mt.min(),r,0)}static newNoDocument(e,t){return new An(e,2,t,Mt.min(),ti.empty(),0)}static newUnknownDocument(e,t){return new An(e,3,t,Mt.min(),ti.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ti.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ti.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Mt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof An&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new An(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ww{constructor(e,t=null,r=[],i=[],a=null,c=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=c,this.endAt=f,this.ht=null}}function zv(n,e=null,t=[],r=[],i=null,a=null,c=null){return new ww(n,e,t,r,i,a,c)}function hl(n){const e=We(n);if(null===e.ht){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>{return(i=r).field.canonicalString()+i.op.toString()+Eh(i.value);var i}).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),vh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Eh(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Eh(r)).join(",")),e.ht=t}return e.ht}function zo(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<n.orderBy.length;i++)if(!i_(n.orderBy[i],e.orderBy[i]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let i=0;i<n.filters.length;i++)if((t=n.filters[i]).op!==(r=e.filters[i]).op||!t.field.isEqual(r.field)||!ka(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Qn(n.startAt,e.startAt)&&Qn(n.endAt,e.endAt)}function n_(n){return ze.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function r_(n,e){return n.filters.filter(t=>t instanceof Rr&&t.field.isEqual(e))}function Nu(n,e,t){let r=e_,i=!0;for(const a of r_(n,e)){let c=e_,f=!0;switch(a.op){case"<":case"<=":c=bw(a.value);break;case"==":case"in":case">=":c=a.value;break;case">":c=a.value,f=!1;break;case"!=":case"not-in":c=e_}Hv({value:r,inclusive:i},{value:c,inclusive:f})<0&&(r=c,i=f)}if(null!==t)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const c=t.position[a];Hv({value:r,inclusive:i},{value:c,inclusive:t.inclusive})<0&&(r=c,i=t.inclusive);break}return{value:r,inclusive:i}}function GI(n,e,t){let r=yc,i=!0;for(const a of r_(n,e)){let c=yc,f=!0;switch(a.op){case">=":case">":c=Ew(a.value),f=!1;break;case"==":case"in":case"<=":c=a.value;break;case"<":c=a.value,f=!1;break;case"!=":case"not-in":c=yc}$v({value:r,inclusive:i},{value:c,inclusive:f})>0&&(r=c,i=f)}if(null!==t)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const c=t.position[a];$v({value:r,inclusive:i},{value:c,inclusive:t.inclusive})>0&&(r=c,i=t.inclusive);break}return{value:r,inclusive:i}}class Rr extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.lt(e,t,r):new aM(e,t,r):"array-contains"===t?new St(e,r):"in"===t?new qI(e,r):"not-in"===t?new WI(e,r):"array-contains-any"===t?new ZI(e,r):new Rr(e,t,r)}static lt(e,t,r){return"in"===t?new Dw(e,r):new Iw(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.ft(vc(t,this.value)):null!==t&&Ou(this.value)===Ou(t)&&this.ft(vc(t,this.value))}ft(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return it()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class aM extends Rr{constructor(e,t,r){super(e,t,r),this.key=ze.fromName(r.referenceValue)}matches(e){const t=ze.comparator(e.key,this.key);return this.ft(t)}}class Dw extends Rr{constructor(e,t){super(e,"in",t),this.keys=zI(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Iw extends Rr{constructor(e,t){super(e,"not-in",t),this.keys=zI(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function zI(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>ze.fromName(r.referenceValue))}class St extends Rr{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Ip(t)&&Dp(t.arrayValue,this.value)}}class qI extends Rr{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Dp(this.value.arrayValue,t)}}class WI extends Rr{constructor(e,t){super(e,"not-in",t)}matches(e){if(Dp(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Dp(this.value.arrayValue,t)}}class ZI extends Rr{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Ip(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Dp(this.value.arrayValue,r))}}class qo{constructor(e,t){this.position=e,this.inclusive=t}}class wh{constructor(e,t="asc"){this.field=e,this.dir=t}}function i_(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function Sp(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const a=e[i],c=n.position[i];if(r=a.field.isKeyField()?ze.comparator(ze.fromName(c.referenceValue),t.key):vc(c,t.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function Qn(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!ka(n.position[t],e.position[t]))return!1;return!0}class bc{constructor(e,t=null,r=[],i=[],a=null,c="F",f=null,_=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=c,this.startAt=f,this.endAt=_,this._t=null,this.wt=null}}function qv(n,e,t,r,i,a,c,f){return new bc(n,e,t,r,i,a,c,f)}function Ch(n){return new bc(n)}function Tw(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function s_(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function o_(n){for(const e of n.filters)if(e.dt())return e.field;return null}function a_(n){return null!==n.collectionGroup}function Fu(n){const e=We(n);if(null===e._t){e._t=[];const t=o_(e),r=s_(e);if(null!==t&&null===r)t.isKeyField()||e._t.push(new wh(t)),e._t.push(new wh(ar.keyField(),"asc"));else{let i=!1;for(const a of e.explicitOrderBy)e._t.push(a),a.field.isKeyField()&&(i=!0);if(!i){const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e._t.push(new wh(ar.keyField(),a))}}}return e._t}function $i(n){const e=We(n);if(!e.wt)if("F"===e.limitType)e.wt=zv(e.path,e.collectionGroup,Fu(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const a of Fu(e))t.push(new wh(a.field,"desc"===a.dir?"asc":"desc"));const r=e.endAt?new qo(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new qo(e.startAt.position,e.startAt.inclusive):null;e.wt=zv(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e.wt}function l_(n,e,t){return new bc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Ap(n,e){return zo($i(n),$i(e))&&n.limitType===e.limitType}function Dh(n){return`${hl($i(n))}|lt:${n.limitType}`}function Wv(n){return`Query(target=${function Cw(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${Eh(r.value)}`;var r}).join(", ")}]`),vh(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>Eh(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>Eh(t)).join(",")),`Target(${e})`}($i(n))}; limitType=${n.limitType})`}function Zv(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):ze.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of t.explicitOrderBy)if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,a,c){const f=Sp(i,a,c);return i.inclusive?f<=0:f<0}(t.startAt,Fu(t),r)||t.endAt&&!function(i,a,c){const f=Sp(i,a,c);return i.inclusive?f>=0:f>0}(t.endAt,Fu(t),r)));var t,r}function Sw(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Mp(n){return(e,t)=>{let r=!1;for(const i of Fu(n)){const a=Aw(i,e,t);if(0!==a)return a;r=r||i.field.isKeyField()}return 0}}function Aw(n,e,t){const r=n.field.isKeyField()?ze.comparator(e.key,t.key):function(i,a,c){const f=a.data.field(i),_=c.data.field(i);return null!==f&&null!==_?vc(f,_):it()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return it()}}function Kv(n,e){if(n.gt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:bh(e)?"-0":e}}function Yv(n){return{integerValue:""+n}}function Mw(n,e){return gw(e)?Yv(e):Kv(n,e)}class Ec{constructor(){this._=void 0}}function xp(n,e,t){return n instanceof Ih?function(r,i){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(a.fields.__previous_value__=i),{mapValue:a}}(t,e):n instanceof wc?Qv(n,e):n instanceof Cc?Rw(n,e):function(r,i){const a=xw(r,i),c=kw(a)+kw(r.yt);return jv(a)&&jv(r.yt)?Yv(c):Kv(r.It,c)}(n,e)}function KI(n,e,t){return n instanceof wc?Qv(n,e):n instanceof Cc?Rw(n,e):t}function xw(n,e){return n instanceof Lu?jv(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class Ih extends Ec{}class wc extends Ec{constructor(e){super(),this.elements=e}}function Qv(n,e){const t=Ow(e);for(const r of n.elements)t.some(i=>ka(i,r))||t.push(r);return{arrayValue:{values:t}}}class Cc extends Ec{constructor(e){super(),this.elements=e}}function Rw(n,e){let t=Ow(e);for(const r of n.elements)t=t.filter(i=>!ka(i,r));return{arrayValue:{values:t}}}class Lu extends Ec{constructor(e,t){super(),this.It=e,this.yt=t}}function kw(n){return Fn(n.integerValue||n.doubleValue)}function Ow(n){return Ip(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class c_{constructor(e,t){this.field=e,this.transform=t}}class cM{constructor(e,t){this.version=e,this.transformResults=t}}class Xn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Xn}static exists(e){return new Xn(void 0,e)}static updateTime(e){return new Xn(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Rp(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Vu{}function Pw(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new Ah(n.key,Xn.none()):new Sh(n.key,n.data,Xn.none());{const t=n.data,r=ti.empty();let i=new wn(ar.comparator);for(let a of e.fields)if(!i.has(a)){let c=t.field(a);null===c&&a.length>1&&(a=a.popLast(),c=t.field(a)),null===c?r.delete(a):r.set(a,c),i=i.add(a)}return new fl(n.key,r,new Si(i.toArray()),Xn.none())}}function YI(n,e,t){n instanceof Sh?function(r,i,a){const c=r.value.clone(),f=Lw(r.fieldTransforms,i,a.transformResults);c.setAll(f),i.convertToFoundDocument(a.version,c).setHasCommittedMutations()}(n,e,t):n instanceof fl?function(r,i,a){if(!Rp(r.precondition,i))return void i.convertToUnknownDocument(a.version);const c=Lw(r.fieldTransforms,i,a.transformResults),f=i.data;f.setAll(Fw(r)),f.setAll(c),i.convertToFoundDocument(a.version,f).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Th(n,e,t,r){return n instanceof Sh?function(i,a,c,f){if(!Rp(i.precondition,a))return c;const _=i.value.clone(),E=Xv(i.fieldTransforms,f,a);return _.setAll(E),a.convertToFoundDocument(a.version,_).setHasLocalMutations(),null}(n,e,t,r):n instanceof fl?function(i,a,c,f){if(!Rp(i.precondition,a))return c;const _=Xv(i.fieldTransforms,f,a),E=a.data;return E.setAll(Fw(i)),E.setAll(_),a.convertToFoundDocument(a.version,E).setHasLocalMutations(),null===c?null:c.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(I=>I.field))}(n,e,t,r):(c=t,Rp(n.precondition,a=e)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):c);var a,c}function kp(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),a=xw(r.transform,i||null);null!=a&&(null===t&&(t=ti.empty()),t.set(r.field,a))}return t||null}function Nw(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&xu(t,r,(i,a)=>function lM(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof wc&&r instanceof wc||t instanceof Cc&&r instanceof Cc?xu(t.elements,r.elements,ka):t instanceof Lu&&r instanceof Lu?ka(t.yt,r.yt):t instanceof Ih&&r instanceof Ih);var t,r}(i,a))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class Sh extends Vu{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class fl extends Vu{constructor(e,t,r,i,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function Fw(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function Lw(n,e,t){const r=new Map;Tt(n.length===t.length);for(let i=0;i<t.length;i++){const a=n[i],c=a.transform,f=e.data.field(a.field);r.set(a.field,KI(c,f,t[i]))}return r}function Xv(n,e,t){const r=new Map;for(const i of n){const a=i.transform,c=t.data.field(i.field);r.set(i.field,xp(a,c,e))}return r}class Ah extends Vu{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Jv extends Vu{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Mh{constructor(e){this.count=e}}var Er,en;function Vw(n){switch(n){default:return it();case fe.CANCELLED:case fe.UNKNOWN:case fe.DEADLINE_EXCEEDED:case fe.RESOURCE_EXHAUSTED:case fe.INTERNAL:case fe.UNAVAILABLE:case fe.UNAUTHENTICATED:return!1;case fe.INVALID_ARGUMENT:case fe.NOT_FOUND:case fe.ALREADY_EXISTS:case fe.PERMISSION_DENIED:case fe.FAILED_PRECONDITION:case fe.ABORTED:case fe.OUT_OF_RANGE:case fe.UNIMPLEMENTED:case fe.DATA_LOSS:return!0}}function eb(n){if(void 0===n)return Yn("GRPC error has no .code"),fe.UNKNOWN;switch(n){case Er.OK:return fe.OK;case Er.CANCELLED:return fe.CANCELLED;case Er.UNKNOWN:return fe.UNKNOWN;case Er.DEADLINE_EXCEEDED:return fe.DEADLINE_EXCEEDED;case Er.RESOURCE_EXHAUSTED:return fe.RESOURCE_EXHAUSTED;case Er.INTERNAL:return fe.INTERNAL;case Er.UNAVAILABLE:return fe.UNAVAILABLE;case Er.UNAUTHENTICATED:return fe.UNAUTHENTICATED;case Er.INVALID_ARGUMENT:return fe.INVALID_ARGUMENT;case Er.NOT_FOUND:return fe.NOT_FOUND;case Er.ALREADY_EXISTS:return fe.ALREADY_EXISTS;case Er.PERMISSION_DENIED:return fe.PERMISSION_DENIED;case Er.FAILED_PRECONDITION:return fe.FAILED_PRECONDITION;case Er.ABORTED:return fe.ABORTED;case Er.OUT_OF_RANGE:return fe.OUT_OF_RANGE;case Er.UNIMPLEMENTED:return fe.UNIMPLEMENTED;case Er.DATA_LOSS:return fe.DATA_LOSS;default:return it()}}(en=Er||(Er={}))[en.OK=0]="OK",en[en.CANCELLED=1]="CANCELLED",en[en.UNKNOWN=2]="UNKNOWN",en[en.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",en[en.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",en[en.NOT_FOUND=5]="NOT_FOUND",en[en.ALREADY_EXISTS=6]="ALREADY_EXISTS",en[en.PERMISSION_DENIED=7]="PERMISSION_DENIED",en[en.UNAUTHENTICATED=16]="UNAUTHENTICATED",en[en.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",en[en.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",en[en.ABORTED=10]="ABORTED",en[en.OUT_OF_RANGE=11]="OUT_OF_RANGE",en[en.UNIMPLEMENTED=12]="UNIMPLEMENTED",en[en.INTERNAL=13]="INTERNAL",en[en.UNAVAILABLE=14]="UNAVAILABLE",en[en.DATA_LOSS=15]="DATA_LOSS";class Dc{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,a]of r)if(this.equalsFn(i,e))return a}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ru(this.inner,(t,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return Qm(this.inner)}size(){return this.innerSize}}const Bw=new On(ze.comparator);function us(){return Bw}const u_=new On(ze.comparator);function Op(...n){let e=u_;for(const t of n)e=e.insert(t.key,t);return e}function tb(n){let e=u_;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Wo(){return Pp()}function Uw(){return Pp()}function Pp(){return new Dc(n=>n.toString(),(n,e)=>n.isEqual(e))}const QI=new On(ze.comparator),nb=new wn(ze.comparator);function Ht(...n){let e=nb;for(const t of n)e=e.add(t);return e}const jw=new wn(Vt);function d_(){return jw}class Np{constructor(e,t,r,i,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,Fp.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Np(Mt.min(),i,d_(),us(),Ht())}}class Fp{constructor(e,t,r,i,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Fp(r,t,Ht(),Ht(),Ht())}}class h_{constructor(e,t,r,i){this.Tt=e,this.removedTargetIds=t,this.key=r,this.Et=i}}class Hw{constructor(e,t){this.targetId=e,this.At=t}}class $w{constructor(e,t,r=br.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class Gw{constructor(){this.Rt=0,this.bt=ib(),this.Pt=br.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return 0!==this.Rt}get Dt(){return this.Vt}Ct(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}xt(){let e=Ht(),t=Ht(),r=Ht();return this.bt.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:it()}}),new Fp(this.Pt,this.vt,e,t,r)}Nt(){this.Vt=!1,this.bt=ib()}kt(e,t){this.Vt=!0,this.bt=this.bt.insert(e,t)}Ot(e){this.Vt=!0,this.bt=this.bt.remove(e)}Mt(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class XI{constructor(e){this.Bt=e,this.Lt=new Map,this.Ut=us(),this.qt=rb(),this.Kt=new wn(Vt)}Gt(e){for(const t of e.Tt)e.Et&&e.Et.isFoundDocument()?this.Qt(t,e.Et):this.jt(t,e.key,e.Et);for(const t of e.removedTargetIds)this.jt(t,e.key,e.Et)}Wt(e){this.forEachTarget(e,t=>{const r=this.zt(t);switch(e.state){case 0:this.Ht(t)&&r.Ct(e.resumeToken);break;case 1:r.Ft(),r.St||r.Nt(),r.Ct(e.resumeToken);break;case 2:r.Ft(),r.St||this.removeTarget(t);break;case 3:this.Ht(t)&&(r.$t(),r.Ct(e.resumeToken));break;case 4:this.Ht(t)&&(this.Jt(t),r.Ct(e.resumeToken));break;default:it()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Lt.forEach((r,i)=>{this.Ht(i)&&t(i)})}Yt(e){const t=e.targetId,r=e.At.count,i=this.Xt(t);if(i){const a=i.target;if(n_(a))if(0===r){const c=new ze(a.path);this.jt(t,c,An.newNoDocument(c,Mt.min()))}else Tt(1===r);else this.Zt(t)!==r&&(this.Jt(t),this.Kt=this.Kt.add(t))}}te(e){const t=new Map;this.Lt.forEach((a,c)=>{const f=this.Xt(c);if(f){if(a.current&&n_(f.target)){const _=new ze(f.target.path);null!==this.Ut.get(_)||this.ee(c,_)||this.jt(c,_,An.newNoDocument(_,e))}a.Dt&&(t.set(c,a.xt()),a.Nt())}});let r=Ht();this.qt.forEach((a,c)=>{let f=!0;c.forEachWhile(_=>{const E=this.Xt(_);return!E||2===E.purpose||(f=!1,!1)}),f&&(r=r.add(a))}),this.Ut.forEach((a,c)=>c.setReadTime(e));const i=new Np(e,t,this.Kt,this.Ut,r);return this.Ut=us(),this.qt=rb(),this.Kt=new wn(Vt),i}Qt(e,t){if(!this.Ht(e))return;const r=this.ee(e,t.key)?2:0;this.zt(e).kt(t.key,r),this.Ut=this.Ut.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ne(t.key).add(e))}jt(e,t,r){if(!this.Ht(e))return;const i=this.zt(e);this.ee(e,t)?i.kt(t,1):i.Ot(t),this.qt=this.qt.insert(t,this.ne(t).delete(e)),r&&(this.Ut=this.Ut.insert(t,r))}removeTarget(e){this.Lt.delete(e)}Zt(e){const t=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Mt(e){this.zt(e).Mt()}zt(e){let t=this.Lt.get(e);return t||(t=new Gw,this.Lt.set(e,t)),t}ne(e){let t=this.qt.get(e);return t||(t=new wn(Vt),this.qt=this.qt.insert(e,t)),t}Ht(e){const t=null!==this.Xt(e);return t||Pe("WatchChangeAggregator","Detected inactive target",e),t}Xt(e){const t=this.Lt.get(e);return t&&t.St?null:this.Bt.se(e)}Jt(e){this.Lt.set(e,new Gw),this.Bt.getRemoteKeysForTarget(e).forEach(t=>{this.jt(e,t,null)})}ee(e,t){return this.Bt.getRemoteKeysForTarget(e).has(t)}}function rb(){return new On(ze.comparator)}function ib(){return new On(ze.comparator)}const JI={asc:"ASCENDING",desc:"DESCENDING"},eT={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class zw{constructor(e,t){this.databaseId=e,this.gt=t}}function Lp(n,e){return n.gt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function qw(n,e){return n.gt?e.toBase64():e.toUint8Array()}function tT(n,e){return Lp(n,e.toTimestamp())}function wr(n){return Tt(!!n),Mt.fromTimestamp(function(e){const t=Ra(e);return new Nn(t.seconds,t.nanos)}(n))}function Vp(n,e){return(t=n,new cn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function sb(n){const e=cn.fromString(n);return Tt(m_(e)),e}function Bu(n,e){return Vp(n.databaseId,e.path)}function Oa(n,e){const t=sb(e);if(t.get(1)!==n.databaseId.projectId)throw new Oe(fe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Oe(fe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ze(ab(t))}function ob(n,e){return Vp(n.databaseId,e)}function f_(n){const e=sb(n);return 4===e.length?cn.emptyPath():ab(e)}function Bp(n){return new cn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function ab(n){return Tt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function Ww(n,e,t){return{name:Bu(n,e),fields:t.value.mapValue.fields}}function lb(n,e,t){const r=Oa(n,e.name),i=wr(e.updateTime),a=new ti({mapValue:{fields:e.fields}}),c=An.newFoundDocument(r,i,a);return t&&c.setHasCommittedMutations(),t?c.setHasCommittedMutations():c}function p_(n,e){let t;if(e instanceof Sh)t={update:Ww(n,e.key,e.value)};else if(e instanceof Ah)t={delete:Bu(n,e.key)};else if(e instanceof fl)t={update:Ww(n,e.key,e.data),updateMask:Xw(e.fieldMask)};else{if(!(e instanceof Jv))return it();t={verify:Bu(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,a){const c=a.transform;if(c instanceof Ih)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof wc)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Cc)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Lu)return{fieldPath:a.field.canonicalString(),increment:c.yt};throw it()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:tT(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:it()),t;var i}function cb(n,e){const t=e.currentDocument?void 0!==(i=e.currentDocument).updateTime?Xn.updateTime(wr(i.updateTime)):void 0!==i.exists?Xn.exists(i.exists):Xn.none():Xn.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(a,c){let f=null;"setToServerValue"in c?(Tt("REQUEST_TIME"===c.setToServerValue),f=new Ih):"appendMissingElements"in c?f=new wc(c.appendMissingElements.values||[]):"removeAllFromArray"in c?f=new Cc(c.removeAllFromArray.values||[]):"increment"in c?f=new Lu(a,c.increment):it();const _=ar.fromServerFormat(c.fieldPath);return new c_(_,f)}(n,i)):[];var i;if(e.update){const i=Oa(n,e.update.name),a=new ti({mapValue:{fields:e.update.fields}});if(e.updateMask){const c=new Si((e.updateMask.fieldPaths||[]).map(E=>ar.fromServerFormat(E)));return new fl(i,a,c,t,r)}return new Sh(i,a,t,r)}if(e.delete){const i=Oa(n,e.delete);return new Ah(i,t)}if(e.verify){const i=Oa(n,e.verify);return new Jv(i,t)}return it()}function Kw(n,e){return{documents:[ob(n,e.path)]}}function Ic(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=ob(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=ob(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(_){if(0===_.length)return;const E=_.map(I=>function(x){if("=="===x.op){if(yw(x.value))return{unaryFilter:{field:Rh(x.field),op:"IS_NAN"}};if(_w(x.value))return{unaryFilter:{field:Rh(x.field),op:"IS_NULL"}}}else if("!="===x.op){if(yw(x.value))return{unaryFilter:{field:Rh(x.field),op:"IS_NOT_NAN"}};if(_w(x.value))return{unaryFilter:{field:Rh(x.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Rh(x.field),op:sT(x.op),value:x.value}}}(I));return 1===E.length?E[0]:{compositeFilter:{op:"AND",filters:E}}}(e.filters);i&&(t.structuredQuery.where=i);const a=function(_){if(0!==_.length)return _.map(E=>{return{field:Rh((I=E).field),direction:Yw(I.dir)};var I})}(e.orderBy);a&&(t.structuredQuery.orderBy=a);const c=(E=e.limit,n.gt||vh(E)?E:{value:E});var E,f,_;return null!==c&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt={before:(f=e.startAt).inclusive,values:f.position}),e.endAt&&(t.structuredQuery.endAt={before:!(_=e.endAt).inclusive,values:_.position}),t}function xh(n){let e=f_(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Tt(1===r);const I=t.from[0];I.allDescendants?i=I.collectionId:e=e.child(I.collectionId)}let a=[];t.where&&(a=iT(t.where));let c=[];t.orderBy&&(c=t.orderBy.map(I=>{return new wh(kh((x=I).field),function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction));var x}));let f=null;t.limit&&(f=function(I){let x;return x="object"==typeof I?I.value:I,vh(x)?null:x}(t.limit));let _=null;var I;t.startAt&&(_=new qo((I=t.startAt).values||[],!!I.before));let E=null;return t.endAt&&(E=function(I){return new qo(I.values||[],!I.before)}(t.endAt)),qv(e,i,c,a,f,"F",_,E)}function iT(n){return n?void 0!==n.unaryFilter?[Qw(n)]:void 0!==n.fieldFilter?[oT(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>iT(e)).reduce((e,t)=>e.concat(t)):it():[]}function Yw(n){return JI[n]}function sT(n){return eT[n]}function Rh(n){return{fieldPath:n.canonicalString()}}function kh(n){return ar.fromServerFormat(n.fieldPath)}function oT(n){return Rr.create(kh(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return it()}}(n.fieldFilter.op),n.fieldFilter.value)}function Qw(n){switch(n.unaryFilter.op){case"IS_NAN":const e=kh(n.unaryFilter.field);return Rr.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=kh(n.unaryFilter.field);return Rr.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=kh(n.unaryFilter.field);return Rr.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=kh(n.unaryFilter.field);return Rr.create(i,"!=",{nullValue:"NULL_VALUE"});default:return it()}}function Xw(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function m_(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function ni(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Jw(e)),e=Up(n.get(t),e);return Jw(e)}function Up(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const a=n.charAt(i);switch(a){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=a}}return t}function Jw(n){return n+"\x01\x01"}function Zo(n){const e=n.length;if(Tt(e>=2),2===e)return Tt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),cn.emptyPath();const t=e-2,r=[];let i="";for(let a=0;a<e;){const c=n.indexOf("\x01",a);switch((c<0||c>t)&&it(),n.charAt(c+1)){case"\x01":const f=n.substring(a,c);let _;0===i.length?_=f:(i+=f,_=i,i=""),r.push(_);break;case"\x10":i+=n.substring(a,c),i+="\0";break;case"\x11":i+=n.substring(a,c+1);break;default:it()}a=c+2}return new cn(r)}const ub=["userId","batchId"];function __(n,e){return[n,ni(e)]}function eC(n,e,t){return[n,ni(e),t]}const db={},aT=["prefixPath","collectionGroup","readTime","documentId"],uM=["prefixPath","collectionGroup","documentId"],lT=["collectionGroup","readTime","prefixPath","documentId"],cT=["canonicalId","targetId"],Oh=["targetId","path"],tC=["path","targetId"],Ph=["collectionId","parent"],dM=["indexId","uid"],nC=["uid","sequenceNumber"],uT=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],hM=["indexId","uid","orderedDocumentKey"],rC=["userId","collectionPath","documentId"],fM=["userId","collectionPath","largestBatchId"],iC=["userId","collectionGroup","largestBatchId"],y_=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],sC=[...y_,"documentOverlays"],hb=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],oC=hb,dT=[...oC,"indexConfiguration","indexState","indexEntries"];class fb extends Lv{constructor(e,t){super(),this.ie=e,this.currentSequenceNumber=t}}function ri(n,e){const t=We(n);return Ps.M(t.ie,e)}class pb{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&YI(a,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Th(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Th(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=Uw();return this.mutations.forEach(i=>{const a=e.get(i.key),c=a.overlayedDocument;let f=this.applyToLocalView(c,a.mutatedFields);f=t.has(i.key)?null:f;const _=Pw(c,f);null!==_&&r.set(i.key,_),c.isValidDocument()||c.convertToNoDocument(Mt.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ht())}isEqual(e){return this.batchId===e.batchId&&xu(this.mutations,e.mutations,(t,r)=>Nw(t,r))&&xu(this.baseMutations,e.baseMutations,(t,r)=>Nw(t,r))}}class gb{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Tt(e.mutations.length===r.length);let i=QI;const a=e.mutations;for(let c=0;c<a.length;c++)i=i.insert(a[c].key,r[c].version);return new gb(e,t,r,i)}}class mb{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Tc{constructor(e,t,r,i,a=Mt.min(),c=Mt.min(),f=br.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=f}withSequenceNumber(e){return new Tc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Tc(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Tc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class Nh{constructor(e){this.re=e}}function _b(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:jp(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:Bu(i=n.re,(a=e).key),fields:a.data.value.mapValue.fields,updateTime:Lp(i,a.version.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:Sc(e.version)};else{if(!e.isUnknownDocument())return it();r.unknownDocument={path:t.path.toArray(),version:Sc(e.version)}}var i,a;return r}function jp(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Sc(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Ac(n){const e=new Nn(n.seconds,n.nanoseconds);return Mt.fromTimestamp(e)}function Mc(n,e){const t=(e.baseMutations||[]).map(a=>cb(n.re,a));for(let a=0;a<e.mutations.length-1;++a){const c=e.mutations[a];a+1<e.mutations.length&&void 0!==e.mutations[a+1].transform&&(c.updateTransforms=e.mutations[a+1].transform.fieldTransforms,e.mutations.splice(a+1,1),++a)}const r=e.mutations.map(a=>cb(n.re,a)),i=Nn.fromMillis(e.localWriteTimeMs);return new pb(e.batchId,i,t,r)}function Hp(n){const e=Ac(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Ac(n.lastLimboFreeSnapshotVersion):Mt.min();let r;var i;return void 0!==n.query.documents?(Tt(1===(i=n.query).documents.length),r=$i(Ch(f_(i.documents[0])))):r=$i(xh(n.query)),new Tc(r,n.targetId,0,n.lastListenSequenceNumber,e,t,br.fromBase64String(n.resumeToken))}function lC(n,e){const t=Sc(e.snapshotVersion),r=Sc(e.lastLimboFreeSnapshotVersion);let i;i=n_(e.target)?Kw(n.re,e.target):Ic(n.re,e.target);const a=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:hl(e.target),readTime:t,resumeToken:a,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function v_(n){const e=xh({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?l_(e,e.limit,"L"):e}function yb(n,e){return new mb(e.largestBatchId,cb(n.re,e.overlayMutation))}function cC(n,e){const t=e.path.lastSegment();return[n,ni(e.path.popLast()),t]}function uC(n,e,t,r){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:Sc(r.readTime),documentKey:ni(r.documentKey.path),largestBatchId:r.largestBatchId}}class $p{getBundleMetadata(e,t){return dC(e).get(t).next(r=>{if(r)return{id:(i=r).bundleId,createTime:Ac(i.createTime),version:i.version};var i})}saveBundleMetadata(e,t){return dC(e).put({bundleId:(r=t).id,createTime:Sc(wr(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return b_(e).get(t).next(r=>{if(r)return{name:(i=r).name,query:v_(i.bundledQuery),readTime:Ac(i.readTime)};var i})}saveNamedQuery(e,t){return b_(e).put({name:(r=t).name,readTime:Sc(wr(r.readTime)),bundledQuery:r.bundledQuery});var r}}function dC(n){return ri(n,"bundles")}function b_(n){return ri(n,"namedQueries")}class Ns{constructor(e,t){this.It=e,this.userId=t}static oe(e,t){return new Ns(e,t.uid||"")}getOverlay(e,t){return Gp(e).get(cC(this.userId,t)).next(r=>r?yb(this.It,r):null)}getOverlays(e,t){const r=Wo();return ae.forEach(t,i=>this.getOverlay(e,i).next(a=>{null!==a&&r.set(i,a)})).next(()=>r)}saveOverlays(e,t,r){const i=[];return r.forEach((a,c)=>{const f=new mb(t,c);i.push(this.ue(e,f))}),ae.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(c=>i.add(ni(c.getCollectionPath())));const a=[];return i.forEach(c=>{const f=IDBKeyRange.bound([this.userId,c,r],[this.userId,c,r+1],!1,!0);a.push(Gp(e).Y("collectionPathOverlayIndex",f))}),ae.waitFor(a)}getOverlaysForCollection(e,t,r){const i=Wo(),a=ni(t),c=IDBKeyRange.bound([this.userId,a,r],[this.userId,a,Number.POSITIVE_INFINITY],!0);return Gp(e).W("collectionPathOverlayIndex",c).next(f=>{for(const _ of f){const E=yb(this.It,_);i.set(E.getKey(),E)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const a=Wo();let c;const f=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Gp(e).Z({index:"collectionGroupOverlayIndex",range:f},(_,E,I)=>{const x=yb(this.It,E);a.size()<i||x.largestBatchId===c?(a.set(x.getKey(),x),c=x.largestBatchId):I.done()}).next(()=>a)}ue(e,t){return Gp(e).put(function(r,i,a){const[c,f,_]=cC(i,a.mutation.key);return{userId:i,collectionPath:f,documentId:_,collectionGroup:a.mutation.key.getCollectionGroup(),largestBatchId:a.largestBatchId,overlayMutation:p_(r.re,a.mutation)}}(this.It,this.userId,t))}}function Gp(n){return ri(n,"documentOverlays")}class pl{constructor(){}ce(e,t){this.ae(e,t),t.he()}ae(e,t){if("nullValue"in e)this.le(t,5);else if("booleanValue"in e)this.le(t,10),t.fe(e.booleanValue?1:0);else if("integerValue"in e)this.le(t,15),t.fe(Fn(e.integerValue));else if("doubleValue"in e){const r=Fn(e.doubleValue);isNaN(r)?this.le(t,13):(this.le(t,15),bh(r)?t.fe(0):t.fe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.le(t,20),"string"==typeof r?t.de(r):(t.de(`${r.seconds||""}`),t.fe(r.nanos||0))}else if("stringValue"in e)this._e(e.stringValue,t),this.we(t);else if("bytesValue"in e)this.le(t,30),t.me(_c(e.bytesValue)),this.we(t);else if("referenceValue"in e)this.ge(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.le(t,45),t.fe(r.latitude||0),t.fe(r.longitude||0)}else"mapValue"in e?vw(e)?this.le(t,Number.MAX_SAFE_INTEGER):(this.ye(e.mapValue,t),this.we(t)):"arrayValue"in e?(this.pe(e.arrayValue,t),this.we(t)):it()}_e(e,t){this.le(t,25),this.Ie(e,t)}Ie(e,t){t.de(e)}ye(e,t){const r=e.fields||{};this.le(t,55);for(const i of Object.keys(r))this._e(i,t),this.ae(r[i],t)}pe(e,t){const r=e.values||[];this.le(t,50);for(const i of r)this.ae(i,t)}ge(e,t){this.le(t,37),ze.fromName(e).path.forEach(r=>{this.le(t,60),this.Ie(r,t)})}le(e,t){e.fe(t)}we(e){e.fe(2)}}function zp(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function hC(n){const e=64-function(t){let r=0;for(let i=0;i<8;++i){const a=zp(255&t[i]);if(r+=a,8!==a)break}return r}(n);return Math.ceil(e/8)}pl.Te=new pl;class hT{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ee(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ae(r.value),r=t.next();this.Re()}be(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Pe(r.value),r=t.next();this.ve()}Ve(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ae(r);else if(r<2048)this.Ae(960|r>>>6),this.Ae(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ae(480|r>>>12),this.Ae(128|63&r>>>6),this.Ae(128|63&r);else{const i=t.codePointAt(0);this.Ae(240|i>>>18),this.Ae(128|63&i>>>12),this.Ae(128|63&i>>>6),this.Ae(128|63&i)}}this.Re()}Se(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Pe(r);else if(r<2048)this.Pe(960|r>>>6),this.Pe(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Pe(480|r>>>12),this.Pe(128|63&r>>>6),this.Pe(128|63&r);else{const i=t.codePointAt(0);this.Pe(240|i>>>18),this.Pe(128|63&i>>>12),this.Pe(128|63&i>>>6),this.Pe(128|63&i)}}this.ve()}De(e){const t=this.Ce(e),r=hC(t);this.xe(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}Ne(e){const t=this.Ce(e),r=hC(t);this.xe(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}ke(){this.Oe(255),this.Oe(255)}Me(){this.Fe(255),this.Fe(255)}reset(){this.position=0}seed(e){this.xe(e.length),this.buffer.set(e,this.position),this.position+=e.length}$e(){return this.buffer.slice(0,this.position)}Ce(e){const t=function(i){const a=new DataView(new ArrayBuffer(8));return a.setFloat64(0,i,!1),new Uint8Array(a.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}Ae(e){const t=255&e;0===t?(this.Oe(0),this.Oe(255)):255===t?(this.Oe(255),this.Oe(0)):this.Oe(t)}Pe(e){const t=255&e;0===t?(this.Fe(0),this.Fe(255)):255===t?(this.Fe(255),this.Fe(0)):this.Fe(e)}Re(){this.Oe(0),this.Oe(1)}ve(){this.Fe(0),this.Fe(1)}Oe(e){this.xe(1),this.buffer[this.position++]=e}Fe(e){this.xe(1),this.buffer[this.position++]=~e}xe(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class fT{constructor(e){this.Be=e}me(e){this.Be.Ee(e)}de(e){this.Be.Ve(e)}fe(e){this.Be.De(e)}he(){this.Be.ke()}}class E_{constructor(e){this.Be=e}me(e){this.Be.be(e)}de(e){this.Be.Se(e)}fe(e){this.Be.Ne(e)}he(){this.Be.Me()}}class xc{constructor(){this.Be=new hT,this.Le=new fT(this.Be),this.Ue=new E_(this.Be)}seed(e){this.Be.seed(e)}qe(e){return 0===e?this.Le:this.Ue}$e(){return this.Be.$e()}reset(){this.Be.reset()}}class Uu{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}Ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Uu(this.indexId,this.documentKey,this.arrayValue,r)}}function ju(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=vb(n.arrayValue,e.arrayValue),0!==t?t:(t=vb(n.directionalValue,e.directionalValue),0!==t?t:ze.comparator(n.documentKey,e.documentKey)))}function vb(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class fC{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ge=e.orderBy,this.Qe=[];for(const t of e.filters){const r=t;r.dt()?this.je=r:this.Qe.push(r)}}We(e){const t=fr(e);if(void 0!==t&&!this.ze(t))return!1;const r=gc(e);let i=0,a=0;for(;i<r.length&&this.ze(r[i]);++i);if(i===r.length)return!0;if(void 0!==this.je){const c=r[i];if(!this.He(this.je,c)||!this.Je(this.Ge[a++],c))return!1;++i}for(;i<r.length;++i){const c=r[i];if(a>=this.Ge.length||!this.Je(this.Ge[a++],c))return!1}return!0}ze(e){for(const t of this.Qe)if(this.He(t,e))return!0;return!1}He(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Je(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class bb{constructor(){this.Ye=new w_}addToCollectionParentIndex(e,t){return this.Ye.add(t),ae.resolve()}getCollectionParents(e,t){return ae.resolve(this.Ye.getEntries(t))}addFieldIndex(e,t){return ae.resolve()}deleteFieldIndex(e,t){return ae.resolve()}getDocumentsMatchingTarget(e,t){return ae.resolve(null)}getIndexType(e,t){return ae.resolve(0)}getFieldIndexes(e,t){return ae.resolve([])}getNextCollectionGroupToUpdate(e){return ae.resolve(null)}getMinOffset(e,t){return ae.resolve(Jr.min())}getMinOffsetFromCollectionGroup(e,t){return ae.resolve(Jr.min())}updateCollectionGroup(e,t,r){return ae.resolve()}updateIndexEntries(e,t){return ae.resolve()}}class w_{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new wn(cn.comparator),a=!i.has(r);return this.index[t]=i.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new wn(cn.comparator)).toArray()}}const C_=new Uint8Array(0);class pT{constructor(e,t){this.user=e,this.databaseId=t,this.Xe=new w_,this.Ze=new Dc(r=>hl(r),(r,i)=>zo(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Xe.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.Xe.add(t)});const a={collectionId:r,parent:ni(i)};return gT(e).put(a)}return ae.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[Ov(t),""],!1,!0);return gT(e).W(i).next(a=>{for(const c of a){if(c.collectionId!==t)break;r.push(Zo(c.parent))}return r})}addFieldIndex(e,t){const r=Fh(e),i={indexId:(c=t).indexId,collectionGroup:c.collectionGroup,fields:c.fields.map(f=>[f.fieldPath.canonicalString(),f.kind])};var c;delete i.indexId;const a=r.add(i);if(t.indexState){const c=Lh(e);return a.next(f=>{c.put(uC(f,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return a.next()}deleteFieldIndex(e,t){const r=Fh(e),i=Lh(e),a=Hu(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>a.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=Hu(e);let i=!0;const a=new Map;return ae.forEach(this.tn(t),c=>this.en(e,c).next(f=>{i&&(i=!!f),a.set(c,f)})).next(()=>{if(i){let c=Ht();const f=[];return ae.forEach(a,(_,E)=>{var I;Pe("IndexedDbIndexManager",`Using index ${I=_,`id=${I.indexId}|cg=${I.collectionGroup}|f=${I.fields.map(pt=>`${pt.fieldPath}:${pt.kind}`).join(",")}`} to execute ${hl(t)}`);const x=function(pt,lt){const xt=fr(lt);if(void 0===xt)return null;for(const Pt of r_(pt,xt.fieldPath))switch(Pt.op){case"array-contains-any":return Pt.value.arrayValue.values||[];case"array-contains":return[Pt.value]}return null}(E,_),F=function(pt,lt){const xt=new Map;for(const Pt of gc(lt))for(const un of r_(pt,Pt.fieldPath))switch(un.op){case"==":case"in":xt.set(Pt.fieldPath.canonicalString(),un.value);break;case"not-in":case"!=":return xt.set(Pt.fieldPath.canonicalString(),un.value),Array.from(xt.values())}return null}(E,_),B=function(pt,lt){const xt=[];let Pt=!0;for(const un of gc(lt)){const Us=0===un.kind?Nu(pt,un.fieldPath,pt.startAt):GI(pt,un.fieldPath,pt.startAt);xt.push(Us.value),Pt&&(Pt=Us.inclusive)}return new qo(xt,Pt)}(E,_),j=function(pt,lt){const xt=[];let Pt=!0;for(const un of gc(lt)){const Us=0===un.kind?GI(pt,un.fieldPath,pt.endAt):Nu(pt,un.fieldPath,pt.endAt);xt.push(Us.value),Pt&&(Pt=Us.inclusive)}return new qo(xt,Pt)}(E,_),le=this.nn(_,E,B),Te=this.nn(_,E,j),qe=this.sn(_,E,F),st=this.rn(_.indexId,x,le,B.inclusive,Te,j.inclusive,qe);return ae.forEach(st,pt=>r.J(pt,t.limit).next(lt=>{lt.forEach(xt=>{const Pt=ze.fromSegments(xt.documentKey);c.has(Pt)||(c=c.add(Pt),f.push(Pt))})}))}).next(()=>f)}return ae.resolve(null)})}tn(e){let t=this.Ze.get(e);return t||(t=[e],this.Ze.set(e,t),t)}rn(e,t,r,i,a,c,f){const _=(null!=t?t.length:1)*Math.max(r.length,a.length),E=_/(null!=t?t.length:1),I=[];for(let x=0;x<_;++x){const F=t?this.on(t[x/E]):C_,B=this.un(e,F,r[x%E],i),j=this.cn(e,F,a[x%E],c),le=f.map(Te=>this.un(e,F,Te,!0));I.push(...this.createRange(B,j,le))}return I}un(e,t,r,i){const a=new Uu(e,ze.empty(),t,r);return i?a:a.Ke()}cn(e,t,r,i){const a=new Uu(e,ze.empty(),t,r);return i?a.Ke():a}en(e,t){const r=new fC(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(a=>{let c=null;for(const f of a)r.We(f)&&(!c||f.fields.length>c.fields.length)&&(c=f);return c})}getIndexType(e,t){let r=2;return ae.forEach(this.tn(t),i=>this.en(e,i).next(a=>{a?0!==r&&a.fields.length<function(c){let f=new wn(ar.comparator),_=!1;for(const E of c.filters){const I=E;I.field.isKeyField()||("array-contains"===I.op||"array-contains-any"===I.op?_=!0:f=f.add(I.field))}for(const E of c.orderBy)E.field.isKeyField()||(f=f.add(E.field));return f.size+(_?1:0)}(i)&&(r=1):r=0})).next(()=>r)}an(e,t){const r=new xc;for(const i of gc(e)){const a=t.data.field(i.fieldPath);if(null==a)return null;const c=r.qe(i.kind);pl.Te.ce(a,c)}return r.$e()}on(e){const t=new xc;return pl.Te.ce(e,t.qe(0)),t.$e()}hn(e,t){const r=new xc;return pl.Te.ce(Pu(this.databaseId,t),r.qe(function(i){const a=gc(i);return 0===a.length?0:a[a.length-1].kind}(e))),r.$e()}sn(e,t,r){if(null===r)return[];let i=[];i.push(new xc);let a=0;for(const c of gc(e)){const f=r[a++];for(const _ of i)if(this.ln(t,c.fieldPath)&&Ip(f))i=this.fn(i,c,f);else{const E=_.qe(c.kind);pl.Te.ce(f,E)}}return this.dn(i)}nn(e,t,r){return this.sn(e,t,r.position)}dn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].$e();return t}fn(e,t,r){const i=[...e],a=[];for(const c of r.arrayValue.values||[])for(const f of i){const _=new xc;_.seed(f.$e()),pl.Te.ce(c,_.qe(t.kind)),a.push(_)}return a}ln(e,t){return!!e.filters.find(r=>r instanceof Rr&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=Fh(e),i=Lh(e);return(t?r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.W()).next(a=>{const c=[];return ae.forEach(a,f=>i.get([f.indexId,this.uid]).next(_=>{c.push(function(E,I){const x=I?new Ep(I.sequenceNumber,new Jr(Ac(I.readTime),new ze(Zo(I.documentKey)),I.largestBatchId)):Ep.empty(),F=E.fields.map(([B,j])=>new Zm(ar.fromServerFormat(B),j));return new Wm(E.indexId,E.collectionGroup,F,x)}(f,_))})).next(()=>c)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,i)=>{const a=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==a?a:Vt(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=Fh(e),a=Lh(e);return this._n(e).next(c=>i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(f=>ae.forEach(f,_=>a.put(uC(_.indexId,this.user,c,r)))))}updateIndexEntries(e,t){const r=new Map;return ae.forEach(t,(i,a)=>{const c=r.get(i.collectionGroup);return(c?ae.resolve(c):this.getFieldIndexes(e,i.collectionGroup)).next(f=>(r.set(i.collectionGroup,f),ae.forEach(f,_=>this.wn(e,i,_).next(E=>{const I=this.mn(a,_);return E.isEqual(I)?ae.resolve():this.gn(e,a,_,E,I)}))))})}yn(e,t,r,i){return Hu(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.hn(r,t.key),documentKey:t.key.path.toArray()})}pn(e,t,r,i){return Hu(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.hn(r,t.key),t.key.path.toArray()])}wn(e,t,r){const i=Hu(e);let a=new wn(ju);return i.Z({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.hn(r,t)])},(c,f)=>{a=a.add(new Uu(r.indexId,t,f.arrayValue,f.directionalValue))}).next(()=>a)}mn(e,t){let r=new wn(ju);const i=this.an(t,e);if(null==i)return r;const a=fr(t);if(null!=a){const c=e.data.field(a.fieldPath);if(Ip(c))for(const f of c.arrayValue.values||[])r=r.add(new Uu(t.indexId,e.key,this.on(f),i))}else r=r.add(new Uu(t.indexId,e.key,C_,i));return r}gn(e,t,r,i,a){Pe("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const c=[];return function(f,_,E,I,x){const F=f.getIterator(),B=_.getIterator();let j=ku(F),le=ku(B);for(;j||le;){let Te=!1,qe=!1;if(j&&le){const st=E(j,le);st<0?qe=!0:st>0&&(Te=!0)}else null!=j?qe=!0:Te=!0;Te?(I(le),le=ku(B)):qe?(x(j),j=ku(F)):(j=ku(F),le=ku(B))}}(i,a,ju,f=>{c.push(this.yn(e,t,r,f))},f=>{c.push(this.pn(e,t,r,f))}),ae.waitFor(c)}_n(e){let t=1;return Lh(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,a)=>{a.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((c,f)=>ju(c,f)).filter((c,f,_)=>!f||0!==ju(c,_[f-1]));const i=[];i.push(e);for(const c of r){const f=ju(c,e),_=ju(c,t);if(0===f)i[0]=e.Ke();else if(f>0&&_<0)i.push(c),i.push(c.Ke());else if(_>0)break}i.push(t);const a=[];for(let c=0;c<i.length;c+=2)a.push(IDBKeyRange.bound([i[c].indexId,this.uid,i[c].arrayValue,i[c].directionalValue,C_,[]],[i[c+1].indexId,this.uid,i[c+1].arrayValue,i[c+1].directionalValue,C_,[]]));return a}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(D_)}getMinOffset(e,t){return ae.mapArray(this.tn(t),r=>this.en(e,r).next(i=>i||it())).next(D_)}}function gT(n){return ri(n,"collectionParents")}function Hu(n){return ri(n,"indexEntries")}function Fh(n){return ri(n,"indexConfiguration")}function Lh(n){return ri(n,"indexState")}function D_(n){Tt(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const i=n[r].indexState.offset;Fv(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new Jr(e.readTime,e.documentKey,t)}const I_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ds{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new ds(e,ds.DEFAULT_COLLECTION_PERCENTILE,ds.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function pC(n,e,t){const r=n.store("mutations"),i=n.store("documentMutations"),a=[],c=IDBKeyRange.only(t.batchId);let f=0;const _=r.Z({range:c},(I,x,F)=>(f++,F.delete()));a.push(_.next(()=>{Tt(1===f)}));const E=[];for(const I of t.mutations){const x=eC(e,I.key.path,t.batchId);a.push(i.delete(x)),E.push(I.key)}return ae.waitFor(a).next(()=>E)}function T_(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw it();e=n.noDocument}return JSON.stringify(e).length}ds.DEFAULT_COLLECTION_PERCENTILE=10,ds.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ds.DEFAULT=new ds(41943040,ds.DEFAULT_COLLECTION_PERCENTILE,ds.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ds.DISABLED=new ds(-1,0,0);class S_{constructor(e,t,r,i){this.userId=e,this.It=t,this.indexManager=r,this.referenceDelegate=i,this.In={}}static oe(e,t,r,i){Tt(""!==e.uid);const a=e.isAuthenticated()?e.uid:"";return new S_(a,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Pa(e).Z({index:"userMutationsIndex",range:r},(i,a,c)=>{t=!1,c.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const a=$u(e),c=Pa(e);return c.add({}).next(f=>{Tt("number"==typeof f);const _=new pb(f,t,r,i),E=function(F,B,j){const le=j.baseMutations.map(qe=>p_(F.re,qe)),Te=j.mutations.map(qe=>p_(F.re,qe));return{userId:B,batchId:j.batchId,localWriteTimeMs:j.localWriteTime.toMillis(),baseMutations:le,mutations:Te}}(this.It,this.userId,_),I=[];let x=new wn((F,B)=>Vt(F.canonicalString(),B.canonicalString()));for(const F of i){const B=eC(this.userId,F.key.path,f);x=x.add(F.key.path.popLast()),I.push(c.put(E)),I.push(a.put(B,db))}return x.forEach(F=>{I.push(this.indexManager.addToCollectionParentIndex(e,F))}),e.addOnCommittedListener(()=>{this.In[f]=_.keys()}),ae.waitFor(I).next(()=>_)})}lookupMutationBatch(e,t){return Pa(e).get(t).next(r=>r?(Tt(r.userId===this.userId),Mc(this.It,r)):null)}Tn(e,t){return this.In[t]?ae.resolve(this.In[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.In[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let a=null;return Pa(e).Z({index:"userMutationsIndex",range:i},(c,f,_)=>{f.userId===this.userId&&(Tt(f.batchId>=r),a=Mc(this.It,f)),_.done()}).next(()=>a)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Pa(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(i,a,c)=>{r=a.batchId,c.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Pa(e).W("userMutationsIndex",t).next(r=>r.map(i=>Mc(this.It,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=__(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return $u(e).Z({range:i},(c,f,_)=>{const[E,I,x]=c,F=Zo(I);if(E===this.userId&&t.path.isEqual(F))return Pa(e).get(x).next(B=>{if(!B)throw it();Tt(B.userId===this.userId),a.push(Mc(this.It,B))});_.done()}).next(()=>a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new wn(Vt);const i=[];return t.forEach(a=>{const c=__(this.userId,a.path),f=IDBKeyRange.lowerBound(c),_=$u(e).Z({range:f},(E,I,x)=>{const[F,B,j]=E,le=Zo(B);F===this.userId&&a.path.isEqual(le)?r=r.add(j):x.done()});i.push(_)}),ae.waitFor(i).next(()=>this.En(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,a=__(this.userId,r),c=IDBKeyRange.lowerBound(a);let f=new wn(Vt);return $u(e).Z({range:c},(_,E,I)=>{const[x,F,B]=_,j=Zo(F);x===this.userId&&r.isPrefixOf(j)?j.length===i&&(f=f.add(B)):I.done()}).next(()=>this.En(e,f))}En(e,t){const r=[],i=[];return t.forEach(a=>{i.push(Pa(e).get(a).next(c=>{if(null===c)throw it();Tt(c.userId===this.userId),r.push(Mc(this.It,c))}))}),ae.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return pC(e.ie,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.An(t.batchId)}),ae.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}An(e){delete this.In[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return ae.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return $u(e).Z({range:r},(a,c,f)=>{if(a[0]===this.userId){const _=Zo(a[1]);i.push(_)}else f.done()}).next(()=>{Tt(0===i.length)})})}containsKey(e,t){return Eb(e,this.userId,t)}Rn(e){return wb(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Eb(n,e,t){const r=__(e,t.path),i=r[1],a=IDBKeyRange.lowerBound(r);let c=!1;return $u(n).Z({range:a,X:!0},(f,_,E)=>{const[I,x,F]=f;I===e&&x===i&&(c=!0),E.done()}).next(()=>c)}function Pa(n){return ri(n,"mutations")}function $u(n){return ri(n,"documentMutations")}function wb(n){return ri(n,"mutationQueues")}class Rc{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new Rc(0)}static vn(){return new Rc(-1)}}class gC{constructor(e,t){this.referenceDelegate=e,this.It=t}allocateTargetId(e){return this.Vn(e).next(t=>{const r=new Rc(t.highestTargetId);return t.highestTargetId=r.next(),this.Sn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Vn(e).next(t=>Mt.fromTimestamp(new Nn(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Vn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.Vn(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.Sn(e,i)))}addTargetData(e,t){return this.Dn(e,t).next(()=>this.Vn(e).next(r=>(r.targetCount+=1,this.Cn(t,r),this.Sn(e,r))))}updateTargetData(e,t){return this.Dn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Vh(e).delete(t.targetId)).next(()=>this.Vn(e)).next(r=>(Tt(r.targetCount>0),r.targetCount-=1,this.Sn(e,r)))}removeTargets(e,t,r){let i=0;const a=[];return Vh(e).Z((c,f)=>{const _=Hp(f);_.sequenceNumber<=t&&null===r.get(_.targetId)&&(i++,a.push(this.removeTargetData(e,_)))}).next(()=>ae.waitFor(a)).next(()=>i)}forEachTarget(e,t){return Vh(e).Z((r,i)=>{const a=Hp(i);t(a)})}Vn(e){return Cb(e).get("targetGlobalKey").next(t=>(Tt(null!==t),t))}Sn(e,t){return Cb(e).put("targetGlobalKey",t)}Dn(e,t){return Vh(e).put(lC(this.It,t))}Cn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Vn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=hl(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let a=null;return Vh(e).Z({range:i,index:"queryTargetsIndex"},(c,f,_)=>{const E=Hp(f);zo(t,E.target)&&(a=E,_.done())}).next(()=>a)}addMatchingKeys(e,t,r){const i=[],a=gl(e);return t.forEach(c=>{const f=ni(c.path);i.push(a.put({targetId:r,path:f})),i.push(this.referenceDelegate.addReference(e,r,c))}),ae.waitFor(i)}removeMatchingKeys(e,t,r){const i=gl(e);return ae.forEach(t,a=>{const c=ni(a.path);return ae.waitFor([i.delete([r,c]),this.referenceDelegate.removeReference(e,r,a)])})}removeMatchingKeysForTargetId(e,t){const r=gl(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=gl(e);let a=Ht();return i.Z({range:r,X:!0},(c,f,_)=>{const E=Zo(c[1]),I=new ze(E);a=a.add(I)}).next(()=>a)}containsKey(e,t){const r=ni(t.path),i=IDBKeyRange.bound([r],[Ov(r)],!1,!0);let a=0;return gl(e).Z({index:"documentTargetsIndex",X:!0,range:i},([c,f],_,E)=>{0!==c&&(a++,E.done())}).next(()=>a>0)}se(e,t){return Vh(e).get(t).next(r=>r?Hp(r):null)}}function Vh(n){return ri(n,"targets")}function Cb(n){return ri(n,"targetGlobal")}function gl(n){return ri(n,"targetDocuments")}function mC([n,e],[t,r]){const i=Vt(n,t);return 0===i?Vt(e,r):i}class _C{constructor(e){this.xn=e,this.buffer=new wn(mC),this.Nn=0}kn(){return++this.Nn}On(e){const t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();mC(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class yC{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Mn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}get started(){return null!==this.Mn}Fn(e){var t=this;Pe("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,Ce.Z)(function*(){t.Mn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){ul(r)?Pe("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield mc(r)}yield t.Fn(3e5)}))}}class Gi{constructor(e,t){this.$n=e,this.params=t}calculateTargetCount(e,t){return this.$n.Bn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return ae.resolve(cs.at);const r=new _C(t);return this.$n.forEachTarget(e,i=>r.On(i.sequenceNumber)).next(()=>this.$n.Ln(e,i=>r.On(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.$n.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.$n.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Pe("LruGarbageCollector","Garbage collection skipped; disabled"),ae.resolve(I_)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Pe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),I_):this.Un(e,t))}getCacheSize(e){return this.$n.getCacheSize(e)}Un(e,t){let r,i,a,c,f,_,E;const I=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(x=>(x>this.params.maximumSequenceNumbersToCollect?(Pe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${x}`),i=this.params.maximumSequenceNumbersToCollect):i=x,c=Date.now(),this.nthSequenceNumber(e,i))).next(x=>(r=x,f=Date.now(),this.removeTargets(e,r,t))).next(x=>(a=x,_=Date.now(),this.removeOrphanedDocuments(e,r))).next(x=>(E=Date.now(),bp()<=hu.in.DEBUG&&Pe("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${c-I}ms\n\tDetermined least recently used ${i} in `+(f-c)+`ms\n\tRemoved ${a} targets in `+(_-f)+`ms\n\tRemoved ${x} documents in `+(E-_)+`ms\nTotal Duration: ${E-I}ms`),ae.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:x})))}}class Bh{constructor(e,t){this.db=e,this.garbageCollector=new Gi(this,t)}Bn(e){const t=this.qn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}qn(e){let t=0;return this.Ln(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Ln(e,t){return this.Kn(e,(r,i)=>t(i))}addReference(e,t,r){return A_(e,r)}removeReference(e,t,r){return A_(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return A_(e,t)}Gn(e,t){return function(r,i){let a=!1;return wb(r).tt(c=>Eb(r,c,i).next(f=>(f&&(a=!0),ae.resolve(!f)))).next(()=>a)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let a=0;return this.Kn(e,(c,f)=>{if(f<=t){const _=this.Gn(e,c).next(E=>{if(!E)return a++,r.getEntry(e,c).next(()=>(r.removeEntry(c,Mt.min()),gl(e).delete([0,ni(c.path)])))});i.push(_)}}).next(()=>ae.waitFor(i)).next(()=>r.apply(e)).next(()=>a)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return A_(e,t)}Kn(e,t){const r=gl(e);let i,a=cs.at;return r.Z({index:"documentTargetsIndex"},([c,f],{path:_,sequenceNumber:E})=>{0===c?(a!==cs.at&&t(new ze(Zo(i)),a),a=E,i=_):a=cs.at}).next(()=>{a!==cs.at&&t(new ze(Zo(i)),a)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function A_(n,e){return gl(n).put((r=n.currentSequenceNumber,{targetId:0,path:ni(e.path),sequenceNumber:r}));var r}class vC{constructor(){this.changes=new Dc(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,An.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?ae.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class pM{constructor(e){this.It=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return Gu(e).put(r)}removeEntry(e,t,r){return Gu(e).delete(function(i,a){const c=i.path.toArray();return[c.slice(0,c.length-2),c[c.length-2],jp(a),c[c.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Qn(e,r)))}getEntry(e,t){let r=An.newInvalidDocument(t);return Gu(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(jh(t))},(i,a)=>{r=this.jn(t,a)}).next(()=>r)}Wn(e,t){let r={size:0,document:An.newInvalidDocument(t)};return Gu(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(jh(t))},(i,a)=>{r={document:this.jn(t,a),size:T_(a)}}).next(()=>r)}getEntries(e,t){let r=us();return this.zn(e,t,(i,a)=>{const c=this.jn(i,a);r=r.insert(i,c)}).next(()=>r)}Hn(e,t){let r=us(),i=new On(ze.comparator);return this.zn(e,t,(a,c)=>{const f=this.jn(a,c);r=r.insert(a,f),i=i.insert(a,T_(c))}).next(()=>({documents:r,Jn:i}))}zn(e,t,r){if(t.isEmpty())return ae.resolve();let i=new wn(EC);t.forEach(_=>i=i.add(_));const a=IDBKeyRange.bound(jh(i.first()),jh(i.last())),c=i.getIterator();let f=c.getNext();return Gu(e).Z({index:"documentKeyIndex",range:a},(_,E,I)=>{const x=ze.fromSegments([...E.prefixPath,E.collectionGroup,E.documentId]);for(;f&&EC(f,x)<0;)r(f,null),f=c.getNext();f&&f.isEqual(x)&&(r(f,E),f=c.hasNext()?c.getNext():null),f?I.j(jh(f)):I.done()}).next(()=>{for(;f;)r(f,null),f=c.hasNext()?c.getNext():null})}getAllFromCollection(e,t,r){const i=[t.popLast().toArray(),t.lastSegment(),jp(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],a=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Gu(e).W(IDBKeyRange.bound(i,a,!0)).next(c=>{let f=us();for(const _ of c){const E=this.jn(ze.fromSegments(_.prefixPath.concat(_.collectionGroup,_.documentId)),_);f=f.insert(E.key,E)}return f})}getAllFromCollectionGroup(e,t,r,i){let a=us();const c=bC(t,r),f=bC(t,Jr.max());return Gu(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(c,f,!0)},(_,E,I)=>{const x=this.jn(ze.fromSegments(E.prefixPath.concat(E.collectionGroup,E.documentId)),E);a=a.insert(x.key,x),a.size===i&&I.done()}).next(()=>a)}newChangeBuffer(e){return new mT(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return M_(e).get("remoteDocumentGlobalKey").next(t=>(Tt(!!t),t))}Qn(e,t){return M_(e).put("remoteDocumentGlobalKey",t)}jn(e,t){if(t){const r=function aC(n,e){let t;if(e.document)t=lb(n.re,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=ze.fromSegments(e.noDocument.path),i=Ac(e.noDocument.readTime);t=An.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return it();{const r=ze.fromSegments(e.unknownDocument.path),i=Ac(e.unknownDocument.version);t=An.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(r){const i=new Nn(r[0],r[1]);return Mt.fromTimestamp(i)}(e.readTime)),t}(this.It,t);if(!r.isNoDocument()||!r.version.isEqual(Mt.min()))return r}return An.newInvalidDocument(e)}}function Uh(n){return new pM(n)}class mT extends vC{constructor(e,t){super(),this.Yn=e,this.trackRemovals=t,this.Xn=new Dc(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new wn((a,c)=>Vt(a.canonicalString(),c.canonicalString()));return this.changes.forEach((a,c)=>{const f=this.Xn.get(a);if(t.push(this.Yn.removeEntry(e,a,f.readTime)),c.isValidDocument()){const _=_b(this.Yn.It,c);i=i.add(a.path.popLast()),r+=T_(_)-f.size,t.push(this.Yn.addEntry(e,a,_))}else if(r-=f.size,this.trackRemovals){const _=_b(this.Yn.It,c.convertToNoDocument(Mt.min()));t.push(this.Yn.addEntry(e,a,_))}}),i.forEach(a=>{t.push(this.Yn.indexManager.addToCollectionParentIndex(e,a))}),t.push(this.Yn.updateMetadata(e,r)),ae.waitFor(t)}getFromCache(e,t){return this.Yn.Wn(e,t).next(r=>(this.Xn.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.Yn.Hn(e,t).next(({documents:r,Jn:i})=>(i.forEach((a,c)=>{this.Xn.set(a,{size:c,readTime:r.get(a).readTime})}),r))}}function M_(n){return ri(n,"remoteDocumentGlobal")}function Gu(n){return ri(n,"remoteDocumentsV14")}function jh(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function bC(n,e){const t=e.documentKey.path.toArray();return[n,jp(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function EC(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let a=0;a<t.length-2&&a<r.length-2;++a)if(i=Vt(t[a],r[a]),i)return i;return i=Vt(t.length,r.length),i||(i=Vt(t[t.length-2],r[r.length-2]),i||Vt(t[t.length-1],r[r.length-1]))}class Db{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Ib{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.getBaseDocument(e,t,r))).next(i=>(null!==r&&Th(r.mutation,i,Si.empty(),Nn.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Ht()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Ht()){const i=Wo();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(a=>{let c=Op();return a.forEach((f,_)=>{c=c.insert(f,_.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const r=Wo();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Ht()))}populateOverlays(e,t,r){const i=[];return r.forEach(a=>{t.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((c,f)=>{t.set(c,f)})})}computeViews(e,t,r,i){let a=us();const c=Pp(),f=Pp();return t.forEach((_,E)=>{const I=r.get(E.key);i.has(E.key)&&(void 0===I||I.mutation instanceof fl)?a=a.insert(E.key,E):void 0!==I&&(c.set(E.key,I.mutation.getFieldMask()),Th(I.mutation,E,I.mutation.getFieldMask(),Nn.now()))}),this.recalculateAndSaveOverlays(e,a).next(_=>(_.forEach((E,I)=>c.set(E,I)),t.forEach((E,I)=>{var x;return f.set(E,new Db(I,null!==(x=c.get(E))&&void 0!==x?x:null))}),f))}recalculateAndSaveOverlays(e,t){const r=Pp();let i=new On((c,f)=>c-f),a=Ht();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const f of c)f.keys().forEach(_=>{const E=t.get(_);if(null===E)return;let I=r.get(_)||Si.empty();I=f.applyToLocalView(E,I),r.set(_,I);const x=(i.get(f.batchId)||Ht()).add(_);i=i.insert(f.batchId,x)})}).next(()=>{const c=[],f=i.getReverseIterator();for(;f.hasNext();){const _=f.getNext(),E=_.key,I=_.value,x=Uw();I.forEach(F=>{if(!a.has(F)){const B=Pw(t.get(F),r.get(F));null!==B&&x.set(F,B),a=a.add(F)}}),c.push(this.documentOverlayCache.saveOverlays(e,E,x))}return ae.waitFor(c)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return ze.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):a_(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var i}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(a=>{const c=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-a.size):ae.resolve(Wo());let f=-1,_=a;return c.next(E=>ae.forEach(E,(I,x)=>(f<x.largestBatchId&&(f=x.largestBatchId),a.get(I)?ae.resolve():this.getBaseDocument(e,I,x).next(F=>{_=_.insert(I,F)}))).next(()=>this.populateOverlays(e,E,a)).next(()=>this.computeViews(e,_,E,Ht())).next(I=>({batchId:f,changes:tb(I)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ze(t)).next(r=>{let i=Op();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const i=t.collectionGroup;let a=Op();return this.indexManager.getCollectionParents(e,i).next(c=>ae.forEach(c,f=>{const _=(E=t,I=f.child(i),new bc(I,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt));var E,I;return this.getDocumentsMatchingCollectionQuery(e,_,r).next(E=>{E.forEach((I,x)=>{a=a.insert(I,x)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,t,r){let i;return this.remoteDocumentCache.getAllFromCollection(e,t.path,r).next(a=>(i=a,this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId))).next(a=>{a.forEach((f,_)=>{const E=_.getKey();null===i.get(E)&&(i=i.insert(E,An.newInvalidDocument(E)))});let c=Op();return i.forEach((f,_)=>{const E=a.get(f);void 0!==E&&Th(E.mutation,_,Si.empty(),Nn.now()),Zv(t,_)&&(c=c.insert(f,_))}),c})}getBaseDocument(e,t,r){return null===r||1===r.mutation.type?this.remoteDocumentCache.getEntry(e,t):ae.resolve(An.newInvalidDocument(t))}}class wC{constructor(e){this.It=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return ae.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var r;return this.Zn.set(t.id,{id:(r=t).id,version:r.version,createTime:wr(r.createTime)}),ae.resolve()}getNamedQuery(e,t){return ae.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,{name:(r=t).name,query:v_(r.bundledQuery),readTime:wr(r.readTime)}),ae.resolve();var r}}class x_{constructor(){this.overlays=new On(ze.comparator),this.es=new Map}getOverlay(e,t){return ae.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Wo();return ae.forEach(t,i=>this.getOverlay(e,i).next(a=>{null!==a&&r.set(i,a)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,a)=>{this.ue(e,t,a)}),ae.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.es.get(r);return void 0!==i&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.es.delete(r)),ae.resolve()}getOverlaysForCollection(e,t,r){const i=Wo(),a=t.length+1,c=new ze(t.child("")),f=this.overlays.getIteratorFrom(c);for(;f.hasNext();){const _=f.getNext().value,E=_.getKey();if(!t.isPrefixOf(E.path))break;E.path.length===a&&_.largestBatchId>r&&i.set(_.getKey(),_)}return ae.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let a=new On((E,I)=>E-I);const c=this.overlays.getIterator();for(;c.hasNext();){const E=c.getNext().value;if(E.getKey().getCollectionGroup()===t&&E.largestBatchId>r){let I=a.get(E.largestBatchId);null===I&&(I=Wo(),a=a.insert(E.largestBatchId,I)),I.set(E.getKey(),E)}}const f=Wo(),_=a.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((E,I)=>f.set(E,I)),!(f.size()>=i)););return ae.resolve(f)}ue(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const c=this.es.get(i.largestBatchId).delete(r.key);this.es.set(i.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new mb(t,r));let a=this.es.get(t);void 0===a&&(a=Ht(),this.es.set(t,a)),this.es.set(t,a.add(r.key))}}class qp{constructor(){this.ns=new wn(pi.ss),this.rs=new wn(pi.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const r=new pi(e,t);this.ns=this.ns.add(r),this.rs=this.rs.add(r)}us(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.cs(new pi(e,t))}hs(e,t){e.forEach(r=>this.removeReference(r,t))}ls(e){const t=new ze(new cn([])),r=new pi(t,e),i=new pi(t,e+1),a=[];return this.rs.forEachInRange([r,i],c=>{this.cs(c),a.push(c.key)}),a}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new ze(new cn([])),r=new pi(t,e),i=new pi(t,e+1);let a=Ht();return this.rs.forEachInRange([r,i],c=>{a=a.add(c.key)}),a}containsKey(e){const t=new pi(e,0),r=this.ns.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class pi{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return ze.comparator(e.key,t.key)||Vt(e._s,t._s)}static os(e,t){return Vt(e._s,t._s)||ze.comparator(e.key,t.key)}}class CC{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new wn(pi.ss)}checkEmpty(e){return ae.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const a=this.ws;this.ws++;const c=new pb(a,t,r,i);this.mutationQueue.push(c);for(const f of i)this.gs=this.gs.add(new pi(f.key,a)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return ae.resolve(c)}lookupMutationBatch(e,t){return ae.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.ps(t+1),a=i<0?0:i;return ae.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ae.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return ae.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new pi(t,0),i=new pi(t,Number.POSITIVE_INFINITY),a=[];return this.gs.forEachInRange([r,i],c=>{const f=this.ys(c._s);a.push(f)}),ae.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new wn(Vt);return t.forEach(i=>{const a=new pi(i,0),c=new pi(i,Number.POSITIVE_INFINITY);this.gs.forEachInRange([a,c],f=>{r=r.add(f._s)})}),ae.resolve(this.Is(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let a=r;ze.isDocumentKey(a)||(a=a.child(""));const c=new pi(new ze(a),0);let f=new wn(Vt);return this.gs.forEachWhile(_=>{const E=_.key.path;return!!r.isPrefixOf(E)&&(E.length===i&&(f=f.add(_._s)),!0)},c),ae.resolve(this.Is(f))}Is(e){const t=[];return e.forEach(r=>{const i=this.ys(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){Tt(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let r=this.gs;return ae.forEach(t.mutations,i=>{const a=new pi(i.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.gs=r})}An(e){}containsKey(e,t){const r=new pi(t,0),i=this.gs.firstAfterOrEqual(r);return ae.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return ae.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class _T{constructor(e){this.Es=e,this.docs=new On(ze.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),a=i?i.size:0,c=this.Es(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:c}),this.size+=c-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ae.resolve(r?r.document.mutableCopy():An.newInvalidDocument(t))}getEntries(e,t){let r=us();return t.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():An.newInvalidDocument(i))}),ae.resolve(r)}getAllFromCollection(e,t,r){let i=us();const a=new ze(t.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:f,value:{document:_}}=c.getNext();if(!t.isPrefixOf(f.path))break;f.path.length>t.length+1||Fv(Nv(_),r)<=0||(i=i.insert(_.key,_.mutableCopy()))}return ae.resolve(i)}getAllFromCollectionGroup(e,t,r,i){it()}As(e,t){return ae.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new DC(this)}getSize(e){return ae.resolve(this.size)}}class DC extends vC{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Yn.addEntry(e,i)):this.Yn.removeEntry(r)}),ae.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class R_{constructor(e){this.persistence=e,this.Rs=new Dc(t=>hl(t),zo),this.lastRemoteSnapshotVersion=Mt.min(),this.highestTargetId=0,this.bs=0,this.Ps=new qp,this.targetCount=0,this.vs=Rc.Pn()}forEachTarget(e,t){return this.Rs.forEach((r,i)=>t(i)),ae.resolve()}getLastRemoteSnapshotVersion(e){return ae.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ae.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),ae.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.bs&&(this.bs=t),ae.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new Rc(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,ae.resolve()}updateTargetData(e,t){return this.Dn(t),ae.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,ae.resolve()}removeTargets(e,t,r){let i=0;const a=[];return this.Rs.forEach((c,f)=>{f.sequenceNumber<=t&&null===r.get(f.targetId)&&(this.Rs.delete(c),a.push(this.removeMatchingKeysForTargetId(e,f.targetId)),i++)}),ae.waitFor(a).next(()=>i)}getTargetCount(e){return ae.resolve(this.targetCount)}getTargetData(e,t){const r=this.Rs.get(t)||null;return ae.resolve(r)}addMatchingKeys(e,t,r){return this.Ps.us(t,r),ae.resolve()}removeMatchingKeys(e,t,r){this.Ps.hs(t,r);const i=this.persistence.referenceDelegate,a=[];return i&&t.forEach(c=>{a.push(i.markPotentiallyOrphaned(e,c))}),ae.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),ae.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Ps.ds(t);return ae.resolve(r)}containsKey(e,t){return ae.resolve(this.Ps.containsKey(t))}}class Tb{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new cs(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new R_(this),this.indexManager=new bb,this.remoteDocumentCache=new _T(r=>this.referenceDelegate.xs(r)),this.It=new Nh(t),this.Ns=new wC(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new x_,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Vs[e.toKey()];return r||(r=new CC(t,this.referenceDelegate),this.Vs[e.toKey()]=r),r}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,r){Pe("MemoryPersistence","Starting transaction:",e);const i=new yT(this.Ss.next());return this.referenceDelegate.ks(),r(i).next(a=>this.referenceDelegate.Os(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Ms(e,t){return ae.or(Object.values(this.Vs).map(r=>()=>r.containsKey(e,t)))}}class yT extends Lv{constructor(e){super(),this.currentSequenceNumber=e}}class Hh{constructor(e){this.persistence=e,this.Fs=new qp,this.$s=null}static Bs(e){return new Hh(e)}get Ls(){if(this.$s)return this.$s;throw it()}addReference(e,t,r){return this.Fs.addReference(r,t),this.Ls.delete(r.toString()),ae.resolve()}removeReference(e,t,r){return this.Fs.removeReference(r,t),this.Ls.add(r.toString()),ae.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),ae.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(i=>this.Ls.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(a=>this.Ls.add(a.toString()))}).next(()=>r.removeTargetData(e,t))}ks(){this.$s=new Set}Os(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ae.forEach(this.Ls,r=>{const i=ze.fromPath(r);return this.Us(e,i).next(a=>{a||t.removeEntry(i,Mt.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.Us(e,t).next(r=>{r?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}Us(e,t){return ae.or([()=>ae.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ms(e,t)])}}class Sb{constructor(e){this.It=e}$(e,t,r,i){const a=new wp("createOrUpgrade",t);var f;r<1&&i>=1&&(e.createObjectStore("owner"),(f=e).createObjectStore("mutationQueues",{keyPath:"userId"}),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",ub,{unique:!0}),f.createObjectStore("documentMutations"),vT(e),function(f){f.createObjectStore("remoteDocuments")}(e));let c=ae.resolve();return r<3&&i>=3&&(0!==r&&(function(f){f.deleteObjectStore("targetDocuments"),f.deleteObjectStore("targets"),f.deleteObjectStore("targetGlobal")}(e),vT(e)),c=c.next(()=>function(f){const _=f.store("targetGlobal"),E={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Mt.min().toTimestamp(),targetCount:0};return _.put("targetGlobalKey",E)}(a))),r<4&&i>=4&&(0!==r&&(c=c.next(()=>function(f,_){return _.store("mutations").W().next(E=>{f.deleteObjectStore("mutations"),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",ub,{unique:!0});const I=_.store("mutations"),x=E.map(F=>I.put(F));return ae.waitFor(x)})}(e,a))),c=c.next(()=>{!function(f){f.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(c=c.next(()=>this.qs(a))),r<6&&i>=6&&(c=c.next(()=>(function(f){f.createObjectStore("remoteDocumentGlobal")}(e),this.Ks(a)))),r<7&&i>=7&&(c=c.next(()=>this.Gs(a))),r<8&&i>=8&&(c=c.next(()=>this.Qs(e,a))),r<9&&i>=9&&(c=c.next(()=>{!function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(c=c.next(()=>this.js(a))),r<11&&i>=11&&(c=c.next(()=>{(function(f){f.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(f){f.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(c=c.next(()=>{!function(f){const _=f.createObjectStore("documentOverlays",{keyPath:rC});_.createIndex("collectionPathOverlayIndex",fM,{unique:!1}),_.createIndex("collectionGroupOverlayIndex",iC,{unique:!1})}(e)})),r<13&&i>=13&&(c=c.next(()=>function(f){const _=f.createObjectStore("remoteDocumentsV14",{keyPath:aT});_.createIndex("documentKeyIndex",uM),_.createIndex("collectionGroupIndex",lT)}(e)).next(()=>this.Ws(e,a)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(c=c.next(()=>this.zs(e,a))),r<15&&i>=15&&(c=c.next(()=>function(f){f.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),f.createObjectStore("indexState",{keyPath:dM}).createIndex("sequenceNumberIndex",nC,{unique:!1}),f.createObjectStore("indexEntries",{keyPath:uT}).createIndex("documentKeyIndex",hM,{unique:!1})}(e))),c}Ks(e){let t=0;return e.store("remoteDocuments").Z((r,i)=>{t+=T_(i)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}qs(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.W().next(i=>ae.forEach(i,a=>{const c=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",c).next(f=>ae.forEach(f,_=>{Tt(_.userId===a.userId);const E=Mc(this.It,_);return pC(e,a.userId,E).next(()=>{})}))}))}Gs(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const a=[];return r.Z((c,f)=>{const _=new cn(c),E=[0,ni(_)];a.push(t.get(E).next(I=>I?ae.resolve():t.put({targetId:0,path:ni(_),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>ae.waitFor(a))})}Qs(e,t){e.createObjectStore("collectionParents",{keyPath:Ph});const r=t.store("collectionParents"),i=new w_,a=c=>{if(i.add(c)){const f=c.lastSegment(),_=c.popLast();return r.put({collectionId:f,parent:ni(_)})}};return t.store("remoteDocuments").Z({X:!0},(c,f)=>{const _=new cn(c);return a(_.popLast())}).next(()=>t.store("documentMutations").Z({X:!0},([c,f,_],E)=>{const I=Zo(f);return a(I.popLast())}))}js(e){const t=e.store("targets");return t.Z((r,i)=>{const a=Hp(i),c=lC(this.It,a);return t.put(c)})}Ws(e,t){const r=t.store("remoteDocuments"),i=[];return r.Z((a,c)=>{const f=t.store("remoteDocumentsV14"),_=(E=c,E.document?new ze(cn.fromString(E.document.name).popFirst(5)):E.noDocument?ze.fromSegments(E.noDocument.path):E.unknownDocument?ze.fromSegments(E.unknownDocument.path):it()).path.toArray();var E;const I={prefixPath:_.slice(0,_.length-2),collectionGroup:_[_.length-2],documentId:_[_.length-1],readTime:c.readTime||[0,0],unknownDocument:c.unknownDocument,noDocument:c.noDocument,document:c.document,hasCommittedMutations:!!c.hasCommittedMutations};i.push(f.put(I))}).next(()=>ae.waitFor(i))}zs(e,t){const r=t.store("mutations"),i=Uh(this.It),a=new Tb(Hh.Bs,this.It.re);return r.W().next(c=>{const f=new Map;return c.forEach(_=>{var E;let I=null!==(E=f.get(_.userId))&&void 0!==E?E:Ht();Mc(this.It,_).keys().forEach(x=>I=I.add(x)),f.set(_.userId,I)}),ae.forEach(f,(_,E)=>{const I=new Xr(E),x=Ns.oe(this.It,I),F=a.getIndexManager(I),B=S_.oe(I,this.It,F,a.referenceDelegate);return new Ib(i,B,x,F).recalculateAndSaveOverlaysForDocumentKeys(new fb(t,cs.at),_).next()})})}}function vT(n){n.createObjectStore("targetDocuments",{keyPath:Oh}).createIndex("documentTargetsIndex",tC,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",cT,{unique:!0}),n.createObjectStore("targetGlobal")}const Ab="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Mb{constructor(e,t,r,i,a,c,f,_,E,I,x=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Hs=a,this.window=c,this.document=f,this.Js=E,this.Ys=I,this.Xs=x,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=F=>Promise.resolve(),!Mb.C())throw new Oe(fe.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Bh(this,i),this.ii=t+"main",this.It=new Nh(_),this.ri=new Ps(this.ii,this.Xs,new Sb(this.It)),this.Cs=new gC(this.referenceDelegate,this.It),this.remoteDocumentCache=Uh(this.It),this.Ns=new $p,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===I&&Yn("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Oe(fe.FAILED_PRECONDITION,Ab);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Cs.getHighestSequenceNumber(e))}).then(e=>{this.Ss=new cs(e,this.Js)}).then(()=>{this.Ds=!0}).catch(e=>(this.ri&&this.ri.close(),Promise.reject(e)))}li(e){var t=this;return this.si=function(){var r=(0,Ce.Z)(function*(i){if(t.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ri.L(function(){var t=(0,Ce.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget((0,Ce.Z)(function*(){t.started&&(yield t.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Wp(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(t=>{t||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(e)).next(t=>this.isPrimary&&!t?this._i(e).next(()=>!1):!!t&&this.wi(e).next(()=>!0))).catch(e=>{if(ul(e))return Pe("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Pe("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Hs.enqueueRetryable(()=>this.si(e)),this.isPrimary=e})}fi(e){return $h(e).get("owner").next(t=>ae.resolve(this.mi(t)))}gi(e){return Wp(e).delete(this.clientId)}yi(){var e=this;return(0,Ce.Z)(function*(){if(e.isPrimary&&!e.pi(e.ni,18e5)){e.ni=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=ri(r,"clientMetadata");return i.W().next(a=>{const c=e.Ii(a,18e5),f=a.filter(_=>-1===c.indexOf(_));return ae.forEach(f,_=>i.delete(_.clientId)).next(()=>f)})}).catch(()=>[]);if(e.oi)for(const r of t)e.oi.removeItem(e.Ti(r.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(e){return!!e&&e.ownerId===this.clientId}di(e){return this.Ys?ae.resolve(!0):$h(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)){if(this.mi(t)&&this.networkEnabled)return!0;if(!this.mi(t)){if(!t.allowTabSynchronization)throw new Oe(fe.FAILED_PRECONDITION,Ab);return!1}}return!(!this.networkEnabled||!this.inForeground)||Wp(e).W().next(r=>void 0===this.Ii(r,5e3).find(i=>{if(this.clientId!==i.clientId){const c=!this.inForeground&&i.inForeground,f=this.networkEnabled===i.networkEnabled;if(!this.networkEnabled&&i.networkEnabled||c&&f)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Pe("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,Ce.Z)(function*(){e.Ds=!1,e.Ai(),e.ei&&(e.ei.cancel(),e.ei=null),e.Ri(),e.bi(),yield e.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new fb(t,cs.at);return e._i(r).next(()=>e.gi(r))}),e.ri.close(),e.Pi()})()}Ii(e,t){return e.filter(r=>this.pi(r.updateTimeMs,t)&&!this.Ei(r.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",e=>Wp(e).W().next(t=>this.Ii(t,18e5).map(r=>r.clientId)))}get started(){return this.Ds}getMutationQueue(e,t){return S_.oe(e,this.It,t,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new pT(e,this.It.re.databaseId)}getDocumentOverlayCache(e){return Ns.oe(this.It,e)}getBundleCache(){return this.Ns}runTransaction(e,t,r){Pe("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite",a=15===(c=this.Xs)?dT:14===c?oC:13===c?hb:12===c?sC:11===c?y_:void it();var c;let f;return this.ri.runTransaction(e,i,a,_=>(f=new fb(_,this.Ss?this.Ss.next():cs.at),"readwrite-primary"===t?this.fi(f).next(E=>!!E||this.di(f)).next(E=>{if(!E)throw Yn(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new Oe(fe.FAILED_PRECONDITION,uw);return r(f)}).next(E=>this.wi(f).next(()=>E)):this.Vi(f).next(()=>r(f)))).then(_=>(f.raiseOnCommittedEvent(),_))}Vi(e){return $h(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)&&!this.mi(t)&&!(this.Ys||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Oe(fe.FAILED_PRECONDITION,Ab)})}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return $h(e).put("owner",t)}static C(){return Ps.C()}_i(e){const t=$h(e);return t.get("owner").next(r=>this.mi(r)?(Pe("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):ae.resolve())}pi(e,t){const r=Date.now();return!(e<r-t||e>r&&(Yn(`Detected an update time that is in the future: ${e} > ${r}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,mn.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(e){var t;try{const r=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return Pe("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Yn("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(e){Yn("Failed to set zombie client id.",e)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch(e){}}Ti(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function $h(n){return ri(n,"owner")}function Wp(n){return ri(n,"clientMetadata")}function xb(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class k_{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Si=r,this.Di=i}static Ci(e,t){let r=Ht(),i=Ht();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new k_(e,t.fromCache,r,i)}}class Rb{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,r,i){return this.ki(e,t).next(a=>a||this.Oi(e,t,i,r)).next(a=>a||this.Mi(e,t))}ki(e,t){if(Tw(t))return ae.resolve(null);let r=$i(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=l_(t,null,"F"),r=$i(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const c=Ht(...a);return this.Ni.getDocuments(e,c).next(f=>this.indexManager.getMinOffset(e,r).next(_=>{const E=this.Fi(t,f);return this.$i(t,E,c,_.readTime)?this.ki(e,l_(t,null,"F")):this.Bi(e,E,t,_)}))})))}Oi(e,t,r,i){return Tw(t)||i.isEqual(Mt.min())?this.Mi(e,t):this.Ni.getDocuments(e,r).next(a=>{const c=this.Fi(t,a);return this.$i(t,c,r,i)?this.Mi(e,t):(bp()<=hu.in.DEBUG&&Pe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Wv(t)),this.Bi(e,c,t,Pv(i,-1)))})}Fi(e,t){let r=new wn(Mp(e));return t.forEach((i,a)=>{Zv(e,a)&&(r=r.add(a))}),r}$i(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const a="F"===e.limitType?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Mi(e,t){return bp()<=hu.in.DEBUG&&Pe("QueryEngine","Using full collection scan to execute query:",Wv(t)),this.Ni.getDocumentsMatchingQuery(e,t,Jr.min())}Bi(e,t,r,i){return this.Ni.getDocumentsMatchingQuery(e,r,i).next(a=>(t.forEach(c=>{a=a.insert(c.key,c)}),a))}}class bT{constructor(e,t,r,i){this.persistence=e,this.Li=t,this.It=i,this.Ui=new On(Vt),this.qi=new Dc(a=>hl(a),zo),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(r)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Ib(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ui))}}function IC(n,e,t,r){return new bT(n,e,t,r)}function kb(n,e){return Ob.apply(this,arguments)}function Ob(){return Ob=(0,Ce.Z)(function*(n,e){const t=We(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(a=>(i=a,t.Qi(e),t.mutationQueue.getAllMutationBatches(r))).next(a=>{const c=[],f=[];let _=Ht();for(const E of i){c.push(E.batchId);for(const I of E.mutations)_=_.add(I.key)}for(const E of a){f.push(E.batchId);for(const I of E.mutations)_=_.add(I.key)}return t.localDocuments.getDocuments(r,_).next(E=>({ji:E,removedBatchIds:c,addedBatchIds:f}))})})}),Ob.apply(this,arguments)}function TC(n,e){const t=We(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=t.Gi.newChangeBuffer({trackRemovals:!0});return function(c,f,_,E){const I=_.batch,x=I.keys();let F=ae.resolve();return x.forEach(B=>{F=F.next(()=>E.getEntry(f,B)).next(j=>{const le=_.docVersions.get(B);Tt(null!==le),j.version.compareTo(le)<0&&(I.applyToRemoteDocument(j,_),j.isValidDocument()&&(j.setReadTime(_.commitVersion),E.addEntry(j)))})}),F.next(()=>c.mutationQueue.removeMutationBatch(f,I))}(t,r,e,a).next(()=>a.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let f=Ht();for(let _=0;_<c.mutationResults.length;++_)c.mutationResults[_].transformResults.length>0&&(f=f.add(c.batch.mutations[_].key));return f}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function Pb(n){const e=We(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}function SC(n,e){const t=We(n),r=e.snapshotVersion;let i=t.Ui;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const c=t.Gi.newChangeBuffer({trackRemovals:!0});i=t.Ui;const f=[];e.targetChanges.forEach((I,x)=>{const F=i.get(x);if(!F)return;f.push(t.Cs.removeMatchingKeys(a,I.removedDocuments,x).next(()=>t.Cs.addMatchingKeys(a,I.addedDocuments,x)));let B=F.withSequenceNumber(a.currentSequenceNumber);var j,le,Te;e.targetMismatches.has(x)?B=B.withResumeToken(br.EMPTY_BYTE_STRING,Mt.min()).withLastLimboFreeSnapshotVersion(Mt.min()):I.resumeToken.approximateByteSize()>0&&(B=B.withResumeToken(I.resumeToken,r)),i=i.insert(x,B),le=B,Te=I,(0===(j=F).resumeToken.approximateByteSize()||le.snapshotVersion.toMicroseconds()-j.snapshotVersion.toMicroseconds()>=3e8||Te.addedDocuments.size+Te.modifiedDocuments.size+Te.removedDocuments.size>0)&&f.push(t.Cs.updateTargetData(a,B))});let _=us(),E=Ht();if(e.documentUpdates.forEach(I=>{e.resolvedLimboDocuments.has(I)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(a,I))}),f.push(Nb(a,c,e.documentUpdates).next(I=>{_=I.Wi,E=I.zi})),!r.isEqual(Mt.min())){const I=t.Cs.getLastRemoteSnapshotVersion(a).next(x=>t.Cs.setTargetsMetadata(a,a.currentSequenceNumber,r));f.push(I)}return ae.waitFor(f).next(()=>c.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,_,E)).next(()=>_)}).then(a=>(t.Ui=i,a))}function Nb(n,e,t){let r=Ht(),i=Ht();return t.forEach(a=>r=r.add(a)),e.getEntries(n,r).next(a=>{let c=us();return t.forEach((f,_)=>{const E=a.get(f);_.isFoundDocument()!==E.isFoundDocument()&&(i=i.add(f)),_.isNoDocument()&&_.version.isEqual(Mt.min())?(e.removeEntry(f,_.readTime),c=c.insert(f,_)):!E.isValidDocument()||_.version.compareTo(E.version)>0||0===_.version.compareTo(E.version)&&E.hasPendingWrites?(e.addEntry(_),c=c.insert(f,_)):Pe("LocalStore","Ignoring outdated watch update for ",f,". Current version:",E.version," Watch version:",_.version)}),{Wi:c,zi:i}})}function ET(n,e){const t=We(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Gh(n,e){const t=We(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Cs.getTargetData(r,e).next(a=>a?(i=a,ae.resolve(i)):t.Cs.allocateTargetId(r).next(c=>(i=new Tc(e,c,0,r.currentSequenceNumber),t.Cs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Ui.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ui=t.Ui.insert(r.targetId,r),t.qi.set(e,r.targetId)),r})}function Zp(n,e,t){return O_.apply(this,arguments)}function O_(){return O_=(0,Ce.Z)(function*(n,e,t){const r=We(n),i=r.Ui.get(e),a=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",a,c=>r.persistence.referenceDelegate.removeTarget(c,i)))}catch(c){if(!ul(c))throw c;Pe("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}r.Ui=r.Ui.remove(e),r.qi.delete(i.target)}),O_.apply(this,arguments)}function Fb(n,e,t){const r=We(n);let i=Mt.min(),a=Ht();return r.persistence.runTransaction("Execute query","readonly",c=>function(f,_,E){const I=We(f),x=I.qi.get(E);return void 0!==x?ae.resolve(I.Ui.get(x)):I.Cs.getTargetData(_,E)}(r,c,$i(e)).next(f=>{if(f)return i=f.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(c,f.targetId).next(_=>{a=_})}).next(()=>r.Li.getDocumentsMatchingQuery(c,e,t?i:Mt.min(),t?a:Ht())).next(f=>(DT(r,Sw(e),f),{documents:f,Hi:a})))}function wT(n,e){const t=We(n),r=We(t.Cs),i=t.Ui.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",a=>r.se(a,e).next(c=>c?c.target:null))}function CT(n,e){const t=We(n),r=t.Ki.get(e)||Mt.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.Gi.getAllFromCollectionGroup(i,e,Pv(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(DT(t,e,i),i))}function DT(n,e,t){let r=n.Ki.get(e)||Mt.min();t.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),n.Ki.set(e,r)}function AC(){return AC=(0,Ce.Z)(function*(n,e,t,r){const i=We(n);let a=Ht(),c=us();for(const E of t){const I=e.Ji(E.metadata.name);E.document&&(a=a.add(I));const x=e.Yi(E);x.setReadTime(e.Xi(E.metadata.readTime)),c=c.insert(I,x)}const f=i.Gi.newChangeBuffer({trackRemovals:!0}),_=yield Gh(i,(E=r,$i(Ch(cn.fromString(`__bundle__/docs/${E}`)))));var E;return i.persistence.runTransaction("Apply bundle documents","readwrite",E=>Nb(E,f,c).next(I=>(f.apply(E),I)).next(I=>i.Cs.removeMatchingKeysForTargetId(E,_.targetId).next(()=>i.Cs.addMatchingKeys(E,a,_.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(E,I.Wi,I.zi)).next(()=>I.Wi)))}),AC.apply(this,arguments)}function mM(n,e){return MC.apply(this,arguments)}function MC(){return MC=(0,Ce.Z)(function*(n,e,t=Ht()){const r=yield Gh(n,$i(v_(e.bundledQuery))),i=We(n);return i.persistence.runTransaction("Save named query","readwrite",a=>{const c=wr(e.readTime);if(r.snapshotVersion.compareTo(c)>=0)return i.Ns.saveNamedQuery(a,e);const f=r.withResumeToken(br.EMPTY_BYTE_STRING,c);return i.Ui=i.Ui.insert(f.targetId,f),i.Cs.updateTargetData(a,f).next(()=>i.Cs.removeMatchingKeysForTargetId(a,r.targetId)).next(()=>i.Cs.addMatchingKeys(a,t,r.targetId)).next(()=>i.Ns.saveNamedQuery(a,e))})}),MC.apply(this,arguments)}function Kp(n,e){return`firestore_clients_${n}_${e}`}function IT(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function P_(n,e){return`firestore_targets_${n}_${e}`}class zh{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static Zi(e,t,r){const i=JSON.parse(r);let a,c="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return c&&i.error&&(c="string"==typeof i.error.message&&"string"==typeof i.error.code,c&&(a=new Oe(i.error.code,i.error.message))),c?new zh(e,t,i.state,a):(Yn("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class qh{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Zi(e,t){const r=JSON.parse(t);let i,a="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return a&&r.error&&(a="string"==typeof r.error.message&&"string"==typeof r.error.code,a&&(i=new Oe(r.error.code,r.error.message))),a?new qh(e,r.state,i):(Yn("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Yp{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Zi(e,t){const r=JSON.parse(t);let i="object"==typeof r&&r.activeTargetIds instanceof Array,a=d_();for(let c=0;i&&c<r.activeTargetIds.length;++c)i=gw(r.activeTargetIds[c]),a=a.add(r.activeTargetIds[c]);return i?new Yp(e,a):(Yn("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class xC{constructor(e,t){this.clientId=e,this.onlineState=t}static Zi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new xC(t.clientId,t.onlineState):(Yn("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Qp{constructor(){this.activeTargetIds=d_()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class N_{constructor(e,t,r,i,a){this.window=e,this.Hs=t,this.persistenceKey=r,this.sr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new On(Vt),this.started=!1,this.cr=[];const c=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.ar=Kp(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new Qp),this.lr=new RegExp(`^firestore_clients_${c}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${c}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${c}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(f){return`firestore_bundle_loaded_v2_${f}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Ce.Z)(function*(){const t=yield e.syncEngine.vi();for(const i of t){if(i===e.sr)continue;const a=e.getItem(Kp(e.persistenceKey,i));if(a){const c=Yp.Zi(i,a);c&&(e.ur=e.ur.insert(c.clientId,c))}}e.gr();const r=e.storage.getItem(e.wr);if(r){const i=e.yr(r);i&&e.pr(i)}for(const i of e.cr)e.rr(i);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.hr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(e){let t=!1;return this.ur.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Tr(e,"pending")}updateMutationState(e,t,r){this.Tr(e,t,r),this.Er(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(P_(this.persistenceKey,e));if(r){const i=qh.Zi(e,r);i&&(t=i.state)}}return this.Ar.er(e),this.gr(),t}removeLocalQueryTarget(e){this.Ar.nr(e),this.gr()}isLocalQueryTarget(e){return this.Ar.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(P_(this.persistenceKey,e))}updateQueryState(e,t,r){this.Rr(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.Er(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.br(e)}notifyBundleLoaded(e){this.Pr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Pe("SharedClientState","READ",e,t),t}setItem(e,t){Pe("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Pe("SharedClientState","REMOVE",e),this.storage.removeItem(e)}rr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(Pe("SharedClientState","EVENT",r.key,r.newValue),r.key===this.ar)return void Yn("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,Ce.Z)(function*(){if(t.started){if(null!==r.key)if(t.lr.test(r.key)){if(null==r.newValue){const i=t.vr(r.key);return t.Vr(i,null)}{const i=t.Sr(r.key,r.newValue);if(i)return t.Vr(i.clientId,i)}}else if(t.dr.test(r.key)){if(null!==r.newValue){const i=t.Dr(r.key,r.newValue);if(i)return t.Cr(i)}}else if(t._r.test(r.key)){if(null!==r.newValue){const i=t.Nr(r.key,r.newValue);if(i)return t.kr(i)}}else if(r.key===t.wr){if(null!==r.newValue){const i=t.yr(r.newValue);if(i)return t.pr(i)}}else if(r.key===t.hr){const i=function(a){let c=cs.at;if(null!=a)try{const f=JSON.parse(a);Tt("number"==typeof f),c=f}catch(f){Yn("SharedClientState","Failed to read sequence number from WebStorage",f)}return c}(r.newValue);i!==cs.at&&t.sequenceNumberHandler(i)}else if(r.key===t.mr){const i=t.Or(r.newValue);yield Promise.all(i.map(a=>t.syncEngine.Mr(a)))}}else t.cr.push(r)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(e,t,r){const i=new zh(this.currentUser,e,t,r),a=IT(this.persistenceKey,this.currentUser,e);this.setItem(a,i.tr())}Er(e){const t=IT(this.persistenceKey,this.currentUser,e);this.removeItem(t)}br(e){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:e}))}Rr(e,t,r){const i=P_(this.persistenceKey,e),a=new qh(e,t,r);this.setItem(i,a.tr())}Pr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}vr(e){const t=this.lr.exec(e);return t?t[1]:null}Sr(e,t){const r=this.vr(e);return Yp.Zi(r,t)}Dr(e,t){const r=this.dr.exec(e),i=Number(r[1]);return zh.Zi(new Xr(void 0!==r[2]?r[2]:null),i,t)}Nr(e,t){const r=this._r.exec(e),i=Number(r[1]);return qh.Zi(i,t)}yr(e){return xC.Zi(e)}Or(e){return JSON.parse(e)}Cr(e){var t=this;return(0,Ce.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Fr(e.batchId,e.state,e.error);Pe("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}kr(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}Vr(e,t){const r=t?this.ur.insert(e,t):this.ur.remove(e),i=this.Ir(this.ur),a=this.Ir(r),c=[],f=[];return a.forEach(_=>{i.has(_)||c.push(_)}),i.forEach(_=>{a.has(_)||f.push(_)}),this.syncEngine.Br(c,f).then(()=>{this.ur=r})}pr(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ir(e){let t=d_();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class RC{constructor(){this.Lr=new Qp,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Lr.er(e),this.Ur[e]||"not-current"}updateQueryState(e,t,r){this.Ur[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.Ur[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new Qp,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class kC{qr(e){}shutdown(){}}class TT{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){Pe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){Pe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const ST={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class AT{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class Lb extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,t,r,i,a){const c=this.ho(e,t);Pe("RestConnection","Sending: ",c,r);const f={};return this.lo(f,i,a),this.fo(e,c,f,r).then(_=>(Pe("RestConnection","Received: ",_),_),_=>{throw cl("RestConnection",`${e} failed with error: `,_,"url: ",c,"request:",r),_})}_o(e,t,r,i,a,c){return this.ao(e,t,r,i,a)}lo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+ll,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,a)=>e[a]=i),r&&r.headers.forEach((i,a)=>e[a]=i)}ho(e,t){return`${this.oo}/v1/${t}:${ST[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,r,i){return new Promise((a,c)=>{const f=new Sv;f.setWithCredentials(!0),f.listenOnce(Tv.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case nw.NO_ERROR:const E=f.getResponseJson();Pe("Connection","XHR received:",JSON.stringify(E)),a(E);break;case nw.TIMEOUT:Pe("Connection",'RPC "'+e+'" timed out'),c(new Oe(fe.DEADLINE_EXCEEDED,"Request time out"));break;case nw.HTTP_ERROR:const I=f.getStatus();if(Pe("Connection",'RPC "'+e+'" failed with status:',I,"response text:",f.getResponseText()),I>0){const x=f.getResponseJson().error;if(x&&x.status&&x.message){const F=function(B){const j=B.toLowerCase().replace(/_/g,"-");return Object.values(fe).indexOf(j)>=0?j:fe.UNKNOWN}(x.status);c(new Oe(F,x.message))}else c(new Oe(fe.UNKNOWN,"Server responded with status "+f.getStatus()))}else c(new Oe(fe.UNAVAILABLE,"Connection failed."));break;default:it()}}finally{Pe("Connection",'RPC "'+e+'" completed.')}});const _=JSON.stringify(i);f.send(t,"POST",_,r,15)})}wo(e,t,r){const i=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=tw(),c=Iv(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(f.xmlHttpFactory=new yp({})),this.lo(f.initMessageHeaders,t,r),f.encodeInitMessageHeaders=!0;const _=i.join("");Pe("Connection","Creating WebChannel: "+_,f);const E=a.createWebChannel(_,f);let I=!1,x=!1;const F=new AT({Hr:j=>{x?Pe("Connection","Not sending because WebChannel is closed:",j):(I||(Pe("Connection","Opening WebChannel transport."),E.open(),I=!0),Pe("Connection","WebChannel sending:",j),E.send(j))},Jr:()=>E.close()}),B=(j,le,Te)=>{j.listen(le,qe=>{try{Te(qe)}catch(st){setTimeout(()=>{throw st},0)}})};return B(E,vp.EventType.OPEN,()=>{x||Pe("Connection","WebChannel transport opened.")}),B(E,vp.EventType.CLOSE,()=>{x||(x=!0,Pe("Connection","WebChannel transport closed"),F.io())}),B(E,vp.EventType.ERROR,j=>{x||(x=!0,cl("Connection","WebChannel transport errored:",j),F.io(new Oe(fe.UNAVAILABLE,"The operation could not be completed")))}),B(E,vp.EventType.MESSAGE,j=>{var le;if(!x){const Te=j.data[0];Tt(!!Te);const qe=Te,st=qe.error||(null===(le=qe[0])||void 0===le?void 0:le.error);if(st){Pe("Connection","WebChannel received error:",st);const pt=st.status;let lt=function(Pt){const un=Er[Pt];if(void 0!==un)return eb(un)}(pt),xt=st.message;void 0===lt&&(lt=fe.INTERNAL,xt="Unknown error status: "+pt+" with message "+st.message),x=!0,F.io(new Oe(lt,xt)),E.close()}else Pe("Connection","WebChannel received:",Te),F.ro(Te)}}),B(c,LI.STAT_EVENT,j=>{j.stat===VI.PROXY?Pe("Connection","Detected buffering proxy"):j.stat===VI.NOPROXY&&Pe("Connection","Detected no buffering proxy")}),setTimeout(()=>{F.so()},0),F}}function OC(){return"undefined"!=typeof window?window:null}function Vb(){return"undefined"!=typeof document?document:null}function F_(n){return new zw(n,!0)}class PC{constructor(e,t,r=1e3,i=1.5,a=6e4){this.Hs=e,this.timerId=t,this.mo=r,this.yo=i,this.po=a,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,t-r);i>0&&Pe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,i,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class NC{constructor(e,t,r,i,a,c,f,_){this.Hs=e,this.vo=r,this.Vo=i,this.So=a,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=f,this.listener=_,this.state=0,this.Do=0,this.Co=null,this.xo=null,this.stream=null,this.No=new PC(e,t)}ko(){return 1===this.state||5===this.state||this.Oo()}Oo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Mo()}stop(){var e=this;return(0,Ce.Z)(function*(){e.ko()&&(yield e.close(0))})()}Fo(){this.state=0,this.No.reset()}$o(){this.Oo()&&null===this.Co&&(this.Co=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.Bo()))}Lo(e){this.Uo(),this.stream.send(e)}Bo(){var e=this;return(0,Ce.Z)(function*(){if(e.Oo())return e.close(0)})()}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}qo(){this.xo&&(this.xo.cancel(),this.xo=null)}close(e,t){var r=this;return(0,Ce.Z)(function*(){r.Uo(),r.qo(),r.No.cancel(),r.Do++,4!==e?r.No.reset():t&&t.code===fe.RESOURCE_EXHAUSTED?(Yn(t.toString()),Yn("Using maximum backoff delay to prevent overloading the backend."),r.No.Ao()):t&&t.code===fe.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Ko(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Zr(t)})()}Ko(){}auth(){this.state=1;const e=this.Go(this.Do),t=this.Do;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Do===t&&this.Qo(r,i)},r=>{e(()=>{const i=new Oe(fe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.jo(i)})})}Qo(e,t){const r=this.Go(this.Do);this.stream=this.Wo(e,t),this.stream.Yr(()=>{r(()=>(this.state=2,this.xo=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.Oo()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(i=>{r(()=>this.jo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Mo(){var e=this;this.state=5,this.No.Ro((0,Ce.Z)(function*(){e.state=0,e.start()}))}jo(e){return Pe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Go(e){return t=>{this.Hs.enqueueAndForget(()=>this.Do===e?t():(Pe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class MT extends NC{constructor(e,t,r,i,a,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,c),this.It=a}Wo(e,t){return this.So.wo("Listen",e,t)}onMessage(e){this.No.reset();const t=function Zw(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(_=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===_?1:"REMOVE"===_?2:"CURRENT"===_?3:"RESET"===_?4:it(),i=e.targetChange.targetIds||[],a=function(_,E){return _.gt?(Tt(void 0===E||"string"==typeof E),br.fromBase64String(E||"")):(Tt(void 0===E||E instanceof Uint8Array),br.fromUint8Array(E||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,f=c&&function(_){const E=void 0===_.code?fe.UNKNOWN:eb(_.code);return new Oe(E,_.message||"")}(c);t=new $w(r,i,a,f||null)}else if("documentChange"in e){const r=e.documentChange,i=Oa(n,r.document.name),a=wr(r.document.updateTime),c=new ti({mapValue:{fields:r.document.fields}}),f=An.newFoundDocument(i,a,c);t=new h_(r.targetIds||[],r.removedTargetIds||[],f.key,f)}else if("documentDelete"in e){const r=e.documentDelete,i=Oa(n,r.document),a=r.readTime?wr(r.readTime):Mt.min(),c=An.newNoDocument(i,a);t=new h_([],r.removedTargetIds||[],c.key,c)}else if("documentRemove"in e){const r=e.documentRemove,i=Oa(n,r.document);t=new h_([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return it();{const r=e.filter,a=new Mh(r.count||0);t=new Hw(r.targetId,a)}}var _;return t}(this.It,e),r=function(i){if(!("targetChange"in i))return Mt.min();const a=i.targetChange;return a.targetIds&&a.targetIds.length?Mt.min():a.readTime?wr(a.readTime):Mt.min()}(e);return this.listener.zo(t,r)}Ho(e){const t={};t.database=Bp(this.It),t.addTarget=function(i,a){let c;const f=a.target;return c=n_(f)?{documents:Kw(i,f)}:{query:Ic(i,f)},c.targetId=a.targetId,a.resumeToken.approximateByteSize()>0?c.resumeToken=qw(i,a.resumeToken):a.snapshotVersion.compareTo(Mt.min())>0&&(c.readTime=Lp(i,a.snapshotVersion.toTimestamp())),c}(this.It,e);const r=function rT(n,e){const t=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return it()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Lo(t)}Jo(e){const t={};t.database=Bp(this.It),t.removeTarget=e,this.Lo(t)}}class xT extends NC{constructor(e,t,r,i,a,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,c),this.It=a,this.Yo=!1}get Xo(){return this.Yo}start(){this.Yo=!1,this.lastStreamToken=void 0,super.start()}Ko(){this.Yo&&this.Zo([])}Wo(e,t){return this.So.wo("Write",e,t)}onMessage(e){if(Tt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Yo){this.No.reset();const t=function g_(n,e){return n&&n.length>0?(Tt(void 0!==e),n.map(t=>function(r,i){let a=wr(r.updateTime?r.updateTime:i);return a.isEqual(Mt.min())&&(a=wr(i)),new cM(a,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=wr(e.commitTime);return this.listener.tu(r,t)}return Tt(!e.writeResults||0===e.writeResults.length),this.Yo=!0,this.listener.eu()}nu(){const e={};e.database=Bp(this.It),this.Lo(e)}Zo(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>p_(this.It,r))};this.Lo(t)}}class _M extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.So=r,this.It=i,this.su=!1}iu(){if(this.su)throw new Oe(fe.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,t,r){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.So.ao(e,t,r,i,a)).catch(i=>{throw"FirebaseError"===i.name?(i.code===fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Oe(fe.UNKNOWN,i.toString())})}_o(e,t,r,i){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,c])=>this.So._o(e,t,r,a,c,i)).catch(a=>{throw"FirebaseError"===a.name?(a.code===fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Oe(fe.UNKNOWN,a.toString())})}terminate(){this.su=!0}}class kT{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.ru=0,this.ou=null,this.uu=!0}cu(){0===this.ru&&(this.au("Unknown"),this.ou=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ou=null,this.hu("Backend didn't respond within 10 seconds."),this.au("Offline"),Promise.resolve())))}lu(e){"Online"===this.state?this.au("Unknown"):(this.ru++,this.ru>=1&&(this.fu(),this.hu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.au("Offline")))}set(e){this.fu(),this.ru=0,"Online"===e&&(this.uu=!1),this.au(e)}au(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}hu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.uu?(Yn(t),this.uu=!1):Pe("OnlineStateTracker",t)}fu(){null!==this.ou&&(this.ou.cancel(),this.ou=null)}}class Ko{constructor(e,t,r,i,a){var c=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.du=[],this._u=new Map,this.wu=new Set,this.mu=[],this.gu=a,this.gu.qr(f=>{r.enqueueAndForget((0,Ce.Z)(function*(){var _;ml(c)&&(Pe("RemoteStore","Restarting streams for network reachability change."),yield(_=(0,Ce.Z)(function*(E){const I=We(E);I.wu.add(4),yield Wh(I),I.yu.set("Unknown"),I.wu.delete(4),yield Jp(I)}),function(E){return _.apply(this,arguments)})(c))}))}),this.yu=new kT(r,i)}}function Jp(n){return eg.apply(this,arguments)}function eg(){return eg=(0,Ce.Z)(function*(n){if(ml(n))for(const e of n.mu)yield e(!0)}),eg.apply(this,arguments)}function Wh(n){return Bb.apply(this,arguments)}function Bb(){return Bb=(0,Ce.Z)(function*(n){for(const e of n.mu)yield e(!1)}),Bb.apply(this,arguments)}function Zh(n,e){const t=We(n);t._u.has(e.targetId)||(t._u.set(e.targetId,e),Ub(t)?V_(t):ng(t).Oo()&&L_(t,e))}function Kh(n,e){const t=We(n),r=ng(t);t._u.delete(e),r.Oo()&&FC(t,e),0===t._u.size&&(r.Oo()?r.$o():ml(t)&&t.yu.set("Unknown"))}function L_(n,e){n.pu.Mt(e.targetId),ng(n).Ho(e)}function FC(n,e){n.pu.Mt(e),ng(n).Jo(e)}function V_(n){n.pu=new XI({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),se:e=>n._u.get(e)||null}),ng(n).start(),n.yu.cu()}function Ub(n){return ml(n)&&!ng(n).ko()&&n._u.size>0}function ml(n){return 0===We(n).wu.size}function LC(n){n.pu=void 0}function jb(n){return _l.apply(this,arguments)}function _l(){return _l=(0,Ce.Z)(function*(n){n._u.forEach((e,t)=>{L_(n,e)})}),_l.apply(this,arguments)}function VC(n,e){return B_.apply(this,arguments)}function B_(){return B_=(0,Ce.Z)(function*(n,e){LC(n),Ub(n)?(n.yu.lu(e),V_(n)):n.yu.set("Unknown")}),B_.apply(this,arguments)}function OT(n,e,t){return BC.apply(this,arguments)}function BC(){return BC=(0,Ce.Z)(function*(n,e,t){if(n.yu.set("Online"),e instanceof $w&&2===e.state&&e.cause)try{yield(r=(0,Ce.Z)(function*(i,a){const c=a.cause;for(const f of a.targetIds)i._u.has(f)&&(yield i.remoteSyncer.rejectListen(f,c),i._u.delete(f),i.pu.removeTarget(f))}),function(i,a){return r.apply(this,arguments)})(n,e)}catch(r){Pe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield U_(n,r)}else if(e instanceof h_?n.pu.Gt(e):e instanceof Hw?n.pu.Yt(e):n.pu.Wt(e),!t.isEqual(Mt.min()))try{const r=yield Pb(n.localStore);t.compareTo(r)>=0&&(yield function(i,a){const c=i.pu.te(a);return c.targetChanges.forEach((f,_)=>{if(f.resumeToken.approximateByteSize()>0){const E=i._u.get(_);E&&i._u.set(_,E.withResumeToken(f.resumeToken,a))}}),c.targetMismatches.forEach(f=>{const _=i._u.get(f);if(!_)return;i._u.set(f,_.withResumeToken(br.EMPTY_BYTE_STRING,_.snapshotVersion)),FC(i,f);const E=new Tc(_.target,f,1,_.sequenceNumber);L_(i,E)}),i.remoteSyncer.applyRemoteEvent(c)}(n,t))}catch(r){Pe("RemoteStore","Failed to raise snapshot:",r),yield U_(n,r)}var r}),BC.apply(this,arguments)}function U_(n,e,t){return Hb.apply(this,arguments)}function Hb(){return Hb=(0,Ce.Z)(function*(n,e,t){if(!ul(e))throw e;n.wu.add(1),yield Wh(n),n.yu.set("Offline"),t||(t=()=>Pb(n.localStore)),n.asyncQueue.enqueueRetryable((0,Ce.Z)(function*(){Pe("RemoteStore","Retrying IndexedDB access"),yield t(),n.wu.delete(1),yield Jp(n)}))}),Hb.apply(this,arguments)}function UC(n,e){return e().catch(t=>U_(n,t,e))}function zu(n){return $b.apply(this,arguments)}function $b(){return $b=(0,Ce.Z)(function*(n){const e=We(n),t=yl(e);let r=e.du.length>0?e.du[e.du.length-1].batchId:-1;for(;PT(e);)try{const i=yield ET(e.localStore,r);if(null===i){0===e.du.length&&t.$o();break}r=i.batchId,yM(e,i)}catch(i){yield U_(e,i)}j_(e)&&Gb(e)}),$b.apply(this,arguments)}function PT(n){return ml(n)&&n.du.length<10}function yM(n,e){n.du.push(e);const t=yl(n);t.Oo()&&t.Xo&&t.Zo(e.mutations)}function j_(n){return ml(n)&&!yl(n).ko()&&n.du.length>0}function Gb(n){yl(n).start()}function NT(n){return zb.apply(this,arguments)}function zb(){return zb=(0,Ce.Z)(function*(n){yl(n).nu()}),zb.apply(this,arguments)}function jC(n){return tg.apply(this,arguments)}function tg(){return tg=(0,Ce.Z)(function*(n){const e=yl(n);for(const t of n.du)e.Zo(t.mutations)}),tg.apply(this,arguments)}function qb(n,e,t){return H_.apply(this,arguments)}function H_(){return H_=(0,Ce.Z)(function*(n,e,t){const r=n.du.shift(),i=gb.from(r,e,t);yield UC(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield zu(n)}),H_.apply(this,arguments)}function FT(n,e){return $_.apply(this,arguments)}function $_(){return $_=(0,Ce.Z)(function*(n,e){var t;e&&yl(n).Xo&&(yield(t=(0,Ce.Z)(function*(r,i){if(Vw(a=i.code)&&a!==fe.ABORTED){const c=r.du.shift();yl(r).Fo(),yield UC(r,()=>r.remoteSyncer.rejectFailedWrite(c.batchId,i)),yield zu(r)}var a}),function(r,i){return t.apply(this,arguments)})(n,e)),j_(n)&&Gb(n)}),$_.apply(this,arguments)}function Wb(n,e){return Zb.apply(this,arguments)}function Zb(){return Zb=(0,Ce.Z)(function*(n,e){const t=We(n);t.asyncQueue.verifyOperationInProgress(),Pe("RemoteStore","RemoteStore received new credentials");const r=ml(t);t.wu.add(3),yield Wh(t),r&&t.yu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.wu.delete(3),yield Jp(t)}),Zb.apply(this,arguments)}function Kb(n,e){return HC.apply(this,arguments)}function HC(){return HC=(0,Ce.Z)(function*(n,e){const t=We(n);e?(t.wu.delete(2),yield Jp(t)):e||(t.wu.add(2),yield Wh(t),t.yu.set("Unknown"))}),HC.apply(this,arguments)}function ng(n){return n.Iu||(n.Iu=function(e,t,r){const i=We(e);return i.iu(),new MT(t,i.So,i.authCredentials,i.appCheckCredentials,i.It,r)}(n.datastore,n.asyncQueue,{Yr:jb.bind(null,n),Zr:VC.bind(null,n),zo:OT.bind(null,n)}),n.mu.push(function(){var e=(0,Ce.Z)(function*(t){t?(n.Iu.Fo(),Ub(n)?V_(n):n.yu.set("Unknown")):(yield n.Iu.stop(),LC(n))});return function(t){return e.apply(this,arguments)}}())),n.Iu}function yl(n){return n.Tu||(n.Tu=function(e,t,r){const i=We(e);return i.iu(),new xT(t,i.So,i.authCredentials,i.appCheckCredentials,i.It,r)}(n.datastore,n.asyncQueue,{Yr:NT.bind(null,n),Zr:FT.bind(null,n),eu:jC.bind(null,n),tu:qb.bind(null,n)}),n.mu.push(function(){var e=(0,Ce.Z)(function*(t){t?(n.Tu.Fo(),yield zu(n)):(yield n.Tu.stop(),n.du.length>0&&(Pe("RemoteStore",`Stopping write stream with ${n.du.length} pending writes`),n.du=[]))});return function(t){return e.apply(this,arguments)}}())),n.Tu}class Yb{constructor(e,t,r,i,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new xr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}static createAndSchedule(e,t,r,i,a){const c=Date.now()+r,f=new Yb(e,t,c,i,a);return f.start(r),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Oe(fe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Yh(n,e){if(Yn("AsyncQueue",`${e}: ${n}`),ul(n))return new Oe(fe.UNAVAILABLE,`${e}: ${n}`);throw n}class Qh{constructor(e){this.comparator=e?(t,r)=>e(t,r)||ze.comparator(t.key,r.key):(t,r)=>ze.comparator(t.key,r.key),this.keyedMap=Op(),this.sortedSet=new On(this.comparator)}static emptySet(e){return new Qh(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Qh)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new Qh;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class LT{constructor(){this.Eu=new On(ze.comparator)}track(e){const t=e.doc.key,r=this.Eu.get(t);r?0!==e.type&&3===r.type?this.Eu=this.Eu.insert(t,e):3===e.type&&1!==r.type?this.Eu=this.Eu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Eu=this.Eu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Eu=this.Eu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Eu=this.Eu.remove(t):1===e.type&&2===r.type?this.Eu=this.Eu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Eu=this.Eu.insert(t,{type:2,doc:e.doc}):it():this.Eu=this.Eu.insert(t,e)}Au(){const e=[];return this.Eu.inorderTraversal((t,r)=>{e.push(r)}),e}}class rg{constructor(e,t,r,i,a,c,f,_,E){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=c,this.syncStateChanged=f,this.excludesMetadataChanges=_,this.hasCachedResults=E}static fromInitialDocuments(e,t,r,i,a){const c=[];return t.forEach(f=>{c.push({type:0,doc:f})}),new rg(e,t,Qh.emptySet(t),c,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ap(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class vM{constructor(){this.Ru=void 0,this.listeners=[]}}class bM{constructor(){this.queries=new Dc(e=>Dh(e),Ap),this.onlineState="Unknown",this.bu=new Set}}function $C(n,e){return Qb.apply(this,arguments)}function Qb(){return Qb=(0,Ce.Z)(function*(n,e){const t=We(n),r=e.query;let i=!1,a=t.queries.get(r);if(a||(i=!0,a=new vM),i)try{a.Ru=yield t.onListen(r)}catch(c){const f=Yh(c,`Initialization of query '${Wv(e.query)}' failed`);return void e.onError(f)}t.queries.set(r,a),a.listeners.push(e),e.Pu(t.onlineState),a.Ru&&e.vu(a.Ru)&&vl(t)}),Qb.apply(this,arguments)}function Xh(n,e){return Xb.apply(this,arguments)}function Xb(){return Xb=(0,Ce.Z)(function*(n,e){const t=We(n),r=e.query;let i=!1;const a=t.queries.get(r);if(a){const c=a.listeners.indexOf(e);c>=0&&(a.listeners.splice(c,1),i=0===a.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),Xb.apply(this,arguments)}function VT(n,e){const t=We(n);let r=!1;for(const i of e){const c=t.queries.get(i.query);if(c){for(const f of c.listeners)f.vu(i)&&(r=!0);c.Ru=i}}r&&vl(t)}function GC(n,e,t){const r=We(n),i=r.queries.get(e);if(i)for(const a of i.listeners)a.onError(t);r.queries.delete(e)}function vl(n){n.bu.forEach(e=>{e.next()})}class G_{constructor(e,t,r){this.query=e,this.Vu=t,this.Su=!1,this.Du=null,this.onlineState="Unknown",this.options=r||{}}vu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new rg(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Su?this.Cu(e)&&(this.Vu.next(e),t=!0):this.xu(e,this.onlineState)&&(this.Nu(e),t=!0),this.Du=e,t}onError(e){this.Vu.error(e)}Pu(e){this.onlineState=e;let t=!1;return this.Du&&!this.Su&&this.xu(this.Du,e)&&(this.Nu(this.Du),t=!0),t}xu(e,t){return!e.fromCache||(!this.options.ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Cu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Du&&this.Du.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Nu(e){e=rg.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Su=!0,this.Vu.next(e)}}class Jb{constructor(e,t){this.payload=e,this.byteLength=t}Ou(){return"metadata"in this.payload}}class z_{constructor(e){this.It=e}Ji(e){return Oa(this.It,e)}Yi(e){return e.metadata.exists?lb(this.It,e.document,!1):An.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}Xi(e){return wr(e)}}class BT{constructor(e,t,r){this.Mu=e,this.localStore=t,this.It=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=q_(e)}Fu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const r=cn.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}$u(e){const t=new Map,r=new z_(this.It);for(const i of e)if(i.metadata.queries){const a=r.Ji(i.metadata.name);for(const c of i.metadata.queries){const f=(t.get(c)||Ht()).add(a);t.set(c,f)}}return t}complete(){var e=this;return(0,Ce.Z)(function*(){const t=yield function gM(n,e,t,r){return AC.apply(this,arguments)}(e.localStore,new z_(e.It),e.documents,e.Mu.id),r=e.$u(e.documents);for(const i of e.queries)yield mM(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,Bu:e.collectionGroups,Lu:t}})()}}function q_(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class W_{constructor(e){this.key=e}}class ig{constructor(e){this.key=e}}class UT{constructor(e,t){this.query=e,this.Uu=t,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=Ht(),this.mutatedKeys=Ht(),this.Gu=Mp(e),this.Qu=new Qh(this.Gu)}get ju(){return this.Uu}Wu(e,t){const r=t?t.zu:new LT,i=t?t.Qu:this.Qu;let a=t?t.mutatedKeys:this.mutatedKeys,c=i,f=!1;const _="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,E="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((I,x)=>{const F=i.get(I),B=Zv(this.query,x)?x:null,j=!!F&&this.mutatedKeys.has(F.key),le=!!B&&(B.hasLocalMutations||this.mutatedKeys.has(B.key)&&B.hasCommittedMutations);let Te=!1;F&&B?F.data.isEqual(B.data)?j!==le&&(r.track({type:3,doc:B}),Te=!0):this.Hu(F,B)||(r.track({type:2,doc:B}),Te=!0,(_&&this.Gu(B,_)>0||E&&this.Gu(B,E)<0)&&(f=!0)):!F&&B?(r.track({type:0,doc:B}),Te=!0):F&&!B&&(r.track({type:1,doc:F}),Te=!0,(_||E)&&(f=!0)),Te&&(B?(c=c.add(B),a=le?a.add(I):a.delete(I)):(c=c.delete(I),a=a.delete(I)))}),null!==this.query.limit)for(;c.size>this.query.limit;){const I="F"===this.query.limitType?c.last():c.first();c=c.delete(I.key),a=a.delete(I.key),r.track({type:1,doc:I})}return{Qu:c,zu:r,$i:f,mutatedKeys:a}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const a=e.zu.Au();a.sort((E,I)=>function(x,F){const B=j=>{switch(j){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return it()}};return B(x)-B(F)}(E.type,I.type)||this.Gu(E.doc,I.doc)),this.Ju(r);const c=t?this.Yu():[],f=0===this.Ku.size&&this.current?1:0,_=f!==this.qu;return this.qu=f,0!==a.length||_?{snapshot:new rg(this.query,e.Qu,i,a,e.mutatedKeys,0===f,_,!1,!!r&&r.resumeToken.approximateByteSize()>0),Xu:c}:{Xu:c}}Pu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new LT,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(t=>this.Uu=this.Uu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Uu=this.Uu.delete(t)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=Ht(),this.Qu.forEach(r=>{this.Zu(r.key)&&(this.Ku=this.Ku.add(r.key))});const t=[];return e.forEach(r=>{this.Ku.has(r)||t.push(new ig(r))}),this.Ku.forEach(r=>{e.has(r)||t.push(new W_(r))}),t}tc(e){this.Uu=e.Hi,this.Ku=Ht();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ec(){return rg.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu,this.hasCachedResults)}}class EM{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class wM{constructor(e){this.key=e,this.nc=!1}}class CM{constructor(e,t,r,i,a,c){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=c,this.sc={},this.ic=new Dc(f=>Dh(f),Ap),this.rc=new Map,this.oc=new Set,this.uc=new On(ze.comparator),this.cc=new Map,this.ac=new qp,this.hc={},this.lc=new Map,this.fc=Rc.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function zC(n,e){return e0.apply(this,arguments)}function e0(){return e0=(0,Ce.Z)(function*(n,e){const t=$e(n);let r,i;const a=t.ic.get(e);if(a)r=a.targetId,t.sharedClientState.addLocalQueryTarget(r),i=a.view.ec();else{const c=yield Gh(t.localStore,$i(e));t.isPrimaryClient&&Zh(t.remoteStore,c);const f=t.sharedClientState.addLocalQueryTarget(c.targetId);r=c.targetId,i=yield t0(t,e,r,"current"===f,c.resumeToken)}return i}),e0.apply(this,arguments)}function t0(n,e,t,r,i){return n0.apply(this,arguments)}function n0(){return n0=(0,Ce.Z)(function*(n,e,t,r,i){n._c=(x,F,B)=>{return(j=(0,Ce.Z)(function*(le,Te,qe,st){let pt=Te.view.Wu(qe);pt.$i&&(pt=yield Fb(le.localStore,Te.query,!1).then(({documents:Pt})=>Te.view.Wu(Pt,pt)));const lt=st&&st.targetChanges.get(Te.targetId),xt=Te.view.applyChanges(pt,le.isPrimaryClient,lt);return QC(le,Te.targetId,xt.Xu),xt.snapshot}),function(le,Te,qe,st){return j.apply(this,arguments)})(n,x,F,B);var j};const a=yield Fb(n.localStore,e,!0),c=new UT(e,a.Hi),f=c.Wu(a.documents),_=Fp.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),E=c.applyChanges(f,n.isPrimaryClient,_);QC(n,t,E.Xu);const I=new EM(e,t,c);return n.ic.set(e,I),n.rc.has(t)?n.rc.get(t).push(e):n.rc.set(t,[e]),E.snapshot}),n0.apply(this,arguments)}function jT(n,e){return Z_.apply(this,arguments)}function Z_(){return Z_=(0,Ce.Z)(function*(n,e){const t=We(n),r=t.ic.get(e),i=t.rc.get(r.targetId);if(i.length>1)return t.rc.set(r.targetId,i.filter(a=>!Ap(a,e))),void t.ic.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Zp(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),Kh(t.remoteStore,r.targetId),og(t,r.targetId)}).catch(mc))):(og(t,r.targetId),yield Zp(t.localStore,r.targetId,!0))}),Z_.apply(this,arguments)}function K_(){return K_=(0,Ce.Z)(function*(n,e,t){const r=rt(n);try{const i=yield function(a,c){const f=We(a),_=Nn.now(),E=c.reduce((F,B)=>F.add(B.key),Ht());let I,x;return f.persistence.runTransaction("Locally write mutations","readwrite",F=>{let B=us(),j=Ht();return f.Gi.getEntries(F,E).next(le=>{B=le,B.forEach((Te,qe)=>{qe.isValidDocument()||(j=j.add(Te))})}).next(()=>f.localDocuments.getOverlayedDocuments(F,B)).next(le=>{I=le;const Te=[];for(const qe of c){const st=kp(qe,I.get(qe.key).overlayedDocument);null!=st&&Te.push(new fl(qe.key,st,Gv(st.value.mapValue),Xn.exists(!0)))}return f.mutationQueue.addMutationBatch(F,_,Te,c)}).next(le=>{x=le;const Te=le.applyToLocalDocumentSet(I,j);return f.documentOverlayCache.saveOverlays(F,le.batchId,Te)})}).then(()=>({batchId:x.batchId,changes:tb(I)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,c,f){let _=a.hc[a.currentUser.toKey()];_||(_=new On(Vt)),_=_.insert(c,f),a.hc[a.currentUser.toKey()]=_}(r,i.batchId,t),yield bl(r,i.changes),yield zu(r.remoteStore)}catch(i){const a=Yh(i,"Failed to persist write");t.reject(a)}}),K_.apply(this,arguments)}function WC(n,e){return r0.apply(this,arguments)}function r0(){return r0=(0,Ce.Z)(function*(n,e){const t=We(n);try{const r=yield SC(t.localStore,e);e.targetChanges.forEach((i,a)=>{const c=t.cc.get(a);c&&(Tt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?c.nc=!0:i.modifiedDocuments.size>0?Tt(c.nc):i.removedDocuments.size>0&&(Tt(c.nc),c.nc=!1))}),yield bl(t,r,e)}catch(r){yield mc(r)}}),r0.apply(this,arguments)}function s0(n,e,t){const r=We(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.ic.forEach((a,c)=>{const f=c.view.Pu(e);f.snapshot&&i.push(f.snapshot)}),function(a,c){const f=We(a);f.onlineState=c;let _=!1;f.queries.forEach((E,I)=>{for(const x of I.listeners)x.Pu(c)&&(_=!0)}),_&&vl(f)}(r.eventManager,e),i.length&&r.sc.zo(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function o0(n,e,t){return ZC.apply(this,arguments)}function ZC(){return ZC=(0,Ce.Z)(function*(n,e,t){const r=We(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.cc.get(e),a=i&&i.key;if(a){let c=new On(ze.comparator);c=c.insert(a,An.newNoDocument(a,Mt.min()));const f=Ht().add(a),_=new Np(Mt.min(),new Map,new wn(Vt),c,f);yield WC(r,_),r.uc=r.uc.remove(a),r.cc.delete(e),XC(r)}else yield Zp(r.localStore,e,!1).then(()=>og(r,e,t)).catch(mc)}),ZC.apply(this,arguments)}function KC(n,e){return sg.apply(this,arguments)}function sg(){return sg=(0,Ce.Z)(function*(n,e){const t=We(n),r=e.batch.batchId;try{const i=yield TC(t.localStore,e);c0(t,r,null),l0(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield bl(t,i)}catch(i){yield mc(i)}}),sg.apply(this,arguments)}function HT(n,e,t){return a0.apply(this,arguments)}function a0(){return a0=(0,Ce.Z)(function*(n,e,t){const r=We(n);try{const i=yield function(a,c){const f=We(a);return f.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let E;return f.mutationQueue.lookupMutationBatch(_,c).next(I=>(Tt(null!==I),E=I.keys(),f.mutationQueue.removeMutationBatch(_,I))).next(()=>f.mutationQueue.performConsistencyCheck(_)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(_,E,c)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,E)).next(()=>f.localDocuments.getDocuments(_,E))})}(r.localStore,e);c0(r,e,t),l0(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield bl(r,i)}catch(i){yield mc(i)}}),a0.apply(this,arguments)}function YC(){return YC=(0,Ce.Z)(function*(n,e){const t=We(n);ml(t.remoteStore)||Pe("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(a){const c=We(a);return c.persistence.runTransaction("Get highest unacknowledged batch id","readonly",f=>c.mutationQueue.getHighestUnacknowledgedBatchId(f))}(t.localStore);if(-1===r)return void e.resolve();const i=t.lc.get(r)||[];i.push(e),t.lc.set(r,i)}catch(r){const i=Yh(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),YC.apply(this,arguments)}function l0(n,e){(n.lc.get(e)||[]).forEach(t=>{t.resolve()}),n.lc.delete(e)}function c0(n,e,t){const r=We(n);let i=r.hc[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(t?a.reject(t):a.resolve(),i=i.remove(e)),r.hc[r.currentUser.toKey()]=i}}function og(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.rc.get(e))n.ic.delete(r),t&&n.sc.wc(r,t);n.rc.delete(e),n.isPrimaryClient&&n.ac.ls(e).forEach(r=>{n.ac.containsKey(r)||$T(n,r)})}function $T(n,e){n.oc.delete(e.path.canonicalString());const t=n.uc.get(e);null!==t&&(Kh(n.remoteStore,t),n.uc=n.uc.remove(e),n.cc.delete(t),XC(n))}function QC(n,e,t){for(const r of t)r instanceof W_?(n.ac.addReference(r.key,e),IM(n,r)):r instanceof ig?(Pe("SyncEngine","Document no longer in limbo: "+r.key),n.ac.removeReference(r.key,e),n.ac.containsKey(r.key)||$T(n,r.key)):it()}function IM(n,e){const t=e.key,r=t.path.canonicalString();n.uc.get(t)||n.oc.has(r)||(Pe("SyncEngine","New document in limbo: "+t),n.oc.add(r),XC(n))}function XC(n){for(;n.oc.size>0&&n.uc.size<n.maxConcurrentLimboResolutions;){const e=n.oc.values().next().value;n.oc.delete(e);const t=new ze(cn.fromString(e)),r=n.fc.next();n.cc.set(r,new wM(t)),n.uc=n.uc.insert(t,r),Zh(n.remoteStore,new Tc($i(Ch(t.path)),r,2,cs.at))}}function bl(n,e,t){return JC.apply(this,arguments)}function JC(){return JC=(0,Ce.Z)(function*(n,e,t){const r=We(n),i=[],a=[],c=[];var f;r.ic.isEmpty()||(r.ic.forEach((f,_)=>{c.push(r._c(_,e,t).then(E=>{if((E||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(_.targetId,(null==E?void 0:E.fromCache)?"not-current":"current"),E){i.push(E);const I=k_.Ci(_.targetId,E);a.push(I)}}))}),yield Promise.all(c),r.sc.zo(i),yield(f=(0,Ce.Z)(function*(_,E){const I=We(_);try{yield I.persistence.runTransaction("notifyLocalViewChanges","readwrite",x=>ae.forEach(E,F=>ae.forEach(F.Si,B=>I.persistence.referenceDelegate.addReference(x,F.targetId,B)).next(()=>ae.forEach(F.Di,B=>I.persistence.referenceDelegate.removeReference(x,F.targetId,B)))))}catch(x){if(!ul(x))throw x;Pe("LocalStore","Failed to update sequence numbers: "+x)}for(const x of E){const F=x.targetId;if(!x.fromCache){const B=I.Ui.get(F),le=B.withLastLimboFreeSnapshotVersion(B.snapshotVersion);I.Ui=I.Ui.insert(F,le)}}}),function(_,E){return f.apply(this,arguments)})(r.localStore,a))}),JC.apply(this,arguments)}function TM(n,e){return eD.apply(this,arguments)}function eD(){return eD=(0,Ce.Z)(function*(n,e){const t=We(n);if(!t.currentUser.isEqual(e)){Pe("SyncEngine","User change. New user:",e.toKey());const r=yield kb(t.localStore,e);t.currentUser=e,(i=t).lc.forEach(c=>{c.forEach(f=>{f.reject(new Oe(fe.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.lc.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield bl(t,r.ji)}var i}),eD.apply(this,arguments)}function SM(n,e){const t=We(n),r=t.cc.get(e);if(r&&r.nc)return Ht().add(r.key);{let i=Ht();const a=t.rc.get(e);if(!a)return i;for(const c of a){const f=t.ic.get(c);i=i.unionWith(f.view.ju)}return i}}function s(n,e){return o.apply(this,arguments)}function o(){return o=(0,Ce.Z)(function*(n,e){const t=We(n),r=yield Fb(t.localStore,e.query,!0),i=e.view.tc(r);return t.isPrimaryClient&&QC(t,e.targetId,i.Xu),i}),o.apply(this,arguments)}function l(n,e){return u.apply(this,arguments)}function u(){return u=(0,Ce.Z)(function*(n,e){const t=We(n);return CT(t.localStore,e).then(r=>bl(t,r))}),u.apply(this,arguments)}function h(n,e,t,r){return m.apply(this,arguments)}function m(){return m=(0,Ce.Z)(function*(n,e,t,r){const i=We(n),a=yield function(c,f){const _=We(c),E=We(_.mutationQueue);return _.persistence.runTransaction("Lookup mutation documents","readonly",I=>E.Tn(I,f).next(x=>x?_.localDocuments.getDocuments(I,x):ae.resolve(null)))}(i.localStore,e);var f;null!==a?("pending"===t?yield zu(i.remoteStore):"acknowledged"===t||"rejected"===t?(c0(i,e,r||null),l0(i,e),f=e,We(We(i.localStore).mutationQueue).An(f)):it(),yield bl(i,a)):Pe("SyncEngine","Cannot apply mutation batch with id: "+e)}),m.apply(this,arguments)}function w(){return w=(0,Ce.Z)(function*(n,e){const t=We(n);if($e(t),rt(t),!0===e&&!0!==t.dc){const r=t.sharedClientState.getAllActiveQueryTargets(),i=yield D(t,r.toArray());t.dc=!0,yield Kb(t.remoteStore,!0);for(const a of i)Zh(t.remoteStore,a)}else if(!1===e&&!1!==t.dc){const r=[];let i=Promise.resolve();t.rc.forEach((a,c)=>{t.sharedClientState.isLocalQueryTarget(c)?r.push(c):i=i.then(()=>(og(t,c),Zp(t.localStore,c,!0))),Kh(t.remoteStore,c)}),yield i,yield D(t,r),function(a){const c=We(a);c.cc.forEach((f,_)=>{Kh(c.remoteStore,_)}),c.ac.fs(),c.cc=new Map,c.uc=new On(ze.comparator)}(t),t.dc=!1,yield Kb(t.remoteStore,!1)}}),w.apply(this,arguments)}function D(n,e,t){return M.apply(this,arguments)}function M(){return M=(0,Ce.Z)(function*(n,e,t){const r=We(n),i=[],a=[];for(const c of e){let f;const _=r.rc.get(c);if(_&&0!==_.length){f=yield Gh(r.localStore,$i(_[0]));for(const E of _){const I=r.ic.get(E),x=yield s(r,I);x.snapshot&&a.push(x.snapshot)}}else{const E=yield wT(r.localStore,c);f=yield Gh(r.localStore,E),yield t0(r,k(E),c,!1,f.resumeToken)}i.push(f)}return r.sc.zo(a),i}),M.apply(this,arguments)}function k(n){return qv(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function L(n){const e=We(n);return We(We(e.localStore).persistence).vi()}function z(n,e,t,r){return X.apply(this,arguments)}function X(){return X=(0,Ce.Z)(function*(n,e,t,r){const i=We(n);if(i.dc)return void Pe("SyncEngine","Ignoring unexpected query state notification.");const a=i.rc.get(e);if(a&&a.length>0)switch(t){case"current":case"not-current":{const c=yield CT(i.localStore,Sw(a[0])),f=Np.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,br.EMPTY_BYTE_STRING);yield bl(i,c,f);break}case"rejected":yield Zp(i.localStore,e,!0),og(i,e,r);break;default:it()}}),X.apply(this,arguments)}function ve(n,e,t){return Ve.apply(this,arguments)}function Ve(){return Ve=(0,Ce.Z)(function*(n,e,t){const r=$e(n);if(r.dc){for(const i of e){if(r.rc.has(i)){Pe("SyncEngine","Adding an already active target "+i);continue}const a=yield wT(r.localStore,i),c=yield Gh(r.localStore,a);yield t0(r,k(a),c.targetId,!1,c.resumeToken),Zh(r.remoteStore,c)}for(const i of t)r.rc.has(i)&&(yield Zp(r.localStore,i,!1).then(()=>{Kh(r.remoteStore,i),og(r,i)}).catch(mc))}}),Ve.apply(this,arguments)}function $e(n){const e=We(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=WC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=SM.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=o0.bind(null,e),e.sc.zo=VT.bind(null,e.eventManager),e.sc.wc=GC.bind(null,e.eventManager),e}function rt(n){const e=We(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=KC.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=HT.bind(null,e),e}class yt{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Ce.Z)(function*(){t.It=F_(e.databaseInfo.databaseId),t.sharedClientState=t.gc(e),t.persistence=t.yc(e),yield t.persistence.start(),t.localStore=t.Ic(e),t.gcScheduler=t.Tc(e,t.localStore),t.indexBackfillerScheduler=t.Ec(e,t.localStore)})()}Tc(e,t){return null}Ec(e,t){return null}Ic(e){return IC(this.persistence,new Rb,e.initialUser,this.It)}yc(e){return new Tb(Hh.Bs,this.It)}gc(e){return new RC}terminate(){var e=this;return(0,Ce.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Kt extends yt{constructor(e,t,r){super(),this.Ac=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,Ce.Z)(function*(){yield t().call(r,e),yield r.Ac.initialize(r,e),yield rt(r.Ac.syncEngine),yield zu(r.Ac.remoteStore),yield r.persistence.li(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}Ic(e){return IC(this.persistence,new Rb,e.initialUser,this.It)}Tc(e,t){return new yC(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}Ec(e,t){const r=new HI(t,this.persistence);return new dw(e.asyncQueue,r)}yc(e){const t=xb(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?ds.withCacheSize(this.cacheSizeBytes):ds.DEFAULT;return new Mb(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,OC(),Vb(),this.It,this.sharedClientState,!!this.forceOwnership)}gc(e){return new RC}}class vn extends Kt{constructor(e,t){super(e,t,!1),this.Ac=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,Ce.Z)(function*(){yield t().call(r,e);const i=r.Ac.syncEngine;r.sharedClientState instanceof N_&&(r.sharedClientState.syncEngine={Fr:h.bind(null,i),$r:z.bind(null,i),Br:ve.bind(null,i),vi:L.bind(null,i),Mr:l.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.li(function(){var a=(0,Ce.Z)(function*(c){yield function v(n,e){return w.apply(this,arguments)}(r.Ac.syncEngine,c),r.gcScheduler&&(c&&!r.gcScheduler.started?r.gcScheduler.start():c||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(c&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():c||r.indexBackfillerScheduler.stop())});return function(c){return a.apply(this,arguments)}}())})()}gc(e){const t=OC();if(!N_.C(t))throw new Oe(fe.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=xb(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new N_(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class zi{initialize(e,t){var r=this;return(0,Ce.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>s0(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=TM.bind(null,r.syncEngine),yield Kb(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new bM}createDatastore(e){const t=F_(e.databaseInfo.databaseId),r=new Lb(e.databaseInfo);return new _M(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,a=f=>s0(this.syncEngine,f,0),c=TT.C()?new TT:new kC,new Ko(t,r,i,a,c);var t,r,i,a,c}createSyncEngine(e,t){return function(r,i,a,c,f,_,E){const I=new CM(r,i,a,c,f,_);return E&&(I.dc=!0),I}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,Ce.Z)(function*(t){const r=We(t);Pe("RemoteStore","RemoteStore shutting down."),r.wu.add(5),yield Wh(r),r.gu.shutdown(),r.yu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function El(n,e,t){if(!t)throw new Oe(fe.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function Y_(n,e,t,r){if(!0===e&&!0===r)throw new Oe(fe.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Q_(n){if(!ze.isDocumentKey(n))throw new Oe(fe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function X_(n){if(ze.isDocumentKey(n))throw new Oe(fe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Jh(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":it()}function Yt(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Oe(fe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Jh(n);throw new Oe(fe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function J_(n,e){if(e<=0)throw new Oe(fe.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}const ey=new Map;class ty{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Oe(fe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Oe(fe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,Y_("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class qu{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ty({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Oe(fe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Oe(fe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ty(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new iw;switch(t.type){case"gapi":return new ow(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Oe(fe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=ey.get(e);t&&(Pe("ComponentProvider","Removing Datastore"),ey.delete(e),t.terminate())}(this),Promise.resolve()}}class Jn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new kc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Jn(this.firestore,e,this._key)}}class hs{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new hs(this.firestore,e,this._query)}}class kc extends hs{constructor(e,t,r){super(e,t,Ch(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Jn(this.firestore,null,new ze(e))}withConverter(e){return new kc(this.firestore,e,this._path)}}function MM(n,e,...t){if(n=(0,mn.m9)(n),El("collection","path",e),n instanceof qu){const r=cn.fromString(e,...t);return X_(r),new kc(n,null,r)}{if(!(n instanceof Jn||n instanceof kc))throw new Oe(fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(cn.fromString(e,...t));return X_(r),new kc(n.firestore,null,r)}}function tD(n,e,...t){if(n=(0,mn.m9)(n),1===arguments.length&&(e=kv.R()),El("doc","path",e),n instanceof qu){const r=cn.fromString(e,...t);return Q_(r),new Jn(n,null,new ze(r))}{if(!(n instanceof Jn||n instanceof kc))throw new Oe(fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(cn.fromString(e,...t));return Q_(r),new Jn(n.firestore,n instanceof kc?n.converter:null,new ze(r))}}function xM(n,e){return n=(0,mn.m9)(n),e=(0,mn.m9)(e),(n instanceof Jn||n instanceof kc)&&(e instanceof Jn||e instanceof kc)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function GT(n,e){return n=(0,mn.m9)(n),e=(0,mn.m9)(e),n instanceof hs&&e instanceof hs&&n.firestore===e.firestore&&Ap(n._query,e._query)&&n.converter===e.converter}function RM(n,e=10240){let t=0;return{read:()=>(0,Ce.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,Ce.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class nD{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):Yn("Uncaught Error in snapshot listener:",e)}bc(){this.muted=!0}Rc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class JO{constructor(e,t){this.Pc=e,this.It=t,this.metadata=new xr,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then(r=>{r&&r.Ou()?this.metadata.resolve(r.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==r?void 0:r.payload)}`))},r=>this.metadata.reject(r))}close(){return this.Pc.cancel()}getMetadata(){var e=this;return(0,Ce.Z)(function*(){return e.metadata.promise})()}mc(){var e=this;return(0,Ce.Z)(function*(){return yield e.getMetadata(),e.Vc()})()}Vc(){var e=this;return(0,Ce.Z)(function*(){const t=yield e.Sc();if(null===t)return null;const r=e.vc.decode(t),i=Number(r);isNaN(i)&&e.Dc(`length string (${r}) is not valid number`);const a=yield e.Cc(i);return new Jb(JSON.parse(a),t.length+i)})()}xc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Sc(){var e=this;return(0,Ce.Z)(function*(){for(;e.xc()<0&&!(yield e.Nc()););if(0===e.buffer.length)return null;const t=e.xc();t<0&&e.Dc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}Cc(e){var t=this;return(0,Ce.Z)(function*(){for(;t.buffer.length<e;)(yield t.Nc())&&t.Dc("Reached the end of bundle when more is expected.");const r=t.vc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Dc(e){throw this.Pc.cancel(),new Error(`Invalid bundle format: ${e}`)}Nc(){var e=this;return(0,Ce.Z)(function*(){const t=yield e.Pc.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class nP{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,Ce.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Oe(fe.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,Ce.Z)(function*(a,c){const f=We(a),_=Bp(f.It)+"/documents",E={documents:c.map(B=>Bu(f.It,B))},I=yield f._o("BatchGetDocuments",_,E,c.length),x=new Map;I.forEach(B=>{const j=function nT(n,e){return"found"in e?function(t,r){Tt(!!r.found);const i=Oa(t,r.found.name),a=wr(r.found.updateTime),c=new ti({mapValue:{fields:r.found.fields}});return An.newFoundDocument(i,a,c)}(n,e):"missing"in e?function(t,r){Tt(!!r.missing),Tt(!!r.readTime);const i=Oa(t,r.missing),a=wr(r.readTime);return An.newNoDocument(i,a)}(n,e):it()}(f.It,B);x.set(j.key.toString(),j)});const F=[];return c.forEach(B=>{const j=x.get(B.toString());Tt(!!j),F.push(j)}),F}),function(a,c){return i.apply(this,arguments)})(t.datastore,e);var i;return r.forEach(i=>t.recordVersion(i)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Ah(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Ce.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,i)=>{const a=ze.fromPath(i);e.mutations.push(new Jv(a,e.precondition(a)))}),yield(r=(0,Ce.Z)(function*(i,a){const c=We(i),f=Bp(c.It)+"/documents",_={writes:a.map(E=>p_(c.It,E))};yield c.ao("Commit",f,_)}),function(i,a){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw it();t=Mt.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Oe(fe.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Mt.min())?Xn.exists(!1):Xn.updateTime(t):Xn.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Mt.min()))throw new Oe(fe.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Xn.updateTime(t)}return Xn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class rP{constructor(e,t,r,i,a){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=a,this.kc=r.maxAttempts,this.No=new PC(this.asyncQueue,"transaction_retry")}run(){this.kc-=1,this.Oc()}Oc(){var e=this;this.No.Ro((0,Ce.Z)(function*(){const t=new nP(e.datastore),r=e.Mc(t);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(i)}).catch(a=>{e.Fc(a)}))}).catch(i=>{e.Fc(i)})}))}Mc(e){try{const t=this.updateFunction(e);return!vh(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Fc(e){this.kc>0&&this.$c(e)?(this.kc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Oc(),Promise.resolve()))):this.deferred.reject(e)}$c(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!Vw(t)}return!1}}class iP{constructor(e,t,r,i){var a=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Xr.UNAUTHENTICATED,this.clientId=kv.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var c=(0,Ce.Z)(function*(f){Pe("FirestoreClient","Received user=",f.uid),yield a.authCredentialListener(f),a.user=f});return function(f){return c.apply(this,arguments)}}()),this.appCheckCredentials.start(r,c=>(Pe("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}getConfiguration(){var e=this;return(0,Ce.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Oe(fe.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new xr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Ce.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=Yh(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function kM(n,e){return zT.apply(this,arguments)}function zT(){return zT=(0,Ce.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Pe("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,Ce.Z)(function*(a){r.isEqual(a)||(yield kb(e.localStore,a),r=a)});return function(a){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),zT.apply(this,arguments)}function OM(n,e){return qT.apply(this,arguments)}function qT(){return qT=(0,Ce.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield WT(n);Pe("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>Wb(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,a)=>Wb(e.remoteStore,a)),n.onlineComponents=e}),qT.apply(this,arguments)}function WT(n){return ZT.apply(this,arguments)}function ZT(){return ZT=(0,Ce.Z)(function*(n){return n.offlineComponents||(Pe("FirestoreClient","Using default OfflineComponentProvider"),yield kM(n,new yt)),n.offlineComponents}),ZT.apply(this,arguments)}function rD(n){return KT.apply(this,arguments)}function KT(){return KT=(0,Ce.Z)(function*(n){return n.onlineComponents||(Pe("FirestoreClient","Using default OnlineComponentProvider"),yield OM(n,new zi)),n.onlineComponents}),KT.apply(this,arguments)}function PM(n){return WT(n).then(e=>e.persistence)}function iD(n){return WT(n).then(e=>e.localStore)}function YT(n){return rD(n).then(e=>e.remoteStore)}function QT(n){return rD(n).then(e=>e.syncEngine)}function ny(n){return XT.apply(this,arguments)}function XT(){return XT=(0,Ce.Z)(function*(n){const e=yield rD(n),t=e.eventManager;return t.onListen=zC.bind(null,e.syncEngine),t.onUnlisten=jT.bind(null,e.syncEngine),t}),XT.apply(this,arguments)}function FM(n,e,t={}){const r=new xr;return n.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return function(i,a,c,f,_){const E=new nD({next:x=>{a.enqueueAndForget(()=>Xh(i,I));const F=x.docs.has(c);!F&&x.fromCache?_.reject(new Oe(fe.UNAVAILABLE,"Failed to get document because the client is offline.")):F&&x.fromCache&&f&&"server"===f.source?_.reject(new Oe(fe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(x)},error:x=>_.reject(x)}),I=new G_(Ch(c.path),E,{includeMetadataChanges:!0,ku:!0});return $C(i,I)}(yield ny(n),n.asyncQueue,e,t,r)})),r.promise}function LM(n,e,t={}){const r=new xr;return n.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return function(i,a,c,f,_){const E=new nD({next:x=>{a.enqueueAndForget(()=>Xh(i,I)),x.fromCache&&"server"===f.source?_.reject(new Oe(fe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(x)},error:x=>_.reject(x)}),I=new G_(c,E,{includeMetadataChanges:!0,ku:!0});return $C(i,I)}(yield ny(n),n.asyncQueue,e,t,r)})),r.promise}class hP{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.Uc=!1,this.qc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.No=new PC(this,"async_queue_retry"),this.Wc=()=>{const t=Vb();t&&Pe("AsyncQueue","Visibility state changed to "+t.visibilityState),this.No.Po()};const e=Vb();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.Uc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.Uc){this.Uc=!0,this.Qc=e||!1;const t=Vb();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.Uc)return new Promise(()=>{});const t=new xr;return this.Hc(()=>this.Uc&&this.Qc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}Jc(){var e=this;return(0,Ce.Z)(function*(){if(0!==e.Lc.length){try{yield e.Lc[0](),e.Lc.shift(),e.No.reset()}catch(t){if(!ul(t))throw t;Pe("AsyncQueue","Operation failed with retryable error: "+t)}e.Lc.length>0&&e.No.Ro(()=>e.Jc())}})()}Hc(e){const t=this.Bc.then(()=>(this.Gc=!0,e().catch(r=>{throw this.Kc=r,this.Gc=!1,Yn("INTERNAL UNHANDLED ERROR: ",function(a){let c=a.message||"";return a.stack&&(c=a.stack.includes(a.message)?a.stack:a.message+"\n"+a.stack),c}(r)),r}).then(r=>(this.Gc=!1,r))));return this.Bc=t,t}enqueueAfterDelay(e,t,r){this.zc(),this.jc.indexOf(e)>-1&&(t=0);const i=Yb.createAndSchedule(this,e,t,r,a=>this.Yc(a));return this.qc.push(i),i}zc(){this.Kc&&it()}verifyOperationInProgress(){}Xc(){var e=this;return(0,Ce.Z)(function*(){let t;do{t=e.Bc,yield t}while(t!==e.Bc)})()}Zc(e){for(const t of this.qc)if(t.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.qc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.qc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const t=this.qc.indexOf(e);this.qc.splice(t,1)}}function JT(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class fP{constructor(){this._progressObserver={},this._taskCompletionResolver=new xr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class er extends qu{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new hP,this._persistenceKey=(null==i?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||VM(this),this._firestoreClient.terminate()}}function kr(n){return n._firestoreClient||VM(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function VM(n){var e;const t=n._freezeSettings(),r=(a=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new pw(n._databaseId,a,n._persistenceKey,(f=t).host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,f.useFetchStreams));var a,f;n._firestoreClient=new iP(n._authCredentials,n._appCheckCredentials,n._queue,r)}function BM(n,e,t){const r=new xr;return n.asyncQueue.enqueue((0,Ce.Z)(function*(){try{yield kM(n,t),yield OM(n,e),r.resolve()}catch(i){const a=i;if(!("FirebaseError"===(c=a).name?c.code===fe.FAILED_PRECONDITION||c.code===fe.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&c instanceof DOMException)||22===c.code||20===c.code||11===c.code))throw a;cl("Error enabling offline persistence. Falling back to persistence disabled: "+a),r.reject(a)}var c})).then(()=>r.promise)}function UM(n){if(n._initialized||n._terminated)throw new Oe(fe.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Oc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Oc(br.fromBase64String(e))}catch(t){throw new Oe(fe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Oc(br.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Wu{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Oe(fe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ar(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class ag{constructor(e){this._methodName=e}}class sD{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Oe(fe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Oe(fe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Vt(this._lat,e._lat)||Vt(this._long,e._long)}}const CP=/^__.*__$/;class DP{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new fl(e,this.data,this.fieldMask,t,this.fieldTransforms):new Sh(e,this.data,t,this.fieldTransforms)}}class jM{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new fl(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function HM(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw it()}}class oD{constructor(e,t,r,i,a,c){this.settings=e,this.databaseId=t,this.It=r,this.ignoreUndefinedProperties=i,void 0===a&&this.na(),this.fieldTransforms=a||[],this.fieldMask=c||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new oD(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.ia({path:r,oa:!1});return i.ua(e),i}ca(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.ia({path:r,oa:!1});return i.na(),i}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return cD(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(HM(this.sa)&&CP.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class IP{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.It=r||F_(e)}da(e,t,r,i=!1){return new oD({sa:e,methodName:t,fa:r,path:ar.emptyPath(),oa:!1,la:i},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function lg(n){const e=n._freezeSettings(),t=F_(n._databaseId);return new IP(n._databaseId,!!e.ignoreUndefinedProperties,t)}function aD(n,e,t,r,i,a={}){const c=n.da(a.merge||a.mergeFields?2:0,e,t,i);rS("Data must be an object, but it was:",c,r);const f=zM(r,c);let _,E;if(a.merge)_=new Si(c.fieldMask),E=c.fieldTransforms;else if(a.mergeFields){const I=[];for(const x of a.mergeFields){const F=iS(e,x,t);if(!c.contains(F))throw new Oe(fe.INVALID_ARGUMENT,`Field '${F}' is specified in your field mask but missing from your input data.`);WM(I,F)||I.push(F)}_=new Si(I),E=c.fieldTransforms.filter(x=>_.covers(x.field))}else _=null,E=c.fieldTransforms;return new DP(new ti(f),_,E)}class u0 extends ag{_toFieldTransform(e){if(2!==e.sa)throw e.ha(1===e.sa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof u0}}function $M(n,e,t){return new oD({sa:3,fa:e.settings.fa,methodName:n._methodName,oa:t},e.databaseId,e.It,e.ignoreUndefinedProperties)}class eS extends ag{_toFieldTransform(e){return new c_(e.path,new Ih)}isEqual(e){return e instanceof eS}}class TP extends ag{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=$M(this,e,!0),r=this._a.map(a=>cg(a,t)),i=new wc(r);return new c_(e.path,i)}isEqual(e){return this===e}}class SP extends ag{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=$M(this,e,!0),r=this._a.map(a=>cg(a,t)),i=new Cc(r);return new c_(e.path,i)}isEqual(e){return this===e}}class AP extends ag{constructor(e,t){super(e),this.wa=t}_toFieldTransform(e){const t=new Lu(e.It,Mw(e.It,this.wa));return new c_(e.path,t)}isEqual(e){return this===e}}function tS(n,e,t,r){const i=n.da(1,e,t);rS("Data must be an object, but it was:",i,r);const a=[],c=ti.empty();Ru(r,(_,E)=>{const I=lD(e,_,t);E=(0,mn.m9)(E);const x=i.ca(I);if(E instanceof u0)a.push(I);else{const F=cg(E,x);null!=F&&(a.push(I),c.set(I,F))}});const f=new Si(a);return new jM(c,f,i.fieldTransforms)}function nS(n,e,t,r,i,a){const c=n.da(1,e,t),f=[iS(e,r,t)],_=[i];if(a.length%2!=0)throw new Oe(fe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let F=0;F<a.length;F+=2)f.push(iS(e,a[F])),_.push(a[F+1]);const E=[],I=ti.empty();for(let F=f.length-1;F>=0;--F)if(!WM(E,f[F])){const B=f[F];let j=_[F];j=(0,mn.m9)(j);const le=c.ca(B);if(j instanceof u0)E.push(B);else{const Te=cg(j,le);null!=Te&&(E.push(B),I.set(B,Te))}}const x=new Si(E);return new jM(I,x,c.fieldTransforms)}function GM(n,e,t,r=!1){return cg(t,n.da(r?4:3,e))}function cg(n,e){if(qM(n=(0,mn.m9)(n)))return rS("Unsupported field value:",e,n),zM(n,e);if(n instanceof ag)return function(t,r){if(!HM(r.sa))throw r.ha(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ha(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.oa&&4!==e.sa)throw e.ha("Nested arrays are not supported");return function(t,r){const i=[];let a=0;for(const c of t){let f=cg(c,r.aa(a));null==f&&(f={nullValue:"NULL_VALUE"}),i.push(f),a++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=(0,mn.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Mw(r.It,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=Nn.fromDate(t);return{timestampValue:Lp(r.It,i)}}if(t instanceof Nn){const i=new Nn(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Lp(r.It,i)}}if(t instanceof sD)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Oc)return{bytesValue:qw(r.It,t._byteString)};if(t instanceof Jn){const i=r.databaseId,a=t.firestore._databaseId;if(!a.isEqual(i))throw r.ha(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Vp(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.ha(`Unsupported field value: ${Jh(t)}`)}(n,e)}function zM(n,e){const t={};return Qm(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ru(n,(r,i)=>{const a=cg(i,e.ra(r));null!=a&&(t[r]=a)}),{mapValue:{fields:t}}}function qM(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Nn||n instanceof sD||n instanceof Oc||n instanceof Jn||n instanceof ag)}function rS(n,e,t){if(!qM(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=Jh(t);throw e.ha("an object"===r?n+" a custom object":n+" "+r)}var r}function iS(n,e,t){if((e=(0,mn.m9)(e))instanceof Wu)return e._internalPath;if("string"==typeof e)return lD(n,e);throw cD("Field path arguments must be of type string or ",n,!1,void 0,t)}const MP=new RegExp("[~\\*/\\[\\]]");function lD(n,e,t){if(e.search(MP)>=0)throw cD(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Wu(...e.split("."))._internalPath}catch(r){throw cD(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function cD(n,e,t,r,i){const a=r&&!r.isEmpty(),c=void 0!==i;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let _="";return(a||c)&&(_+=" (found",a&&(_+=` in field ${r}`),c&&(_+=` in document ${i}`),_+=")"),new Oe(fe.INVALID_ARGUMENT,f+n+_)}function WM(n,e){return n.some(t=>t.isEqual(e))}class d0{constructor(e,t,r,i,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Jn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new xP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(uD("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class xP extends d0{data(){return super.data()}}function uD(n,e){return"string"==typeof e?lD(n,e):e instanceof Wu?e._internalPath:e._delegate._internalPath}function ZM(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Oe(fe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class h0{}function ef(n,...e){for(const t of e)n=t._apply(n);return n}class RP extends h0{constructor(e,t,r){super(),this.ma=e,this.ga=t,this.ya=r,this.type="where"}_apply(e){const t=lg(e.firestore),r=function(i,a,c,f,_,E,I){let x;if(_.isKeyField()){if("array-contains"===E||"array-contains-any"===E)throw new Oe(fe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if("in"===E||"not-in"===E){ex(I,E);const B=[];for(const j of I)B.push(JM(f,i,j));x={arrayValue:{values:B}}}else x=JM(f,i,I)}else"in"!==E&&"not-in"!==E&&"array-contains-any"!==E||ex(I,E),x=GM(c,"where",I,"in"===E||"not-in"===E);const F=Rr.create(_,E,x);return function(B,j){if(j.dt()){const Te=o_(B);if(null!==Te&&!Te.isEqual(j.field))throw new Oe(fe.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Te.toString()}' and '${j.field.toString()}'`);const qe=s_(B);null!==qe&&tx(0,j.field,qe)}const le=function(Te,qe){for(const st of Te.filters)if(qe.indexOf(st.op)>=0)return st.op;return null}(B,function(Te){switch(Te){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(j.op));if(null!==le)throw new Oe(fe.INVALID_ARGUMENT,le===j.op?`Invalid query. You cannot use more than one '${j.op.toString()}' filter.`:`Invalid query. You cannot use '${j.op.toString()}' filters with '${le.toString()}' filters.`)}(i,F),F}(e._query,0,t,e.firestore._databaseId,this.ma,this.ga,this.ya);return new hs(e.firestore,e.converter,function(i,a){const c=i.filters.concat([a]);return new bc(i.path,i.collectionGroup,i.explicitOrderBy.slice(),c,i.limit,i.limitType,i.startAt,i.endAt)}(e._query,r))}}class OP extends h0{constructor(e,t){super(),this.ma=e,this.pa=t,this.type="orderBy"}_apply(e){const t=function(r,i,a){if(null!==r.startAt)throw new Oe(fe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Oe(fe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const c=new wh(i,a);return function(f,_){if(null===s_(f)){const E=o_(f);null!==E&&tx(0,E,_.field)}}(r,c),c}(e._query,this.ma,this.pa);return new hs(e.firestore,e.converter,function(r,i){const a=r.explicitOrderBy.concat([i]);return new bc(r.path,r.collectionGroup,a,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class KM extends h0{constructor(e,t,r){super(),this.type=e,this.Ia=t,this.Ta=r}_apply(e){return new hs(e.firestore,e.converter,l_(e._query,this.Ia,this.Ta))}}class YM extends h0{constructor(e,t,r){super(),this.type=e,this.Ea=t,this.Aa=r}_apply(e){const t=XM(e,this.type,this.Ea,this.Aa);return new hs(e.firestore,e.converter,(i=t,new bc((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)));var r,i}}class QM extends h0{constructor(e,t,r){super(),this.type=e,this.Ea=t,this.Aa=r}_apply(e){const t=XM(e,this.type,this.Ea,this.Aa);return new hs(e.firestore,e.converter,(i=t,new bc((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)));var r,i}}function XM(n,e,t,r){if(t[0]=(0,mn.m9)(t[0]),t[0]instanceof d0)return function(i,a,c,f,_){if(!f)throw new Oe(fe.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${c}().`);const E=[];for(const I of Fu(i))if(I.field.isKeyField())E.push(Pu(a,f.key));else{const x=f.data.field(I.field);if(Jm(x))throw new Oe(fe.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+I.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===x){const F=I.field.canonicalString();throw new Oe(fe.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${F}' (used as the orderBy) does not exist.`)}E.push(x)}return new qo(E,_)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=lg(n.firestore);return function(a,c,f,_,E,I){const x=a.explicitOrderBy;if(E.length>x.length)throw new Oe(fe.INVALID_ARGUMENT,`Too many arguments provided to ${_}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const F=[];for(let B=0;B<E.length;B++){const j=E[B];if(x[B].field.isKeyField()){if("string"!=typeof j)throw new Oe(fe.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${_}(), but got a ${typeof j}`);if(!a_(a)&&-1!==j.indexOf("/"))throw new Oe(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${_}() must be a plain document ID, but '${j}' contains a slash.`);const le=a.path.child(cn.fromString(j));if(!ze.isDocumentKey(le))throw new Oe(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${_}() must result in a valid document path, but '${le}' is not because it contains an odd number of segments.`);const Te=new ze(le);F.push(Pu(c,Te))}else{const le=GM(f,_,j);F.push(le)}}return new qo(F,I)}(n._query,n.firestore._databaseId,i,e,t,r)}}function JM(n,e,t){if("string"==typeof(t=(0,mn.m9)(t))){if(""===t)throw new Oe(fe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!a_(e)&&-1!==t.indexOf("/"))throw new Oe(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(cn.fromString(t));if(!ze.isDocumentKey(r))throw new Oe(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Pu(n,new ze(r))}if(t instanceof Jn)return Pu(n,t._key);throw new Oe(fe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Jh(t)}.`)}function ex(n,e){if(!Array.isArray(n)||0===n.length)throw new Oe(fe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new Oe(fe.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function tx(n,e,t){if(!t.isEqual(e))throw new Oe(fe.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class sS{convertValue(e,t="none"){switch(Ou(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Fn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(_c(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw it()}}convertObject(e,t){const r={};return Ru(e.fields,(i,a)=>{r[i]=this.convertValue(a,t)}),r}convertGeoPoint(e){return new sD(Fn(e.latitude),Fn(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Bv(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(yh(e));default:return null}}convertTimestamp(e){const t=Ra(e);return new Nn(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=cn.fromString(e);Tt(m_(r));const i=new dl(r.get(1),r.get(3)),a=new ze(r.popFirst(5));return i.isEqual(t)||Yn(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}function dD(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class jP extends sS{constructor(e){super(),this.firestore=e}convertBytes(e){return new Oc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Jn(this.firestore,null,t)}}class ug{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Zu extends d0{constructor(e,t,r,i,a,c){super(e,t,r,i,c),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new f0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(uD("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class f0 extends Zu{data(e={}){return super.data(e)}}class tf{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new ug(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new f0(this._firestore,this._userDataWriter,r.key,r,new ug(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Oe(fe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let a=0;return r._snapshot.docChanges.map(c=>({type:"added",doc:new f0(r._firestore,r._userDataWriter,c.doc.key,c.doc,new ug(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:a++}))}{let a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(c=>i||3!==c.type).map(c=>{const f=new f0(r._firestore,r._userDataWriter,c.doc.key,c.doc,new ug(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter);let _=-1,E=-1;return 0!==c.type&&(_=a.indexOf(c.doc.key),a=a.delete(c.doc.key)),1!==c.type&&(a=a.add(c.doc),E=a.indexOf(c.doc.key)),{type:HP(c.type),doc:f,oldIndex:_,newIndex:E}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function HP(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return it()}}function nx(n,e){return n instanceof Zu&&e instanceof Zu?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof tf&&e instanceof tf&&n._firestore===e._firestore&&GT(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class nf extends sS{constructor(e){super(),this.firestore=e}convertBytes(e){return new Oc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Jn(this.firestore,null,t)}}function rx(n,e,t){n=Yt(n,Jn);const r=Yt(n.firestore,er),i=dD(n.converter,e,t);return ry(r,[aD(lg(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,Xn.none())])}function ix(n,e,t,...r){n=Yt(n,Jn);const i=Yt(n.firestore,er),a=lg(i);let c;return c="string"==typeof(e=(0,mn.m9)(e))||e instanceof Wu?nS(a,"updateDoc",n._key,e,t,r):tS(a,"updateDoc",n._key,e),ry(i,[c.toMutation(n._key,Xn.exists(!0))])}function sx(n,...e){var t,r,i;n=(0,mn.m9)(n);let a={includeMetadataChanges:!1},c=0;"object"!=typeof e[c]||JT(e[c])||(a=e[c],c++);const f={includeMetadataChanges:a.includeMetadataChanges};if(JT(e[c])){const x=e[c];e[c]=null===(t=x.next)||void 0===t?void 0:t.bind(x),e[c+1]=null===(r=x.error)||void 0===r?void 0:r.bind(x),e[c+2]=null===(i=x.complete)||void 0===i?void 0:i.bind(x)}let _,E,I;if(n instanceof Jn)E=Yt(n.firestore,er),I=Ch(n._key.path),_={next:x=>{e[c]&&e[c](oS(E,n,x))},error:e[c+1],complete:e[c+2]};else{const x=Yt(n,hs);E=Yt(x.firestore,er),I=x._query;const F=new nf(E);_={next:B=>{e[c]&&e[c](new tf(E,F,x,B))},error:e[c+1],complete:e[c+2]},ZM(n._query)}return function(x,F,B,j){const le=new nD(j),Te=new G_(F,le,B);return x.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return $C(yield ny(x),Te)})),()=>{le.bc(),x.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return Xh(yield ny(x),Te)}))}}(kr(E),I,f,_)}function ry(n,e){return function(t,r){const i=new xr;return t.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return function qC(n,e,t){return K_.apply(this,arguments)}(yield QT(t),r,i)})),i.promise}(kr(n),e)}function oS(n,e,t){const r=t.docs.get(e._key),i=new nf(n);return new Zu(n,i,e._key,r,new ug(t.hasPendingWrites,t.fromCache),e.converter)}const XP={maxAttempts:5};class ox{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=lg(e)}set(e,t,r){this._verifyNotCommitted();const i=rf(e,this._firestore),a=dD(i.converter,t,r),c=aD(this._dataReader,"WriteBatch.set",i._key,a,null!==i.converter,r);return this._mutations.push(c.toMutation(i._key,Xn.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const a=rf(e,this._firestore);let c;return c="string"==typeof(t=(0,mn.m9)(t))||t instanceof Wu?nS(this._dataReader,"WriteBatch.update",a._key,t,r,i):tS(this._dataReader,"WriteBatch.update",a._key,t),this._mutations.push(c.toMutation(a._key,Xn.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=rf(e,this._firestore);return this._mutations=this._mutations.concat(new Ah(t._key,Xn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Oe(fe.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function rf(n,e){if((n=(0,mn.m9)(n)).firestore!==e)throw new Oe(fe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class JP extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=lg(e)}get(e){const t=rf(e,this._firestore),r=new jP(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||1!==i.length)return it();const a=i[0];if(a.isFoundDocument())return new d0(this._firestore,r,a.key,a,t.converter);if(a.isNoDocument())return new d0(this._firestore,r,t._key,null,t.converter);throw it()})}set(e,t,r){const i=rf(e,this._firestore),a=dD(i.converter,t,r),c=aD(this._dataReader,"Transaction.set",i._key,a,null!==i.converter,r);return this._transaction.set(i._key,c),this}update(e,t,r,...i){const a=rf(e,this._firestore);let c;return c="string"==typeof(t=(0,mn.m9)(t))||t instanceof Wu?nS(this._dataReader,"Transaction.update",a._key,t,r,i):tS(this._dataReader,"Transaction.update",a._key,t),this._transaction.update(a._key,c),this}delete(e){const t=rf(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=rf(e,this._firestore),r=new nf(this._firestore);return super.get(e).then(i=>new Zu(this._firestore,r,t._key,i._document,new ug(!1,!1),t.converter))}}function aS(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Oe("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function lx(){if("undefined"==typeof Uint8Array)throw new Oe("unimplemented","Uint8Arrays are not available in this environment.")}function cx(){if(!function $I(){return"undefined"!=typeof atob}())throw new Oe("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){ll=Kd.SDK_VERSION,(0,Kd._registerComponent)(new qy.wA("firestore",(t,{instanceIdentifier:r,options:i})=>{const a=t.getProvider("app").getImmediate(),c=new er(new sw(t.getProvider("auth-internal")),new Rv(t.getProvider("app-check-internal")),function(f,_){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new Oe(fe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new dl(f.options.projectId,_)}(a,r),a);return i=Object.assign({useFetchStreams:e},i),c._setSettings(i),c},"PUBLIC").setMultipleInstances(!0)),(0,Kd.registerVersion)(zm,"3.7.1",n),(0,Kd.registerVersion)(zm,"3.7.1","esm2017")}();class p0{constructor(e){this._delegate=e}static fromBase64String(e){return cx(),new p0(Oc.fromBase64String(e))}static fromUint8Array(e){return lx(),new p0(Oc.fromUint8Array(e))}toBase64(){return cx(),this._delegate.toBase64()}toUint8Array(){return lx(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function lS(n){return function c1(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class u1{enableIndexedDbPersistence(e,t){return function gP(n,e){UM(n=Yt(n,er));const t=kr(n),r=n._freezeSettings(),i=new zi;return BM(t,i,new Kt(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function mP(n){UM(n=Yt(n,er));const e=kr(n),t=n._freezeSettings(),r=new zi;return BM(e,r,new vn(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function _P(n){if(n._initialized&&!n._terminated)throw new Oe(fe.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new xr;return n._queue.enqueueAndForgetEvenWhileRestricted((0,Ce.Z)(function*(){try{yield(t=(0,Ce.Z)(function*(r){if(!Ps.C())return Promise.resolve();const i=r+"main";yield Ps.delete(i)}),function(r){return t.apply(this,arguments)})(xb(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class ux{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof dl||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&cl("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function AM(n,e,t,r={}){var i;const a=(n=Yt(n,qu))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==e&&cl("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},a),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let c,f;if("string"==typeof r.mockUserToken)c=r.mockUserToken,f=Xr.MOCK_USER;else{c=(0,mn.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const _=r.mockUserToken.sub||r.mockUserToken.user_id;if(!_)throw new Oe(fe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Xr(_)}n._authCredentials=new Mv(new Av(c,f))}}(this._delegate,e,t,r)}enableNetwork(){return function vP(n){return function sP(n){return n.asyncQueue.enqueue((0,Ce.Z)(function*(){const e=yield PM(n),t=yield YT(n);return e.setNetworkEnabled(!0),function(r){const i=We(r);return i.wu.delete(0),Jp(i)}(t)}))}(kr(n=Yt(n,er)))}(this._delegate)}disableNetwork(){return function bP(n){return function oP(n){return n.asyncQueue.enqueue((0,Ce.Z)(function*(){const e=yield PM(n),t=yield YT(n);return e.setNetworkEnabled(!1),(r=(0,Ce.Z)(function*(i){const a=We(i);a.wu.add(0),yield Wh(a),a.yu.set("Offline")}),function(i){return r.apply(this,arguments)})(t);var r}))}(kr(n=Yt(n,er)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,Y_("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function yP(n){return function(e){const t=new xr;return e.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return function DM(n,e){return YC.apply(this,arguments)}(yield QT(e),t)})),t.promise}(kr(n=Yt(n,er)))}(this._delegate)}onSnapshotsInSync(e){return function QP(n,e){return function cP(n,e){const t=new nD(e);return n.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return r=yield ny(n),i=t,We(r).bu.add(i),void i.next();var r,i})),()=>{t.bc(),n.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return r=yield ny(n),i=t,void We(r).bu.delete(i);var r,i}))}}(kr(n=Yt(n,er)),JT(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Oe("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new iy(this,MM(this._delegate,e))}catch(t){throw Fs(t,"collection()","Firestore.collection()")}}doc(e){try{return new Na(this,tD(this._delegate,e))}catch(t){throw Fs(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Ls(this,function XO(n,e){if(n=Yt(n,qu),El("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Oe(fe.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new hs(n,null,(t=e,new bc(cn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Fs(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function e1(n,e,t){n=Yt(n,er);const r=Object.assign(Object.assign({},XP),t);return function(i){if(i.maxAttempts<1)throw new Oe(fe.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(i,a,c){const f=new xr;return i.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){const _=yield function NM(n){return rD(n).then(e=>e.datastore)}(i);new rP(i.asyncQueue,_,c,a,f).run()})),f.promise}(kr(n),i=>e(new JP(n,i)),r)}(this._delegate,t=>e(new dx(this,t)))}batch(){return kr(this._delegate),new hx(new ox(this._delegate,e=>ry(this._delegate,e)))}loadBundle(e){return function EP(n,e){const t=kr(n=Yt(n,er)),r=new fP;return function uP(n,e,t,r){const i=function(a,c){let f;return f="string"==typeof a?(new TextEncoder).encode(a):a,_=function(_,E){if(_ instanceof Uint8Array)return RM(_,E);if(_ instanceof ArrayBuffer)return RM(new Uint8Array(_),E);if(_ instanceof ReadableStream)return _.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(f),new JO(_,c);var _}(t,F_(e));n.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){!function Re(n,e,t){const r=We(n);var i;(i=(0,Ce.Z)(function*(a,c,f){try{const _=yield c.getMetadata();if(yield function(F,B){const j=We(F),le=wr(B.createTime);return j.persistence.runTransaction("hasNewerBundle","readonly",Te=>j.Ns.getBundleMetadata(Te,B.id)).then(Te=>!!Te&&Te.createTime.compareTo(le)>=0)}(a.localStore,_))return yield c.close(),f._completeWith({taskState:"Success",documentsLoaded:(F=_).totalDocuments,bytesLoaded:F.totalBytes,totalDocuments:F.totalDocuments,totalBytes:F.totalBytes}),Promise.resolve(new Set);f._updateProgress(q_(_));const E=new BT(_,a.localStore,c.It);let I=yield c.mc();for(;I;){const F=yield E.Fu(I);F&&f._updateProgress(F),I=yield c.mc()}const x=yield E.complete();return yield bl(a,x.Lu,void 0),yield function(F,B){const j=We(F);return j.persistence.runTransaction("Save bundle","readwrite",le=>j.Ns.saveBundleMetadata(le,B))}(a.localStore,_),f._completeWith(x.progress),Promise.resolve(x.Bu)}catch(_){return cl("SyncEngine",`Loading bundle failed with ${_}`),f._failWith(_),Promise.resolve(new Set)}var F}),function(a,c,f){return i.apply(this,arguments)})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield QT(n),i,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function wP(n,e){return function dP(n,e){return n.asyncQueue.enqueue((0,Ce.Z)(function*(){return function(t,r){const i=We(t);return i.persistence.runTransaction("Get named query","readonly",a=>i.Ns.getNamedQuery(a,r))}(yield iD(n),e)}))}(kr(n=Yt(n,er)),e).then(t=>t?new hs(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Ls(this,t):null)}}class hD extends sS{constructor(e){super(),this.firestore=e}convertBytes(e){return new p0(new Oc(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Na.forKey(t,this.firestore,null)}}class dx{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new hD(e)}get(e){const t=hg(e);return this._delegate.get(t).then(r=>new g0(this._firestore,new Zu(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=hg(e);return r?(aS("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const a=hg(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,r,...i),this}delete(e){const t=hg(e);return this._delegate.delete(t),this}}class hx{constructor(e){this._delegate=e}set(e,t,r){const i=hg(e);return r?(aS("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const a=hg(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,r,...i),this}delete(e){const t=hg(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class dg{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new f0(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new m0(this._firestore,r),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=dg.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let a=i.get(t);return a||(a=new dg(e,new hD(e),t),i.set(t,a)),a}}dg.INSTANCES=new WeakMap;class Na{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new hD(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Oe("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Na(t,new Jn(t._delegate,r,new ze(e)))}static forKey(e,t,r){return new Na(t,new Jn(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new iy(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new iy(this.firestore,MM(this._delegate,e))}catch(t){throw Fs(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,mn.m9)(e))instanceof Jn&&xM(this._delegate,e)}set(e,t){t=aS("DocumentReference.set",t);try{return t?rx(this._delegate,e,t):rx(this._delegate,e)}catch(r){throw Fs(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?ix(this._delegate,e):ix(this._delegate,e,t,...r)}catch(i){throw Fs(i,"updateDoc()","DocumentReference.update()")}}delete(){return function KP(n){return ry(Yt(n.firestore,er),[new Ah(n._key,Xn.none())])}(this._delegate)}onSnapshot(...e){const t=fx(e),r=px(e,i=>new g0(this.firestore,new Zu(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return sx(this._delegate,t,r)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function GP(n){n=Yt(n,Jn);const e=Yt(n.firestore,er),t=kr(e),r=new nf(e);return function aP(n,e){const t=new xr;return n.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return(r=(0,Ce.Z)(function*(i,a,c){try{const f=yield function(_,E){const I=We(_);return I.persistence.runTransaction("read document","readonly",x=>I.localDocuments.getDocument(x,E))}(i,a);f.isFoundDocument()?c.resolve(f):f.isNoDocument()?c.resolve(null):c.reject(new Oe(fe.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(f){const _=Yh(f,`Failed to get document '${a} from cache`);c.reject(_)}}),function(i,a,c){return r.apply(this,arguments)})(yield iD(n),e,t);var r})),t.promise}(t,n._key).then(i=>new Zu(e,r,n._key,i,new ug(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function zP(n){n=Yt(n,Jn);const e=Yt(n.firestore,er);return FM(kr(e),n._key,{source:"server"}).then(t=>oS(e,n,t))}(this._delegate):function $P(n){n=Yt(n,Jn);const e=Yt(n.firestore,er);return FM(kr(e),n._key).then(t=>oS(e,n,t))}(this._delegate),t.then(r=>new g0(this.firestore,new Zu(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Na(this.firestore,this._delegate.withConverter(e?dg.getInstance(this.firestore,e):null))}}function Fs(n,e,t){return n.message=n.message.replace(e,t),n}function fx(n){for(const e of n)if("object"==typeof e&&!lS(e))return e;return{}}function px(n,e){var t,r;let i;return i=lS(n[0])?n[0]:lS(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:a=>{i.next&&i.next(e(a))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class g0{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Na(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return nx(this._delegate,e._delegate)}}class m0 extends g0{data(e){const t=this._delegate.data(e);return function rw(n,e){n||it()}(void 0!==t),t}}class Ls{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new hD(e)}where(e,t,r){try{return new Ls(this.firestore,ef(this._delegate,function kP(n,e,t){const r=e,i=uD("where",n);return new RP(i,r,t)}(e,t,r)))}catch(i){throw Fs(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Ls(this.firestore,ef(this._delegate,function PP(n,e="asc"){const t=e,r=uD("orderBy",n);return new OP(r,t)}(e,t)))}catch(r){throw Fs(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Ls(this.firestore,ef(this._delegate,function NP(n){return J_("limit",n),new KM("limit",n,"F")}(e)))}catch(t){throw Fs(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Ls(this.firestore,ef(this._delegate,function FP(n){return J_("limitToLast",n),new KM("limitToLast",n,"L")}(e)))}catch(t){throw Fs(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Ls(this.firestore,ef(this._delegate,function LP(...n){return new YM("startAt",n,!0)}(...e)))}catch(t){throw Fs(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Ls(this.firestore,ef(this._delegate,function VP(...n){return new YM("startAfter",n,!1)}(...e)))}catch(t){throw Fs(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Ls(this.firestore,ef(this._delegate,function BP(...n){return new QM("endBefore",n,!1)}(...e)))}catch(t){throw Fs(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Ls(this.firestore,ef(this._delegate,function UP(...n){return new QM("endAt",n,!0)}(...e)))}catch(t){throw Fs(t,"endAt()","Query.endAt()")}}isEqual(e){return GT(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function WP(n){n=Yt(n,hs);const e=Yt(n.firestore,er),t=kr(e),r=new nf(e);return function lP(n,e){const t=new xr;return n.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return(r=(0,Ce.Z)(function*(i,a,c){try{const f=yield Fb(i,a,!0),_=new UT(a,f.Hi),E=_.Wu(f.documents),I=_.applyChanges(E,!1);c.resolve(I.snapshot)}catch(f){const _=Yh(f,`Failed to execute query '${a} against cache`);c.reject(_)}}),function(i,a,c){return r.apply(this,arguments)})(yield iD(n),e,t);var r})),t.promise}(t,n._query).then(i=>new tf(e,r,n,i))}(this._delegate):"server"===(null==e?void 0:e.source)?function ZP(n){n=Yt(n,hs);const e=Yt(n.firestore,er),t=kr(e),r=new nf(e);return LM(t,n._query,{source:"server"}).then(i=>new tf(e,r,n,i))}(this._delegate):function qP(n){n=Yt(n,hs);const e=Yt(n.firestore,er),t=kr(e),r=new nf(e);return ZM(n._query),LM(t,n._query).then(i=>new tf(e,r,n,i))}(this._delegate),t.then(r=>new cS(this.firestore,new tf(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=fx(e),r=px(e,i=>new cS(this.firestore,new tf(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return sx(this._delegate,t,r)}withConverter(e){return new Ls(this.firestore,this._delegate.withConverter(e?dg.getInstance(this.firestore,e):null))}}class h1{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new m0(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class cS{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Ls(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new m0(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new h1(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new m0(this._firestore,r))})}isEqual(e){return nx(this._delegate,e._delegate)}}class iy extends Ls{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Na(this.firestore,e):null}doc(e){try{return new Na(this.firestore,void 0===e?tD(this._delegate):tD(this._delegate,e))}catch(t){throw Fs(t,"doc()","CollectionReference.doc()")}}add(e){return function YP(n,e){const t=Yt(n.firestore,er),r=tD(n),i=dD(n.converter,e);return ry(t,[aD(lg(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,Xn.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new Na(this.firestore,t))}isEqual(e){return xM(this._delegate,e._delegate)}withConverter(e){return new iy(this.firestore,this._delegate.withConverter(e?dg.getInstance(this.firestore,e):null))}}function hg(n){return Yt(n,Jn)}class uS{constructor(...e){this._delegate=new Wu(...e)}static documentId(){return new uS(ar.keyField().canonicalString())}isEqual(e){return(e=(0,mn.m9)(e))instanceof Wu&&this._delegate._internalPath.isEqual(e._internalPath)}}class fg{constructor(e){this._delegate=e}static serverTimestamp(){const e=function n1(){return new eS("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new fg(e)}static delete(){const e=function t1(){return new u0("deleteField")}();return e._methodName="FieldValue.delete",new fg(e)}static arrayUnion(...e){const t=function r1(...n){return new TP("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new fg(t)}static arrayRemove(...e){const t=function s1(...n){return new SP("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new fg(t)}static increment(e){const t=function o1(n){return new AP("increment",n)}(e);return t._methodName="FieldValue.increment",new fg(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const f1={Firestore:ux,GeoPoint:sD,Timestamp:Nn,Blob:p0,Transaction:dx,WriteBatch:hx,DocumentReference:Na,DocumentSnapshot:g0,Query:Ls,QueryDocumentSnapshot:m0,QuerySnapshot:cS,CollectionReference:iy,FieldPath:uS,FieldValue:fg,setLogLevel:function d1(n){!function oM(n){Go.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function g1(n){(function p1(n,e){n.INTERNAL.registerComponent(new qy.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},f1)))})(n,(e,t)=>new ux(e,t,new u1)),n.registerVersion("@firebase/firestore-compat","0.2.1")}(YA.Z);var gx=P(6451),fD=P(5363),m1=P(6063);class _1 extends an.x{constructor(e=1/0,t=1/0,r=m1.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:a,_windowTime:c}=this;t||(r.push(e),!i&&r.push(a.now()+c)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,a=i.slice();for(let c=0;c<a.length&&!e.closed;c+=r?1:2)e.next(a[c]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,a=(i?1:2)*e;if(e<1/0&&a<r.length&&r.splice(0,r.length-a),!i){const c=t.now();let f=0;for(let _=1;_<r.length&&r[_]<=c;_+=2)f=_;f&&r.splice(0,f+1)}}}var y1=P(3099);function mx(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=null!=n?n:1/0,(0,y1.B)({connector:()=>new _1(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function _x(n,e){return(0,Sr.m)(e)?jn(()=>n,e):jn(()=>n)}var dS=P(9468);P(5867);const vx=new Map,C1={activated:!1,tokenObservers:[]},D1={initialized:!1,enabled:!1};function Ai(n){return vx.get(n)||C1}function Fa(n,e){vx.set(n,e)}function gD(){return D1}class M1{constructor(e,t,r,i,a){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=a,this.pending=null,this.nextErrorWaitInterval=i,i>a)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,Ce.Z)(function*(){t.stop();try{t.pending=new mn.BH,yield function x1(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new mn.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Vs=new mn.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Ex(n){if(!Ai(n).activated)throw Vs.create("use-before-activation",{appName:n.name})}function gS(n,e){return mS.apply(this,arguments)}function mS(){return mS=(0,Ce.Z)(function*({url:n,body:e},t){var r,i;const a={"Content-Type":"application/json"},c=t.getImmediate({optional:!0});if(c){const B=yield c.getHeartbeatsHeader();B&&(a["X-Firebase-Client"]=B)}const f={method:"POST",body:JSON.stringify(e),headers:a};let _,E;try{_=yield fetch(n,f)}catch(B){throw Vs.create("fetch-network-error",{originalErrorMessage:null===(r=B)||void 0===r?void 0:r.message})}if(200!==_.status)throw Vs.create("fetch-status-error",{httpStatus:_.status});try{E=yield _.json()}catch(B){throw Vs.create("fetch-parse-error",{originalErrorMessage:null===(i=B)||void 0===i?void 0:i.message})}const I=E.ttl.match(/^([\d.]+)(s)$/);if(!I||!I[2]||isNaN(Number(I[1])))throw Vs.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${E.ttl}`});const x=1e3*Number(I[1]),F=Date.now();return{token:E.token,expireTimeMillis:F+x,issuedAtTimeMillis:F}}),mS.apply(this,arguments)}function P1(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const _0="firebase-app-check-store";let yD=null;function Cx(){return yD||(yD=new Promise((n,e)=>{var t;try{const r=indexedDB.open("firebase-app-check-database",1);r.onsuccess=i=>{n(i.target.result)},r.onerror=i=>{var a;e(Vs.create("storage-open",{originalErrorMessage:null===(a=i.target.error)||void 0===a?void 0:a.message}))},r.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(_0,{keyPath:"compositeKey"})}}catch(r){e(Vs.create("storage-open",{originalErrorMessage:null===(t=r)||void 0===t?void 0:t.message}))}}),yD)}function _S(){return _S=(0,Ce.Z)(function*(n,e){const r=(yield Cx()).transaction(_0,"readwrite"),a=r.objectStore(_0).put({compositeKey:n,value:e});return new Promise((c,f)=>{a.onsuccess=_=>{c()},r.onerror=_=>{var E;f(Vs.create("storage-set",{originalErrorMessage:null===(E=_.target.error)||void 0===E?void 0:E.message}))}})}),_S.apply(this,arguments)}const y0=new hu.Yd("@firebase/app-check");function bS(n,e){return(0,mn.hl)()?function V1(n,e){return function Dx(n,e){return _S.apply(this,arguments)}(function Tx(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{y0.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function Sx(){return gD().enabled}function Ax(){return wS.apply(this,arguments)}function wS(){return wS=(0,Ce.Z)(function*(){const n=gD();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),wS.apply(this,arguments)}const G1={error:"UNKNOWN_ERROR"};function z1(n){return mn.US.encodeString(JSON.stringify(n),!1)}function vD(n){return CS.apply(this,arguments)}function CS(){return CS=(0,Ce.Z)(function*(n,e=!1){const t=n.app;Ex(t);const r=Ai(t);let a,i=r.token;if(i&&!sy(i)&&(Fa(t,Object.assign(Object.assign({},r),{token:void 0})),i=void 0),!i){const _=yield r.cachedTokenPromise;_&&(sy(_)?i=_:yield bS(t,void 0))}if(!e&&i&&sy(i))return{token:i.token};let f,c=!1;if(Sx()){r.exchangeTokenPromise||(r.exchangeTokenPromise=gS(P1(t,yield Ax()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),c=!0);const _=yield r.exchangeTokenPromise;return yield bS(t,_),Fa(t,Object.assign(Object.assign({},r),{token:_})),{token:_.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),c=!0),i=yield r.exchangeTokenPromise}catch(_){"appCheck/throttled"===_.code?y0.warn(_.message):y0.error(_),a=_}return i?a?f=sy(i)?{token:i.token,internalError:a}:Rx(a):(f={token:i.token},Fa(t,Object.assign(Object.assign({},r),{token:i})),yield bS(t,i)):f=Rx(a),c&&xx(t,f),f}),CS.apply(this,arguments)}function IS(n,e){const t=Ai(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),Fa(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function Mx(n){const{app:e}=n,t=Ai(e);let r=t.tokenRefresher;r||(r=function q1(n){const{app:e}=n;return new M1((0,Ce.Z)(function*(){let r;if(r=Ai(e).token?yield vD(n,!0):yield vD(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=Ai(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),Fa(e,Object.assign(Object.assign({},t),{tokenRefresher:r}))),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function xx(n,e){const t=Ai(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch(i){}}function sy(n){return n.expireTimeMillis-Date.now()>0}function Rx(n){return{token:z1(G1),error:n}}class W1{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Ai(this.app);for(const t of e)IS(this.app,t.next);return Promise.resolve()}}const Bx="app-check-internal";!function aN(){(0,Kd._registerComponent)(new qy.wA("app-check",n=>function Z1(n,e){return new W1(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(Bx).initialize()})),(0,Kd._registerComponent)(new qy.wA(Bx,n=>function K1(n){return{getToken:e=>vD(n,e),addTokenListener:e=>function DS(n,e,t,r){const{app:i}=n,a=Ai(i),c={next:t,error:r,type:e};if(Fa(i,Object.assign(Object.assign({},a),{tokenObservers:[...a.tokenObservers,c]})),a.token&&sy(a.token)){const f=a.token;Promise.resolve().then(()=>{t({token:f.token}),Mx(n)}).catch(()=>{})}a.cachedTokenPromise.then(()=>Mx(n))}(n,"INTERNAL",e),removeTokenListener:e=>IS(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Kd.registerVersion)("@firebase/app-check","0.5.15")}();class MS{constructor(){return(0,Yr.vb)("app-check")}}"undefined"!=typeof window&&window;var jx=P(127);const Hx=new d.OlP("angularfire2.auth.use-emulator"),$x=new d.OlP("angularfire2.auth.settings"),Gx=new d.OlP("angularfire2.auth.tenant-id"),zx=new d.OlP("angularfire2.auth.langugage-code"),qx=new d.OlP("angularfire2.auth.use-device-language"),Wx=new d.OlP("angularfire.auth.persistence"),Zx=(n,e,t,r,i,a,c,f)=>(0,Ta.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const _=e.runOutsideAngular(()=>n.auth());if(t&&_.useEmulator(...t),r&&(_.tenantId=r),_.languageCode=i,a&&_.useDeviceLanguage(),c)for(const[E,I]of Object.entries(c))_.settings[E]=I;return f&&_.setPersistence(f),_},[t,r,i,a,c,f]);let RS=(()=>{class n{constructor(t,r,i,a,c,f,_,E,I,x,F,B){const j=new an.x,le=ot(void 0).pipe((0,fD.Q)(c.outsideAngular),jn(()=>a.runOutsideAngular(()=>Promise.resolve().then(P.bind(P,9545)))),(0,Dt.U)(()=>(0,Ta.on)(t,a,r)),(0,Dt.U)(Te=>Zx(Te,a,f,E,I,x,_,F)),mx({bufferSize:1,refCount:!1}));if(sa(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=ot(null);else{le.pipe(Ja()).subscribe();const qe=le.pipe(jn(lt=>lt.getRedirectResult().then(xt=>xt,()=>null)),Yr.iC,mx({bufferSize:1,refCount:!1})),st=le.pipe(jn(lt=>new Tn.y(xt=>({unsubscribe:a.runOutsideAngular(()=>lt.onAuthStateChanged(Pt=>xt.next(Pt),Pt=>xt.error(Pt),()=>xt.complete()))})))),pt=le.pipe(jn(lt=>new Tn.y(xt=>({unsubscribe:a.runOutsideAngular(()=>lt.onIdTokenChanged(Pt=>xt.next(Pt),Pt=>xt.error(Pt),()=>xt.complete()))}))));this.authState=qe.pipe(_x(st),(0,dS.R)(c.outsideAngular),(0,fD.Q)(c.insideAngular)),this.user=qe.pipe(_x(pt),(0,dS.R)(c.outsideAngular),(0,fD.Q)(c.insideAngular)),this.idToken=this.user.pipe(jn(lt=>lt?(0,In.D)(lt.getIdToken()):ot(null))),this.idTokenResult=this.user.pipe(jn(lt=>lt?(0,In.D)(lt.getIdTokenResult()):ot(null))),this.credential=(0,gx.T)(qe,j,this.authState.pipe(ln(lt=>!lt))).pipe((0,Dt.U)(lt=>(null==lt?void 0:lt.user)?lt:null),(0,dS.R)(c.outsideAngular),(0,fD.Q)(c.insideAngular))}return(0,Ta.pX)(this,le,a,{spy:{apply:(Te,qe,st)=>{(Te.startsWith("signIn")||Te.startsWith("createUser"))&&st.then(pt=>j.next(pt))}}})}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Ta.Dh),d.LFG(Ta.xv,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(Yr.HU),d.LFG(Hx,8),d.LFG($x,8),d.LFG(Gx,8),d.LFG(zx,8),d.LFG(qx,8),d.LFG(Wx,8),d.LFG(MS,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),fN=(()=>{class n{constructor(){jx.Z.registerVersion("angularfire",Yr.q4.full,"auth-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[RS]}),n})();function Kx(n,e){return function pN(n,e=Wf.z){return new Tn.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=r&&r()}})}(n,e)}function kS(n,e){return Kx(n,e).pipe((0,Dt.U)(t=>({payload:t,type:"query"})))}function ED(n,e){return kS(n,e).pipe(Ei(void 0),Zf(),(0,Dt.U)(([t,r])=>{const i=r.payload.docChanges(),a=i.map(c=>({type:c.type,payload:c}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((c,f)=>{const _=i.find(I=>I.doc.ref.isEqual(c.ref)),E=null==t?void 0:t.payload.docs.find(I=>I.ref.isEqual(c.ref));_&&JSON.stringify(_.doc.metadata)===JSON.stringify(c.metadata)||!_&&E&&JSON.stringify(E.metadata)===JSON.stringify(c.metadata)||a.push({type:"modified",payload:{oldIndex:f,newIndex:f,type:"modified",doc:c}})}),a}))}function Yx(n,e,t){return ED(n,t).pipe(Li((r,i)=>function mN(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function _N(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return OS(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return OS(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return OS(n,e.oldIndex,1)}return n}(n,r))}),n}(r,i.map(a=>a.payload),e),[]),function ZA(n,e=rs.y){return n=null!=n?n:KA,(0,Un.e)((t,r)=>{let i,a=!0;t.subscribe((0,qn.x)(r,c=>{const f=e(c);(a||!n(i,f))&&(a=!1,i=f,r.next(c))}))})}(),(0,Dt.U)(r=>r.map(i=>({type:i.type,payload:i}))))}function OS(n,e,t,...r){const i=n.slice();return i.splice(e,t,...r),i}function Qx(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class Xx{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=ED(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,Dt.U)(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe(Ei(void 0),Zf(),ln(([r,i])=>i.length>0||!r),(0,Dt.U)(([r,i])=>i),Yr.iC)}auditTrail(e){return this.stateChanges(e).pipe(Li((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=Qx(e);return Yx(this.query,t,this.afs.schedulers.outsideAngular).pipe(Yr.iC)}valueChanges(e={}){return kS(this.query,this.afs.schedulers.outsideAngular).pipe((0,Dt.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),Yr.iC)}get(e){return(0,In.D)(this.query.get(e)).pipe(Yr.iC)}add(e){return this.ref.add(e)}doc(e){return new Jx(this.ref.doc(e),this.afs)}}class Jx{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:i,query:a}=nR(r,t);return new Xx(i,a,this.afs)}snapshotChanges(){return function gN(n,e){return Kx(n,e).pipe(Ei(void 0),Zf(),(0,Dt.U)(([t,r])=>r.exists?(null==t?void 0:t.exists)?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Yr.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,Dt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,In.D)(this.ref.get(e)).pipe(Yr.iC)}}class yN{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?ED(this.query,this.afs.schedulers.outsideAngular).pipe((0,Dt.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),ln(t=>t.length>0),Yr.iC):ED(this.query,this.afs.schedulers.outsideAngular).pipe(Yr.iC)}auditTrail(e){return this.stateChanges(e).pipe(Li((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=Qx(e);return Yx(this.query,t,this.afs.schedulers.outsideAngular).pipe(Yr.iC)}valueChanges(e={}){return kS(this.query,this.afs.schedulers.outsideAngular).pipe((0,Dt.U)(r=>r.payload.docs.map(i=>e.idField?Object.assign({[e.idField]:i.id},i.data()):i.data())),Yr.iC)}get(e){return(0,In.D)(this.query.get(e)).pipe(Yr.iC)}}const eR=new d.OlP("angularfire2.enableFirestorePersistence"),tR=new d.OlP("angularfire2.firestore.persistenceSettings"),vN=new d.OlP("angularfire2.firestore.settings"),bN=new d.OlP("angularfire2.firestore.use-emulator");function nR(n,e=(t=>t)){return{query:e(n),ref:n}}let rR=(()=>{class n{constructor(t,r,i,a,c,f,_,E,I,x,F,B,j,le,Te,qe,st){this.schedulers=_;const pt=(0,Ta.on)(t,f,r),lt=I;x&&Zx(pt,f,F,j,le,Te,B,qe),[this.firestore,this.persistenceEnabled$]=(0,Ta.cc)(`${pt.name}.firestore`,"AngularFirestore",pt.name,()=>{const xt=f.runOutsideAngular(()=>pt.firestore());if(a&&xt.settings(a),lt&&xt.useEmulator(...lt),i&&!sa(c)){const Pt=()=>{try{return(0,In.D)(xt.enablePersistence(E||void 0).then(()=>!0,()=>!1))}catch(un){return"undefined"!=typeof console&&console.warn(un),ot(!1)}};return[xt,f.runOutsideAngular(Pt)]}return[xt,ot(!1)]},[a,lt,i])}collection(t,r){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:a,query:c}=nR(i,r),f=this.schedulers.ngZone.run(()=>a);return new Xx(f,c,this)}collectionGroup(t,r){const i=r||(c=>c),a=this.firestore.collectionGroup(t);return new yN(i(a),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>r);return new Jx(i,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Ta.Dh),d.LFG(Ta.xv,8),d.LFG(eR,8),d.LFG(vN,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(Yr.HU),d.LFG(tR,8),d.LFG(bN,8),d.LFG(RS,8),d.LFG(Hx,8),d.LFG($x,8),d.LFG(Gx,8),d.LFG(zx,8),d.LFG(qx,8),d.LFG(Wx,8),d.LFG(MS,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),EN=(()=>{class n{constructor(){jx.Z.registerVersion("angularfire",Yr.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:eR,useValue:!0},{provide:tR,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[rR]}),n})(),iR=(()=>{class n{constructor(t){this.afs=t}traeMensajes(){return this.itemsCollection=this.afs.collection("chats",t=>t.orderBy("timestamp","asc")),this.itemsCollection.valueChanges()}enviaMensaje(t){return this.itemsCollection.add(t)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(rR))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),sR=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.Qsj),d.Y36(d.SBq))},n.\u0275dir=d.lG2({type:n}),n})(),pg=(()=>{class n extends sR{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=d.n5z(n)))(r||n)}}(),n.\u0275dir=d.lG2({type:n,features:[d.qOj]}),n})();const Yo=new d.OlP("NgValueAccessor"),DN={provide:Yo,useExisting:(0,d.Gpc)(()=>oy),multi:!0},TN=new d.OlP("CompositionEventMode");let oy=(()=>{class n extends sR{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function IN(){const n=N()?N().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.Qsj),d.Y36(d.SBq),d.Y36(TN,8))},n.\u0275dir=d.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&d.NdJ("input",function(a){return r._handleInput(a.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(a){return r._compositionEnd(a.target.value)})},features:[d._Bn([DN]),d.qOj]}),n})();function sf(n){return null==n||0===n.length}function aR(n){return null!=n&&"number"==typeof n.length}const fs=new d.OlP("NgValidators"),af=new d.OlP("NgAsyncValidators"),SN=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class wl{static min(e){return function lR(n){return e=>{if(sf(e.value)||sf(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function cR(n){return e=>{if(sf(e.value)||sf(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function uR(n){return sf(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function dR(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function hR(n){return sf(n.value)||SN.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function fR(n){return e=>sf(e.value)||!aR(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function pR(n){return e=>aR(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function gR(n){if(!n)return wD;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(sf(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return ER(e)}static composeAsync(e){return wR(e)}}function wD(n){return null}function mR(n){return null!=n}function _R(n){const e=(0,d.QGY)(n)?(0,In.D)(n):n;return(0,d.CqO)(e),e}function yR(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function vR(n,e){return e.map(t=>t(n))}function bR(n){return n.map(e=>function AN(n){return!n.validate}(e)?e:t=>e.validate(t))}function ER(n){if(!n)return null;const e=n.filter(mR);return 0==e.length?null:function(t){return yR(vR(t,e))}}function PS(n){return null!=n?ER(bR(n)):null}function wR(n){if(!n)return null;const e=n.filter(mR);return 0==e.length?null:function(t){return function wN(...n){const e=(0,Wa.jO)(n),{args:t,keys:r}=Bn(n),i=new Tn.y(a=>{const{length:c}=t;if(!c)return void a.complete();const f=new Array(c);let _=c,E=c;for(let I=0;I<c;I++){let x=!1;(0,eo.Xf)(t[I]).subscribe((0,qn.x)(a,F=>{x||(x=!0,E--),f[I]=F},()=>_--,void 0,()=>{(!_||!x)&&(E||a.next(r?Ka(r,f):f),a.complete())}))}});return e?i.pipe(jl(e)):i}(vR(t,e).map(_R)).pipe((0,Dt.U)(yR))}}function NS(n){return null!=n?wR(bR(n)):null}function CR(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function DR(n){return n._rawValidators}function IR(n){return n._rawAsyncValidators}function FS(n){return n?Array.isArray(n)?n:[n]:[]}function CD(n,e){return Array.isArray(n)?n.includes(e):n===e}function TR(n,e){const t=FS(e);return FS(n).forEach(i=>{CD(t,i)||t.push(i)}),t}function SR(n,e){return FS(e).filter(t=>!CD(n,t))}class AR{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=PS(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=NS(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class lf extends AR{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Bs extends AR{get formDirective(){return null}get path(){return null}}class MR{constructor(e){this._cd=e}is(e){var t,r,i;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(i=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===i?void 0:i[e])}}let DD=(()=>{class n extends MR{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(lf,2))},n.\u0275dir=d.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&d.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[d.qOj]}),n})(),LS=(()=>{class n extends MR{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(Bs,10))},n.\u0275dir=d.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&d.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))("ng-submitted",r.is("submitted"))},features:[d.qOj]}),n})();function TD(n,e){return[...e.path,n]}function v0(n,e){US(n,e),e.valueAccessor.writeValue(n.value),function FN(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&RR(n,e)})}(n,e),function VN(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function LN(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&RR(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function NN(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function SD(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),MD(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function AD(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function US(n,e){const t=DR(n);null!==e.validator?n.setValidators(CR(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=IR(n);null!==e.asyncValidator?n.setAsyncValidators(CR(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();AD(e._rawValidators,i),AD(e._rawAsyncValidators,i)}function MD(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=DR(n);if(Array.isArray(i)&&i.length>0){const a=i.filter(c=>c!==e.validator);a.length!==i.length&&(t=!0,n.setValidators(a))}}if(null!==e.asyncValidator){const i=IR(n);if(Array.isArray(i)&&i.length>0){const a=i.filter(c=>c!==e.asyncValidator);a.length!==i.length&&(t=!0,n.setAsyncValidators(a))}}}const r=()=>{};return AD(e._rawValidators,r),AD(e._rawAsyncValidators,r),t}function RR(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function jS(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}function HS(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(a=>{a.constructor===oy?t=a:function jN(n){return Object.getPrototypeOf(n.constructor)===pg}(a)?r=a:i=a}),i||r||t||null}function $S(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const b0="VALID",xD="INVALID",ay="PENDING",E0="DISABLED";function zS(n){return(RD(n)?n.validators:n)||null}function NR(n){return Array.isArray(n)?PS(n):n||null}function qS(n,e){return(RD(e)?e.asyncValidators:n)||null}function FR(n){return Array.isArray(n)?NS(n):n||null}function RD(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const WS=n=>n instanceof KS,kD=n=>n instanceof OD,LR=n=>n instanceof jR;function VR(n){return WS(n)?n.value:n.getRawValue()}function BR(n,e){const t=kD(n),r=n.controls;if(!(t?Object.keys(r):r).length)throw new d.vHH(1e3,"");if(!r[e])throw new d.vHH(1001,"")}function UR(n,e){kD(n),n._forEachChild((r,i)=>{if(void 0===e[i])throw new d.vHH(1002,"")})}class ZS{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=NR(this._rawValidators),this._composedAsyncValidatorFn=FR(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===b0}get invalid(){return this.status===xD}get pending(){return this.status==ay}get disabled(){return this.status===E0}get enabled(){return this.status!==E0}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=NR(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=FR(e)}addValidators(e){this.setValidators(TR(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(TR(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(SR(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(SR(e,this._rawAsyncValidators))}hasValidator(e){return CD(this._rawValidators,e)}hasAsyncValidator(e){return CD(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=ay,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=E0,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=b0,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===b0||this.status===ay)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?E0:b0}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=ay,this._hasOwnPendingAsyncValidator=!0;const t=_R(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function HN(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(t)),Array.isArray(e)&&0===e.length))return null;let r=n;return e.forEach(i=>{r=kD(r)?r.controls.hasOwnProperty(i)?r.controls[i]:null:LR(r)&&r.at(i)||null}),r}(this,e,".")}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new d.vpe,this.statusChanges=new d.vpe}_calculateStatus(){return this._allControlsDisabled()?E0:this.errors?xD:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ay)?ay:this._anyControlsHaveStatus(xD)?xD:b0}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){RD(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class KS extends ZS{constructor(e=null,t,r){super(zS(t),qS(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),RD(t)&&t.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){$S(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){$S(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class OD extends ZS{constructor(e,t,r){super(zS(t),qS(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){UR(this,e),Object.keys(e).forEach(r=>{BR(this,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=VR(t),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const r=this.controls[t];if(this.contains(t)&&e(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,r)=>((t.enabled||this.disabled)&&(e[r]=t.value),e))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,a)=>{r=t(r,i,a)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class jR extends ZS{constructor(e,t,r){super(zS(t),qS(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){UR(this,e),e.forEach((r,i)=>{BR(this,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>VR(e))}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const zN={provide:lf,useExisting:(0,d.Gpc)(()=>QS)},GR=(()=>Promise.resolve(null))();let QS=(()=>{class n extends lf{constructor(t,r,i,a,c){super(),this._changeDetectorRef=c,this.control=new KS,this._registered=!1,this.update=new d.vpe,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=HS(0,a)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),jS(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){v0(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){GR.then(()=>{var r;this.control.setValue(t,{emitViewToModelChange:!1}),null===(r=this._changeDetectorRef)||void 0===r||r.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,i=""===r||r&&"false"!==r;GR.then(()=>{var a;i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),null===(a=this._changeDetectorRef)||void 0===a||a.markForCheck()})}_getPath(t){return this._parent?TD(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(Bs,9),d.Y36(fs,10),d.Y36(af,10),d.Y36(Yo,10),d.Y36(d.sBO,8))},n.\u0275dir=d.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[d._Bn([zN]),d.qOj,d.TTD]}),n})(),XS=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=d.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),qR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})();const JS=new d.OlP("NgModelWithFormControlWarning"),QN={provide:Bs,useExisting:(0,d.Gpc)(()=>C0)};let C0=(()=>{class n extends Bs{constructor(t,r){super(),this.validators=t,this.asyncValidators=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new d.vpe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(MD(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return v0(r,t),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){SD(t.control||null,t,!1),$S(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,function PR(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(SD(r||null,t),WS(i)&&(v0(i,t),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);(function kR(n,e){US(n,e)})(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function BN(n,e){return MD(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){US(this.form,this),this._oldForm&&MD(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(fs,10),d.Y36(af,10))},n.\u0275dir=d.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&d.NdJ("submit",function(a){return r.onSubmit(a)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[d._Bn([QN]),d.qOj,d.TTD]}),n})();const eF={provide:lf,useExisting:(0,d.Gpc)(()=>PD)};let PD=(()=>{class n extends lf{constructor(t,r,i,a,c){super(),this._ngModelWarningConfig=c,this._added=!1,this.update=new d.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=HS(0,a)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),jS(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return TD(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(d.Y36(Bs,13),d.Y36(fs,10),d.Y36(af,10),d.Y36(Yo,10),d.Y36(JS,8))},n.\u0275dir=d.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[d._Bn([eF]),d.qOj,d.TTD]}),n})(),lk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[qR]]}),n})(),D0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[lk]}),n})(),ck=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:JS,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[lk]}),n})(),uk=(()=>{class n{group(t,r=null){const i=this._reduceControls(t);let f,a=null,c=null;return null!=r&&(function mF(n){return void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn}(r)?(a=null!=r.validators?r.validators:null,c=null!=r.asyncValidators?r.asyncValidators:null,f=null!=r.updateOn?r.updateOn:void 0):(a=null!=r.validator?r.validator:null,c=null!=r.asyncValidator?r.asyncValidator:null)),new OD(i,{asyncValidators:c,updateOn:f,validators:a})}control(t,r,i){return new KS(t,r,i)}array(t,r,i){const a=t.map(c=>this._createControl(c));return new jR(a,r,i)}_reduceControls(t){const r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){return WS(t)||kD(t)||LR(t)?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:ck}),n})();function _F(n,e){if(1&n&&(d.TgZ(0,"li",16)(1,"div",17)(2,"div",18)(3,"p",19),d._uU(4),d.qZA(),d.TgZ(5,"p",20),d._UZ(6,"i",21),d._uU(7),d.ALo(8,"date"),d.qZA()(),d.TgZ(9,"div",22)(10,"p",23),d._uU(11),d.qZA()()()()),2&n){const t=e.$implicit,r=d.oxw();d.Q6J("ngClass",t.id==r.userId?"justify-right":"justify-left"),d.xp6(2),d.Q6J("ngClass",t.id==r.userId?"bg-green":"bg-orange"),d.xp6(2),d.Oqu(t.name),d.xp6(3),d.hij(" ",d.xi3(8,5,t.timestamp.toDate(),"d/MM - HH:mm"),""),d.xp6(4),d.hij(" ",t.mensaje," ")}}function yF(n,e){1&n&&(d.TgZ(0,"label",24),d._uU(1,"Escribe un mensaje.."),d.qZA())}function vF(n,e){if(1&n&&(d.TgZ(0,"small",25),d._uU(1),d.qZA()),2&n){const t=d.oxw();d.xp6(1),d.Oqu(t.error.mensaje)}}let bF=(()=>{class n{constructor(t){this.chatServ=t,this.chatArea="",this.userId=localStorage.getItem("idALED"),this.error={active:!1,mensaje:""}}ngOnInit(){this.chatServ.traeMensajes().subscribe(t=>{this.mensajes=t})}enviaMensaje(){if(0===this.chatArea.length)return this.error.active=!0,void(this.error.mensaje="Inserte algun mensaje");{let t={mensaje:this.chatArea,id:this.userId,name:localStorage.getItem("nameALED"),timestamp:new Date};this.chatServ.enviaMensaje(t).then(()=>console.log("Enviado")).catch(r=>console.error("Error al enviar",r)),this.chatArea="",this.error.active=!1,this.error.mensaje=""}}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(iR))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-chat"]],decls:18,vars:5,consts:[[1,"section-chat",2,"background-color","#eee"],[1,"container","prueba"],[1,"d-flex","justify-content-center","chat"],[1,"bottom-cht1",2,"width","85%","max-width","1200px"],[1,"chat-full","mb-3",3,"scrollTop"],["scrollMe",""],[1,"list-unstyled"],["class","d-flex mb-4",3,"ngClass",4,"ngFor","ngForOf"],[1,"bottom-chat","bottom-cht2"],[1,"chat-snd","chat-snd-grid"],[1,"bg-white","mb-3"],[1,"form-outline"],["id","chatArea","rows","3",1,"form-control",3,"ngModel","ngModelChange"],["class","form-label","for","chatArea",4,"ngIf"],["type","button",1,"btn","btn-info","btn-rounded",2,"height","40px",3,"click"],["class","text-center bg-danger mx-auto","style","font-size:10px;width: 200px;color:white;border-radius: 5px;",4,"ngIf"],[1,"d-flex","mb-4",3,"ngClass"],[1,"card"],[1,"card-header","d-flex","p-chat",3,"ngClass"],[1,"fw-bold","mb-0","chat-msg","p-chat"],[1,"text-muted","small","mb-0"],[1,"far","fa-clock",2,"margin-right","5px"],[1,"card-body"],[1,"mb-0"],["for","chatArea",1,"form-label"],[1,"text-center","bg-danger","mx-auto",2,"font-size","10px","width","200px","color","white","border-radius","5px"]],template:function(t,r){if(1&t&&(d.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4,5)(6,"ul",6),d.YNc(7,_F,12,8,"li",7),d.qZA()()()(),d.TgZ(8,"div",8)(9,"div",9)(10,"ul",6)(11,"li",10)(12,"div",11)(13,"textarea",12),d.NdJ("ngModelChange",function(a){return r.chatArea=a}),d.qZA(),d.YNc(14,yF,2,0,"label",13),d.qZA()()(),d.TgZ(15,"button",14),d.NdJ("click",function(){return r.enviaMensaje()}),d._uU(16,"Enviar"),d.qZA(),d.YNc(17,vF,2,1,"small",15),d.qZA()()()()),2&t){const i=d.MAs(5);d.xp6(4),d.Q6J("scrollTop",i.scrollHeight),d.xp6(3),d.Q6J("ngForOf",r.mensajes),d.xp6(6),d.Q6J("ngModel",r.chatArea),d.xp6(1),d.Q6J("ngIf",""==r.chatArea),d.xp6(3),d.Q6J("ngIf",r.error.active&&""==r.chatArea)}},directives:[cr,ki,oy,DD,QS,zn],pipes:[gf],styles:[".card-body[_ngcontent-%COMP%], .card-header[_ngcontent-%COMP%]{padding:.8rem}.chat[_ngcontent-%COMP%]{padding-bottom:1rem}.chat-msg[_ngcontent-%COMP%]{padding-right:10px}.chat-full[_ngcontent-%COMP%]{max-height:calc(100vh - 408.56px);overflow:scroll;position:relative;-ms-overflow-style:none;scrollbar-width:none;overflow-x:hidden}.chat-snd-grid[_ngcontent-%COMP%]{position:fixed;bottom:calc(58.56px - 1rem)}.chat-snd[_ngcontent-%COMP%]{position:sticky}[_ngcontent-%COMP%]::-webkit-scrollbar{width:10px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#888}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#555}.section-chat[_ngcontent-%COMP%]{display:flex;justify-content:center}.prueba[_ngcontent-%COMP%]{height:calc(100vh - 177.15px - 1rem);position:absolute;display:flex;flex-direction:column;justify-content:space-between}.prueba[_ngcontent-%COMP%]   .chat-snd-grid[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center}.bottom-chat[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;margin:0 auto 40px;width:85%;max-width:1200px}.justify-right[_ngcontent-%COMP%]{justify-content:right}.justify-left[_ngcontent-%COMP%]{justify-content:left}.bg-green[_ngcontent-%COMP%]{background-color:#c1ec7f}.p-chat[_ngcontent-%COMP%]{padding:5px 10px}.bg-orange[_ngcontent-%COMP%]{background-color:#f7ef7e}.small[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:10px}"]}),n})(),EF=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-error"]],decls:2,vars:0,template:function(t,r){1&t&&(d.TgZ(0,"p"),d._uU(1,"error works!"),d.qZA())},styles:[""]}),n})();const wF=function(){return["/register"]},CF=function(){return["/chat"]};let dk=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-index"]],decls:15,vars:4,consts:[["id","intro",1,"bg-image","vh-100","shadow-1-strong"],["playsinline","","autoplay","","muted","","loop","",2,"min-width","100%","min-height","100%"],["src","https://mdbootstrap.com/img/video/Lines.mp4","type","video/mp4",1,"h-100"],[1,"mask",2,"background","linear-gradient(\n            45deg,\n            rgba(29, 236, 197, 0.7),\n            rgba(91, 14, 214, 0.7) 100%\n          )"],[1,"container","d-flex","align-items-center","justify-content-center","text-center","h-100"],[1,"text-white"],[1,"mb-3"],[1,"mb-4"],["role","button","rel","nofollow",1,"btn","btn-outline-light","btn-lg","m-2",3,"routerLink"],["role","button",1,"btn","btn-outline-light","btn-lg","m-2",3,"routerLink"]],template:function(t,r){1&t&&(d.TgZ(0,"header")(1,"div",0)(2,"video",1),d._UZ(3,"source",2),d.qZA(),d.TgZ(4,"div",3)(5,"div",4)(6,"div",5)(7,"h1",6),d._uU(8,"Bienvenido a ChatApp"),d.qZA(),d.TgZ(9,"h5",7),d._uU(10,"Un sitio desarrollado para ALED 3"),d.qZA(),d.TgZ(11,"a",8),d._uU(12,"Registrate"),d.qZA(),d.TgZ(13,"a",9),d._uU(14,"Ingresa al chat"),d.qZA()()()()()()),2&t&&(d.xp6(11),d.Q6J("routerLink",d.DdM(2,wF)),d.xp6(2),d.Q6J("routerLink",d.DdM(3,CF)))},directives:[wa],styles:["@media (min-width: 992px){#intro[_ngcontent-%COMP%]{margin-top:-1rem}}#intro[_ngcontent-%COMP%]{margin-top:-1rem;max-height:calc(100vh - 177.15px)}.navbar[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{color:#fff!important}"]}),n})();function DF(n,e){1&n&&(d.TgZ(0,"label",22),d._uU(1,"Email"),d.qZA())}function IF(n,e){1&n&&(d.TgZ(0,"label",23),d._uU(1,"Contrase\xf1a"),d.qZA())}const TF=function(){return["/recovery"]},SF=function(){return["/register"]};let AF=(()=>{class n{constructor(t,r,i){this.userServ=t,this.fb=r,this.router=i}ngOnInit(){this.forma=this.fb.group({email:["",[wl.required,wl.email]],password:["",[wl.required,wl.minLength(6)]]})}login(){let r;this.userServ.login(this.forma.value).subscribe(i=>{r=i}),setTimeout(()=>{this.userServ.saveData(r),this.router.navigate([""])},1e3)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(qf),d.Y36(uk),d.Y36(or))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-login"]],decls:30,vars:8,consts:[[1,"container","pb-2","h-100"],[1,"row","d-flex","justify-content-center","align-items-center","h-100"],[1,"col","col-xl-5"],[1,"card",2,"border-radius","1rem"],[1,"d-flex","justify-content-center","g-0"],[1,"d-flex","align-items-center"],[1,"card-body","text-black"],[3,"formGroup","ngSubmit"],[1,"d-flex","align-items-center","mb-3","pb-1"],["src","assets/images/logos/logochat.png","alt","",2,"max-width","40px","margin-right","15px"],[1,"h1","fw-bold","mb-0"],[1,"fw-normal","mb-3","pb-3",2,"letter-spacing","1px"],[1,"form-outline","mb-4"],["type","email","formControlName","email","id","email",1,"form-control","form-control-lg"],["class","form-label","for","email",4,"ngIf"],["type","password","formControlName","password","id","password",1,"form-control","form-control-lg"],["class","form-label","for","password",4,"ngIf"],[1,"pt-1","mb-4"],["type","submit",1,"btn","btn-dark","btn-lg","btn-block",3,"disabled"],[1,"small","text-muted",3,"routerLink"],[1,"mb-5","pb-lg-2",2,"color","#393f81"],[2,"color","#393f81",3,"routerLink"],["for","email",1,"form-label"],["for","password",1,"form-label"]],template:function(t,r){1&t&&(d.TgZ(0,"section")(1,"div",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4)(6,"div",5)(7,"div",6)(8,"form",7),d.NdJ("ngSubmit",function(){return r.login()}),d.TgZ(9,"div",8),d._UZ(10,"img",9),d.TgZ(11,"span",10),d._uU(12,"ChatApp"),d.qZA()(),d.TgZ(13,"h5",11),d._uU(14," Ingresa a tu cuenta "),d.qZA(),d.TgZ(15,"div",12),d._UZ(16,"input",13),d.YNc(17,DF,2,0,"label",14),d.qZA(),d.TgZ(18,"div",12),d._UZ(19,"input",15),d.YNc(20,IF,2,0,"label",16),d.qZA(),d.TgZ(21,"div",17)(22,"button",18),d._uU(23," Login "),d.qZA()(),d.TgZ(24,"a",19),d._uU(25,"\xbfOlvidaste tu contrase\xf1a?"),d.qZA(),d.TgZ(26,"p",20),d._uU(27," \xbfNo tienes cuenta? "),d.TgZ(28,"a",21),d._uU(29,"Registrate ac\xe1"),d.qZA()()()()()()()()()()()),2&t&&(d.xp6(8),d.Q6J("formGroup",r.forma),d.xp6(9),d.Q6J("ngIf",""==r.forma.value.email),d.xp6(3),d.Q6J("ngIf",""==r.forma.value.password),d.xp6(2),d.Q6J("disabled",r.forma.invalid),d.xp6(2),d.Q6J("routerLink",d.DdM(6,TF)),d.xp6(4),d.Q6J("routerLink",d.DdM(7,SF)))},directives:[XS,LS,C0,oy,DD,PD,zn,wa],styles:[".form-outline[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{border:1px solid lightgray}"]}),n})();function MF(n,e){1&n&&(d.TgZ(0,"label",25),d._uU(1,"Nombre"),d.qZA())}function xF(n,e){1&n&&(d.TgZ(0,"label",26),d._uU(1,"Email"),d.qZA())}function RF(n,e){1&n&&(d.TgZ(0,"label",27),d._uU(1,"Contrase\xf1a"),d.qZA())}function kF(n,e){1&n&&(d.TgZ(0,"label",28),d._uU(1,"Repite la contrase\xf1a"),d.qZA())}const OF=function(){return["/login"]};let PF=(()=>{class n{constructor(t,r,i){this.userServ=t,this.fb=r,this.router=i}ngOnInit(){this.forma=this.fb.group({email:["",[wl.required,wl.email]],password:["",[wl.required,wl.minLength(6)]],"password-confirm":["",[wl.required,wl.minLength(6)]],name:["",[wl.required]]})}register(){let t=0;this.userServ.register(this.forma.value).subscribe({next(r){},error(r){t=1}}),0==t&&this.router.navigate(["/login"])}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(qf),d.Y36(uk),d.Y36(or))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-register"]],decls:34,vars:9,consts:[[1,"container","pb-2","h-100"],[1,"row","d-flex","justify-content-center","align-items-center","h-100"],[1,"col","col-xl-5"],[1,"card",2,"border-radius","1rem"],[1,"d-flex","justify-content-center","g-0"],[1,"d-flex","align-items-center"],[1,"card-body","text-black"],[3,"formGroup","ngSubmit"],[1,"d-flex","align-items-center","mb-3","pb-1"],["src","assets/images/logos/logochat.png","alt","",2,"max-width","40px","margin-right","15px"],[1,"h1","fw-bold","mb-0"],[1,"fw-normal","mb-3","pb-3",2,"letter-spacing","1px"],[1,"form-outline","mb-4"],["type","text","formControlName","name","id","name",1,"form-control","form-control-lg"],["class","form-label","for","name",4,"ngIf"],["type","email","formControlName","email","id","email",1,"form-control","form-control-lg"],["class","form-label","for","email",4,"ngIf"],["type","password","formControlName","password","id","password",1,"form-control","form-control-lg"],["class","form-label","for","password",4,"ngIf"],["type","password","formControlName","password-confirm","id","password-confirm",1,"form-control","form-control-lg",3,"ngModel","ngModelChange"],["class","form-label","for","password-confirm",4,"ngIf"],[1,"pt-1","mb-4"],["type","submit",1,"btn","btn-dark","btn-lg","btn-block",3,"disabled"],[1,"mb-2","pb-lg-2",2,"color","#393f81"],[2,"color","#393f81",3,"routerLink"],["for","name",1,"form-label"],["for","email",1,"form-label"],["for","password",1,"form-label"],["for","password-confirm",1,"form-label"]],template:function(t,r){1&t&&(d.TgZ(0,"section")(1,"div",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4)(6,"div",5)(7,"div",6)(8,"form",7),d.NdJ("ngSubmit",function(){return r.register()}),d.TgZ(9,"div",8),d._UZ(10,"img",9),d.TgZ(11,"span",10),d._uU(12,"ChatApp"),d.qZA()(),d.TgZ(13,"h5",11),d._uU(14," Registrate "),d.qZA(),d.TgZ(15,"div",12),d._UZ(16,"input",13),d.YNc(17,MF,2,0,"label",14),d.qZA(),d.TgZ(18,"div",12),d._UZ(19,"input",15),d.YNc(20,xF,2,0,"label",16),d.qZA(),d.TgZ(21,"div",12),d._UZ(22,"input",17),d.YNc(23,RF,2,0,"label",18),d.qZA(),d.TgZ(24,"div",12)(25,"input",19),d.NdJ("ngModelChange",function(a){return r.passwordRepeat=a}),d.qZA(),d.YNc(26,kF,2,0,"label",20),d.qZA(),d.TgZ(27,"div",21)(28,"button",22),d._uU(29," Enviar "),d.qZA()(),d.TgZ(30,"p",23),d._uU(31," \xbfYa posees una cuenta? "),d.TgZ(32,"a",24),d._uU(33,"Ingres\xe1 ac\xe1"),d.qZA()()()()()()()()()()()),2&t&&(d.xp6(8),d.Q6J("formGroup",r.forma),d.xp6(9),d.Q6J("ngIf",""==r.forma.value.name),d.xp6(3),d.Q6J("ngIf",""==r.forma.value.email),d.xp6(3),d.Q6J("ngIf",""==r.forma.value.password),d.xp6(2),d.Q6J("ngModel",r.passwordRepeat),d.xp6(1),d.Q6J("ngIf",null==r.forma.value["password-confirm"]),d.xp6(2),d.Q6J("disabled",r.forma.invalid),d.xp6(4),d.Q6J("routerLink",d.DdM(8,OF)))},directives:[XS,LS,C0,oy,DD,PD,zn,wa],styles:[".form-outline[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{border:1px solid lightgray}"]}),n})(),NF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[$0.forRoot([{path:"",component:dk},{path:"inicio",component:dk},{path:"chat",component:bF,canActivate:[qA]},{path:"sobre-mi",component:cE},{path:"login",component:AF},{path:"register",component:PF},{path:"**",component:EF}])],$0]}),n})();function cf(n){return null!=n&&"false"!=`${n}`}function ND(n){return Array.isArray(n)?n:[n]}function ii(n){return null==n?"":"string"==typeof n?n:`${n}px`}var VF=P(1144);const BF=["addListener","removeListener"],UF=["addEventListener","removeEventListener"],jF=["on","off"];function uf(n,e,t,r){if((0,Sr.m)(t)&&(r=t,t=void 0),r)return uf(n,e,t).pipe(jl(r));const[i,a]=function GF(n){return(0,Sr.m)(n.addEventListener)&&(0,Sr.m)(n.removeEventListener)}(n)?UF.map(c=>f=>n[c](e,f,t)):function HF(n){return(0,Sr.m)(n.addListener)&&(0,Sr.m)(n.removeListener)}(n)?BF.map(hk(n,e)):function $F(n){return(0,Sr.m)(n.on)&&(0,Sr.m)(n.off)}(n)?jF.map(hk(n,e)):[];if(!i&&(0,VF.z)(n))return(0,ir.z)(c=>uf(c,e,t))((0,eo.Xf)(n));if(!i)throw new TypeError("Invalid event target");return new Tn.y(c=>{const f=(..._)=>c.next(1<_.length?_:_[0]);return i(f),()=>a(f)})}function hk(n,e){return t=>r=>n[t](e,r)}var fk=P(4408);const I0={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:r}=I0;r&&(e=r.requestAnimationFrame,t=r.cancelAnimationFrame);const i=e(a=>{t=void 0,n(a)});return new ss.w0(()=>null==t?void 0:t(i))},requestAnimationFrame(...n){const{delegate:e}=I0;return((null==e?void 0:e.requestAnimationFrame)||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=I0;return((null==e?void 0:e.cancelAnimationFrame)||cancelAnimationFrame)(...n)},delegate:void 0};var pk=P(7565);new class qF extends pk.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class zF extends fk.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=I0.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(e,t,r);const{actions:a}=e;null!=t&&(null===(i=a[a.length-1])||void 0===i?void 0:i.id)!==t&&(I0.cancelAnimationFrame(t),e._scheduled=void 0)}});let sA,ZF=1;const FD={};function gk(n){return n in FD&&(delete FD[n],!0)}const KF={setImmediate(n){const e=ZF++;return FD[e]=!0,sA||(sA=Promise.resolve()),sA.then(()=>gk(e)&&n()),e},clearImmediate(n){gk(n)}},{setImmediate:YF,clearImmediate:QF}=KF,LD={setImmediate(...n){const{delegate:e}=LD;return((null==e?void 0:e.setImmediate)||YF)(...n)},clearImmediate(n){const{delegate:e}=LD;return((null==e?void 0:e.clearImmediate)||QF)(n)},delegate:void 0};new class JF extends pk.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class XF extends fk.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=LD.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(e,t,r);const{actions:a}=e;null!=t&&(null===(i=a[a.length-1])||void 0===i?void 0:i.id)!==t&&(LD.clearImmediate(t),e._scheduled=void 0)}});var nL=P(3532);function mk(n,e=Wf.z){return function tL(n){return(0,Un.e)((e,t)=>{let r=!1,i=null,a=null,c=!1;const f=()=>{if(null==a||a.unsubscribe(),a=null,r){r=!1;const E=i;i=null,t.next(E)}c&&t.complete()},_=()=>{a=null,c&&t.complete()};e.subscribe((0,qn.x)(t,E=>{r=!0,i=E,a||(0,eo.Xf)(n(E)).subscribe(a=(0,qn.x)(t,f,_))},()=>{c=!0,(!r||!a||a.closed)&&t.complete()}))})}(()=>function iL(n=0,e,t=Wf.P){let r=-1;return null!=e&&((0,nL.K)(e)?t=e:r=e),new Tn.y(i=>{let a=function rL(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;a<0&&(a=0);let c=0;return t.schedule(function(){i.closed||(i.next(c++),0<=r?this.schedule(void 0,r):i.complete())},a)})}(n,e))}let oA;try{oA="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){oA=!1}let _g,mg=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function Ir(n){return n===vo}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!oA)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.Lbi))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function oL(){if(null==_g){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return _g=!1,_g;if("scrollBehavior"in document.documentElement.style)_g=!0;else{const n=Element.prototype.scrollTo;_g=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return _g}function vk(n){return n.composedPath?n.composedPath()[0]:n.target}function bk(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}const lL=new d.OlP("cdk-dir-doc",{providedIn:"root",factory:function cL(){return(0,d.f3M)(se)}}),uL=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let hL=(()=>{class n{constructor(t){if(this.value="ltr",this.change=new d.vpe,t){const i=t.documentElement?t.documentElement.dir:null;this.value=function dL(n){const e=(null==n?void 0:n.toLowerCase())||"";return"auto"===e&&"undefined"!=typeof navigator&&(null==navigator?void 0:navigator.language)?uL.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||i||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(lL,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),lA=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})(),pL=(()=>{class n{constructor(t,r,i){this._ngZone=t,this._platform=r,this._scrolled=new an.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=i}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const r=this.scrollContainers.get(t);r&&(r.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new Tn.y(r=>{this._globalSubscription||this._addGlobalListener();const i=t>0?this._scrolled.pipe(mk(t)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{i.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):ot()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(t,r){const i=this.getAncestorScrollContainers(t);return this.scrolled(r).pipe(ln(a=>!a||i.indexOf(a)>-1))}getAncestorScrollContainers(t){const r=[];return this.scrollContainers.forEach((i,a)=>{this._scrollableContainsElement(a,t)&&r.push(a)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,r){let i=function LF(n){return n instanceof d.SBq?n.nativeElement:n}(r),a=t.getElementRef().nativeElement;do{if(i==a)return!0}while(i=i.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>uf(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.R0b),d.LFG(mg),d.LFG(se,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ek=(()=>{class n{constructor(t,r,i){this._platform=t,this._change=new an.x,this._changeListener=a=>{this._change.next(a)},this._document=i,r.runOutsideAngular(()=>{if(t.isBrowser){const a=this._getWindow();a.addEventListener("resize",this._changeListener),a.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:r,height:i}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+i,right:t.left+r,height:i,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,r=this._getWindow(),i=t.documentElement,a=i.getBoundingClientRect();return{top:-a.top||t.body.scrollTop||r.scrollY||i.scrollTop||0,left:-a.left||t.body.scrollLeft||r.scrollX||i.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(mk(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(mg),d.LFG(d.R0b),d.LFG(se,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),wk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})(),Ck=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[lA,wk],lA,wk]}),n})();class cA{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class uA extends cA{constructor(e,t,r,i){super(),this.component=e,this.viewContainerRef=t,this.injector=r,this.componentFactoryResolver=i}}class dA extends cA{constructor(e,t,r){super(),this.templateRef=e,this.viewContainerRef=t,this.context=r}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class mL extends cA{constructor(e){super(),this.element=e instanceof d.SBq?e.nativeElement:e}}class Dk{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof uA?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof dA?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof mL?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class _L extends Dk{constructor(e,t,r,i,a){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=r,this._defaultInjector=i,this.attachDomPortal=c=>{const f=c.element,_=this._document.createComment("dom-portal");f.parentNode.insertBefore(_,f),this.outletElement.appendChild(f),this._attachedPortal=c,super.setDisposeFn(()=>{_.parentNode&&_.parentNode.replaceChild(f,_)})},this._document=a}attachComponentPortal(e){const r=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let i;return e.viewContainerRef?(i=e.viewContainerRef.createComponent(r,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector),this.setDisposeFn(()=>i.destroy())):(i=r.create(e.injector||this._defaultInjector||d.zs3.NULL),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(i.hostView),i.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(i)),this._attachedPortal=e,i}attachTemplatePortal(e){let t=e.viewContainerRef,r=t.createEmbeddedView(e.templateRef,e.context);return r.rootNodes.forEach(i=>this.outletElement.appendChild(i)),r.detectChanges(),this.setDisposeFn(()=>{let i=t.indexOf(r);-1!==i&&t.remove(i)}),this._attachedPortal=e,r}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let Ik=(()=>{class n extends Dk{constructor(t,r,i){super(),this._componentFactoryResolver=t,this._viewContainerRef=r,this._isInitialized=!1,this.attached=new d.vpe,this.attachDomPortal=a=>{const c=a.element,f=this._document.createComment("dom-portal");a.setAttachedHost(this),c.parentNode.insertBefore(f,c),this._getRootNode().appendChild(c),this._attachedPortal=a,super.setDisposeFn(()=>{f.parentNode&&f.parentNode.replaceChild(c,f)})},this._document=i}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(t){t.setAttachedHost(this);const r=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,a=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),c=r.createComponent(a,r.length,t.injector||r.injector);return r!==this._viewContainerRef&&this._getRootNode().appendChild(c.hostView.rootNodes[0]),super.setDisposeFn(()=>c.destroy()),this._attachedPortal=t,this._attachedRef=c,this.attached.emit(c),c}attachTemplatePortal(t){t.setAttachedHost(this);const r=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=r,this.attached.emit(r),r}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d._Vd),d.Y36(d.s_b),d.Y36(se))},n.\u0275dir=d.lG2({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[d.qOj]}),n})(),hA=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})();var yL=P(5032);function Ku(n){return(0,Un.e)((e,t)=>{(0,eo.Xf)(n).subscribe((0,qn.x)(t,()=>t.complete(),yL.Z)),!t.closed&&e.subscribe(t)})}const Tk=oL();class vL{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=ii(-this._previousScrollPosition.left),e.style.top=ii(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,r=e.style,i=this._document.body.style,a=r.scrollBehavior||"",c=i.scrollBehavior||"";this._isEnabled=!1,r.left=this._previousHTMLStyles.left,r.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),Tk&&(r.scrollBehavior=i.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),Tk&&(r.scrollBehavior=a,i.scrollBehavior=c)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,r=this._viewportRuler.getViewportSize();return t.scrollHeight>r.height||t.scrollWidth>r.width}}class bL{constructor(e,t,r,i){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=r,this._config=i,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class Sk{enable(){}disable(){}attach(){}}function fA(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function Ak(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class EL{constructor(e,t,r,i){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=r,this._config=i,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:r,height:i}=this._viewportRuler.getViewportSize();fA(t,[{width:r,height:i,bottom:i,right:r,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let wL=(()=>{class n{constructor(t,r,i,a){this._scrollDispatcher=t,this._viewportRuler=r,this._ngZone=i,this.noop=()=>new Sk,this.close=c=>new bL(this._scrollDispatcher,this._ngZone,this._viewportRuler,c),this.block=()=>new vL(this._viewportRuler,this._document),this.reposition=c=>new EL(this._scrollDispatcher,this._viewportRuler,this._ngZone,c),this._document=a}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(pL),d.LFG(Ek),d.LFG(d.R0b),d.LFG(se))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class pA{constructor(e){if(this.scrollStrategy=new Sk,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const r of t)void 0!==e[r]&&(this[r]=e[r])}}}class CL{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}class DL{constructor(e,t,r,i,a,c,f,_,E){this._portalOutlet=e,this._host=t,this._pane=r,this._config=i,this._ngZone=a,this._keyboardDispatcher=c,this._document=f,this._location=_,this._outsideClickDispatcher=E,this._backdropElement=null,this._backdropClick=new an.x,this._attachments=new an.x,this._detachments=new an.x,this._locationChanges=ss.w0.EMPTY,this._backdropClickHandler=I=>this._backdropClick.next(I),this._backdropTransitionendHandler=I=>{this._disposeBackdrop(I.target)},this._keydownEvents=new an.x,this._outsidePointerEvents=new an.x,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Fi(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){var e;const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),null===(e=this._host)||void 0===e||e.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config=Object.assign(Object.assign({},this._config),e),this._updateElementSize()}setDirection(e){this._config=Object.assign(Object.assign({},this._config),{direction:e}),this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=ii(this._config.width),e.height=ii(this._config.height),e.minWidth=ii(this._config.minWidth),e.minHeight=ii(this._config.minHeight),e.maxWidth=ii(this._config.maxWidth),e.maxHeight=ii(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;!e||(e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500)))}_toggleClasses(e,t,r){const i=ND(t||[]).filter(a=>!!a);i.length&&(r?e.classList.add(...i):e.classList.remove(...i))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(Ku((0,gx.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}let Mk=(()=>{class n{constructor(t,r){this._platform=r,this._document=t}ngOnDestroy(){var t;null===(t=this._containerElement)||void 0===t||t.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||bk()){const i=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let a=0;a<i.length;a++)i[a].remove()}const r=this._document.createElement("div");r.classList.add(t),bk()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(se),d.LFG(mg))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const xk="cdk-overlay-connected-position-bounding-box",IL=/([A-Za-z%]+)$/;class TL{constructor(e,t,r,i,a){this._viewportRuler=t,this._document=r,this._platform=i,this._overlayContainer=a,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new an.x,this._resizeSubscription=ss.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}get positions(){return this._preferredPositions}attach(e){this._validatePositions(),e.hostElement.classList.add(xk),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,r=this._viewportRect,i=this._containerRect,a=[];let c;for(let f of this._preferredPositions){let _=this._getOriginPoint(e,i,f),E=this._getOverlayPoint(_,t,f),I=this._getOverlayFit(E,t,r,f);if(I.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(f,_);this._canFitWithFlexibleDimensions(I,E,r)?a.push({position:f,origin:_,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(_,f)}):(!c||c.overlayFit.visibleArea<I.visibleArea)&&(c={overlayFit:I,overlayPoint:E,originPoint:_,position:f,overlayRect:t})}if(a.length){let f=null,_=-1;for(const E of a){const I=E.boundingBoxRect.width*E.boundingBoxRect.height*(E.position.weight||1);I>_&&(_=I,f=E)}return this._isPushed=!1,void this._applyPosition(f.position,f.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(c.position,c.originPoint);this._applyPosition(c.position,c.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&yg(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(xk),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,r){let i,a;if("center"==r.originX)i=e.left+e.width/2;else{const c=this._isRtl()?e.right:e.left,f=this._isRtl()?e.left:e.right;i="start"==r.originX?c:f}return t.left<0&&(i-=t.left),a="center"==r.originY?e.top+e.height/2:"top"==r.originY?e.top:e.bottom,t.top<0&&(a-=t.top),{x:i,y:a}}_getOverlayPoint(e,t,r){let i,a;return i="center"==r.overlayX?-t.width/2:"start"===r.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,a="center"==r.overlayY?-t.height/2:"top"==r.overlayY?0:-t.height,{x:e.x+i,y:e.y+a}}_getOverlayFit(e,t,r,i){const a=kk(t);let{x:c,y:f}=e,_=this._getOffset(i,"x"),E=this._getOffset(i,"y");_&&(c+=_),E&&(f+=E);let F=0-f,B=f+a.height-r.height,j=this._subtractOverflows(a.width,0-c,c+a.width-r.width),le=this._subtractOverflows(a.height,F,B),Te=j*le;return{visibleArea:Te,isCompletelyWithinViewport:a.width*a.height===Te,fitsInViewportVertically:le===a.height,fitsInViewportHorizontally:j==a.width}}_canFitWithFlexibleDimensions(e,t,r){if(this._hasFlexibleDimensions){const i=r.bottom-t.y,a=r.right-t.x,c=Rk(this._overlayRef.getConfig().minHeight),f=Rk(this._overlayRef.getConfig().minWidth),E=e.fitsInViewportHorizontally||null!=f&&f<=a;return(e.fitsInViewportVertically||null!=c&&c<=i)&&E}return!1}_pushOverlayOnScreen(e,t,r){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const i=kk(t),a=this._viewportRect,c=Math.max(e.x+i.width-a.width,0),f=Math.max(e.y+i.height-a.height,0),_=Math.max(a.top-r.top-e.y,0),E=Math.max(a.left-r.left-e.x,0);let I=0,x=0;return I=i.width<=a.width?E||-c:e.x<this._viewportMargin?a.left-r.left-e.x:0,x=i.height<=a.height?_||-f:e.y<this._viewportMargin?a.top-r.top-e.y:0,this._previousPushAmount={x:I,y:x},{x:e.x+I,y:e.y+x}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const r=this._getScrollVisibility(),i=new CL(e,r);this._positionChanges.next(i)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let r,i=e.overlayY;r="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let a=0;a<t.length;a++)t[a].style.transformOrigin=`${r} ${i}`}_calculateBoundingBoxRect(e,t){const r=this._viewportRect,i=this._isRtl();let a,c,f,I,x,F;if("top"===t.overlayY)c=e.y,a=r.height-c+this._viewportMargin;else if("bottom"===t.overlayY)f=r.height-e.y+2*this._viewportMargin,a=r.height-f+this._viewportMargin;else{const B=Math.min(r.bottom-e.y+r.top,e.y),j=this._lastBoundingBoxSize.height;a=2*B,c=e.y-B,a>j&&!this._isInitialRender&&!this._growAfterOpen&&(c=e.y-j/2)}if("end"===t.overlayX&&!i||"start"===t.overlayX&&i)F=r.width-e.x+this._viewportMargin,I=e.x-this._viewportMargin;else if("start"===t.overlayX&&!i||"end"===t.overlayX&&i)x=e.x,I=r.right-e.x;else{const B=Math.min(r.right-e.x+r.left,e.x),j=this._lastBoundingBoxSize.width;I=2*B,x=e.x-B,I>j&&!this._isInitialRender&&!this._growAfterOpen&&(x=e.x-j/2)}return{top:c,left:x,bottom:f,right:F,width:I,height:a}}_setBoundingBoxStyles(e,t){const r=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(r.height=Math.min(r.height,this._lastBoundingBoxSize.height),r.width=Math.min(r.width,this._lastBoundingBoxSize.width));const i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{const a=this._overlayRef.getConfig().maxHeight,c=this._overlayRef.getConfig().maxWidth;i.height=ii(r.height),i.top=ii(r.top),i.bottom=ii(r.bottom),i.width=ii(r.width),i.left=ii(r.left),i.right=ii(r.right),i.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",i.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",a&&(i.maxHeight=ii(a)),c&&(i.maxWidth=ii(c))}this._lastBoundingBoxSize=r,yg(this._boundingBox.style,i)}_resetBoundingBoxStyles(){yg(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){yg(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const r={},i=this._hasExactPosition(),a=this._hasFlexibleDimensions,c=this._overlayRef.getConfig();if(i){const I=this._viewportRuler.getViewportScrollPosition();yg(r,this._getExactOverlayY(t,e,I)),yg(r,this._getExactOverlayX(t,e,I))}else r.position="static";let f="",_=this._getOffset(t,"x"),E=this._getOffset(t,"y");_&&(f+=`translateX(${_}px) `),E&&(f+=`translateY(${E}px)`),r.transform=f.trim(),c.maxHeight&&(i?r.maxHeight=ii(c.maxHeight):a&&(r.maxHeight="")),c.maxWidth&&(i?r.maxWidth=ii(c.maxWidth):a&&(r.maxWidth="")),yg(this._pane.style,r)}_getExactOverlayY(e,t,r){let i={top:"",bottom:""},a=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(a=this._pushOverlayOnScreen(a,this._overlayRect,r)),"bottom"===e.overlayY?i.bottom=this._document.documentElement.clientHeight-(a.y+this._overlayRect.height)+"px":i.top=ii(a.y),i}_getExactOverlayX(e,t,r){let c,i={left:"",right:""},a=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(a=this._pushOverlayOnScreen(a,this._overlayRect,r)),c=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===c?i.right=this._document.documentElement.clientWidth-(a.x+this._overlayRect.width)+"px":i.left=ii(a.x),i}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),r=this._scrollables.map(i=>i.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:Ak(e,r),isOriginOutsideView:fA(e,r),isOverlayClipped:Ak(t,r),isOverlayOutsideView:fA(t,r)}}_subtractOverflows(e,...t){return t.reduce((r,i)=>r-Math.max(i,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,r=this._viewportRuler.getViewportScrollPosition();return{top:r.top+this._viewportMargin,left:r.left+this._viewportMargin,right:r.left+e-this._viewportMargin,bottom:r.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&ND(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof d.SBq)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,r=e.height||0;return{top:e.y,bottom:e.y+r,left:e.x,right:e.x+t,height:r,width:t}}}function yg(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function Rk(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(IL);return t&&"px"!==t?null:parseFloat(e)}return n||null}function kk(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const Ok="cdk-global-overlay-wrapper";class SL{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(Ok),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._rightOffset="",this._leftOffset=e,this._justifyContent="flex-start",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._leftOffset="",this._rightOffset=e,this._justifyContent="flex-end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._justifyContent="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,r=this._overlayRef.getConfig(),{width:i,height:a,maxWidth:c,maxHeight:f}=r,_=!("100%"!==i&&"100vw"!==i||c&&"100%"!==c&&"100vw"!==c),E=!("100%"!==a&&"100vh"!==a||f&&"100%"!==f&&"100vh"!==f);e.position=this._cssPosition,e.marginLeft=_?"0":this._leftOffset,e.marginTop=E?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=this._rightOffset,_?t.justifyContent="flex-start":"center"===this._justifyContent?t.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?t.justifyContent="flex-end":"flex-end"===this._justifyContent&&(t.justifyContent="flex-start"):t.justifyContent=this._justifyContent,t.alignItems=E?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,r=t.style;t.classList.remove(Ok),r.justifyContent=r.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let Pk=(()=>{class n{constructor(t,r,i,a){this._viewportRuler=t,this._document=r,this._platform=i,this._overlayContainer=a}global(){return new SL}flexibleConnectedTo(t){return new TL(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Ek),d.LFG(se),d.LFG(mg),d.LFG(Mk))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Nk=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const r=this._attachedOverlays.indexOf(t);r>-1&&this._attachedOverlays.splice(r,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(se))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),AL=(()=>{class n extends Nk{constructor(t,r){super(t),this._ngZone=r,this._keydownListener=i=>{const a=this._attachedOverlays;for(let c=a.length-1;c>-1;c--)if(a[c]._keydownEvents.observers.length>0){const f=a[c]._keydownEvents;this._ngZone?this._ngZone.run(()=>f.next(i)):f.next(i);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(se),d.LFG(d.R0b,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ML=(()=>{class n extends Nk{constructor(t,r,i){super(t),this._platform=r,this._ngZone=i,this._cursorStyleIsSet=!1,this._pointerDownListener=a=>{this._pointerDownEventTarget=vk(a)},this._clickListener=a=>{const c=vk(a),f="click"===a.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:c;this._pointerDownEventTarget=null;const _=this._attachedOverlays.slice();for(let E=_.length-1;E>-1;E--){const I=_[E];if(I._outsidePointerEvents.observers.length<1||!I.hasAttached())continue;if(I.overlayElement.contains(c)||I.overlayElement.contains(f))break;const x=I._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>x.next(a)):x.next(a)}}}add(t){if(super.add(t),!this._isAttached){const r=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(r)):this._addEventListeners(r),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(se),d.LFG(mg),d.LFG(d.R0b,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),xL=0,BD=(()=>{class n{constructor(t,r,i,a,c,f,_,E,I,x,F){this.scrollStrategies=t,this._overlayContainer=r,this._componentFactoryResolver=i,this._positionBuilder=a,this._keyboardDispatcher=c,this._injector=f,this._ngZone=_,this._document=E,this._directionality=I,this._location=x,this._outsideClickDispatcher=F}create(t){const r=this._createHostElement(),i=this._createPaneElement(r),a=this._createPortalOutlet(i),c=new pA(t);return c.direction=c.direction||this._directionality.value,new DL(a,r,i,c,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(t){const r=this._document.createElement("div");return r.id="cdk-overlay-"+xL++,r.classList.add("cdk-overlay-pane"),t.appendChild(r),r}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(d.z2F)),new _L(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(wL),d.LFG(Mk),d.LFG(d._Vd),d.LFG(Pk),d.LFG(AL),d.LFG(d.zs3),d.LFG(d.R0b),d.LFG(se),d.LFG(hL),d.LFG(ye),d.LFG(ML))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const OL={provide:new d.OlP("cdk-connected-overlay-scroll-strategy"),deps:[BD],useFactory:function kL(n){return()=>n.scrollStrategies.reposition()}};let UD=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[BD,OL],imports:[[lA,hA,Ck],Ck]}),n})();class Fk{}const Yu="*";function NL(n,e){return{type:7,name:n,definitions:e,options:{}}}function Lk(n,e=null){return{type:4,styles:e,timings:n}}function Vk(n,e=null){return{type:2,steps:n,options:e}}function S0(n){return{type:6,styles:n,offset:null}}function Bk(n,e,t){return{type:0,name:n,styles:e,options:t}}function Uk(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function jk(n){Promise.resolve(null).then(n)}class A0{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){jk(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class Hk{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const a=this.players.length;0==a?jk(()=>this._onFinish()):this.players.forEach(c=>{c.onDone(()=>{++t==a&&this._onFinish()}),c.onDestroy(()=>{++r==a&&this._onDestroy()}),c.onStart(()=>{++i==a&&this._onStart()})}),this.totalTime=this.players.reduce((c,f)=>Math.max(c,f.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}const $k=new Set;let cy,VL=(()=>{class n{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):UL}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function BL(n){if(!$k.has(n))try{cy||(cy=document.createElement("style"),cy.setAttribute("type","text/css"),document.head.appendChild(cy)),cy.sheet&&(cy.sheet.insertRule(`@media ${n} {body{ }}`,0),$k.add(n))}catch(e){console.error(e)}}(t),this._matchMedia(t)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(mg))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function UL(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let jL=(()=>{class n{constructor(t,r){this._mediaMatcher=t,this._zone=r,this._queries=new Map,this._destroySubject=new an.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return Gk(ND(t)).some(i=>this._registerQuery(i).mql.matches)}observe(t){let a=Ya(Gk(ND(t)).map(c=>this._registerQuery(c).observable));return a=ga(a.pipe(Fi(1)),a.pipe(function FL(n){return ln((e,t)=>n<=t)}(1),function LL(n,e=Wf.z){return(0,Un.e)((t,r)=>{let i=null,a=null,c=null;const f=()=>{if(i){i.unsubscribe(),i=null;const E=a;a=null,r.next(E)}};function _(){const E=c+n,I=e.now();if(I<E)return i=this.schedule(void 0,E-I),void r.add(i);f()}t.subscribe((0,qn.x)(r,E=>{a=E,c=e.now(),i||(i=e.schedule(_,n),r.add(i))},()=>{f(),r.complete()},void 0,()=>{a=i=null}))})}(0))),a.pipe((0,Dt.U)(c=>{const f={matches:!1,breakpoints:{}};return c.forEach(({matches:_,query:E})=>{f.matches=f.matches||_,f.breakpoints[E]=_}),f}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const r=this._mediaMatcher.matchMedia(t),a={observable:new Tn.y(c=>{const f=_=>this._zone.run(()=>c.next(_));return r.addListener(f),()=>{r.removeListener(f)}}).pipe(Ei(r),(0,Dt.U)(({matches:c})=>({query:t,matches:c})),Ku(this._destroySubject)),mql:r};return this._queries.set(t,a),a}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(VL),d.LFG(d.R0b))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Gk(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}const HL=["dropdownTemplate"],$L=["mdbDropdown",""];function GL(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"div"),d.NdJ("@fade.done",function(i){return d.CHM(t),d.oxw().onAnimationEnd(i)}),d.Hsn(1,2),d.qZA()}if(2&n){const t=d.oxw();d.Q6J("@fade",t._animationState)("@.disabled",!t.animation)}}const zL=["*",[["",8,"dropdown-toggle"]],[["",8,"dropdown-menu"]]],qL=["*",".dropdown-toggle",".dropdown-menu"];let zk=(()=>{class n{constructor(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=d.lG2({type:n,selectors:[["","mdbDropdownToggle",""]],exportAs:["mdbDropdownToggle"]}),n})(),qk=(()=>{class n{constructor(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=d.lG2({type:n,selectors:[["","mdbDropdownMenu",""]],exportAs:["mdbDropdownMenu"]}),n})(),WL=(()=>{class n{constructor(t,r,i,a,c,f){this._overlay=t,this._overlayPositionBuilder=r,this._elementRef=i,this._vcr=a,this._breakpointObserver=c,this._cdRef=f,this._animation=!0,this.offset=0,this.closeOnOutsideClick=!0,this.closeOnItemClick=!0,this.closeOnEsc=!0,this.dropdownShow=new d.vpe,this.dropdownShown=new d.vpe,this.dropdownHide=new d.vpe,this.dropdownHidden=new d.vpe,this._open=!1,this._breakpoints={isSm:this._breakpointObserver.isMatched("(min-width: 576px)"),isMd:this._breakpointObserver.isMatched("(min-width: 768px)"),isLg:this._breakpointObserver.isMatched("(min-width: 992px)"),isXl:this._breakpointObserver.isMatched("(min-width: 1200px)"),isXxl:this._breakpointObserver.isMatched("(min-width: 1400px)")},this._destroy$=new an.x,this._animationState="hidden"}get animation(){return this._animation}set animation(t){this._animation=cf(t)}ngAfterContentInit(){this._bindDropdownToggleClick()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.detach(),this._overlayRef.dispose()),this._destroy$.next(),this._destroy$.complete()}_bindDropdownToggleClick(){uf(this._dropdownToggle.nativeElement,"click").pipe(Ku(this._destroy$)).subscribe(()=>this.toggle())}_createOverlayConfig(){return new pA({hasBackdrop:!1,scrollStrategy:this._overlay.scrollStrategies.reposition(),positionStrategy:this._createPositionStrategy()})}_createOverlay(){this._overlayRef=this._overlay.create(this._createOverlayConfig())}_createPositionStrategy(){return this._overlayPositionBuilder.flexibleConnectedTo(this._dropdownToggle).withPositions(this._getPosition()).withFlexibleDimensions(!1)}_getPosition(){this._isDropUp=this._elementRef.nativeElement.classList.contains("dropup"),this._isDropStart=this._elementRef.nativeElement.classList.contains("dropstart"),this._isDropEnd=this._elementRef.nativeElement.classList.contains("dropend"),this._isDropdownMenuEnd=this._dropdownMenu.nativeElement.classList.contains("dropdown-menu-end"),this._xPosition=this._isDropdownMenuEnd?"end":"start";const t=new RegExp(/dropdown-menu-(sm|md|lg|xl|xxl)-(start|end)/,"g"),r=this._dropdownMenu.nativeElement.className.match(t);if(r){this._subscribeBrakpoints();const E=new RegExp(/start|end/,"g"),I=new RegExp(/(sm|md|lg|xl|xxl)/,"g"),x=E.exec(r)[0],F=I.exec(r)[0];switch(!0){case"xxl"===F&&this._breakpoints.isXxl:case"xl"===F&&this._breakpoints.isXl:case"lg"===F&&this._breakpoints.isLg:case"md"===F&&this._breakpoints.isMd:case"sm"===F&&this._breakpoints.isSm:this._xPosition=x}}let i;const a={originX:this._xPosition,originY:"top",overlayX:this._xPosition,overlayY:"bottom",offsetY:-this.offset},c={originX:this._xPosition,originY:"bottom",overlayX:this._xPosition,overlayY:"top",offsetY:this.offset},f={originX:"start",originY:"top",overlayX:"end",overlayY:"top",offsetX:this.offset},_={originX:"end",originY:"top",overlayX:"start",overlayY:"top",offsetX:-this.offset};switch(!0){case this._isDropEnd:i=[_,f];break;case this._isDropStart:i=[f,_];break;case this._isDropUp:i=[a,c];break;default:i=[c,a]}return i}_listenToEscKeyup(t){return uf(document,"keyup").pipe(ln(r=>"Escape"===r.key),Ku(t.detachments()))}_listenToClick(t,r){return uf(document,"click").pipe(ln(i=>{const a=i.target,c=this._dropdownMenu.nativeElement.contains(a),f=!this._dropdownToggle.nativeElement.contains(a),_=!c||a.classList&&a.classList.contains("dropdown-item");return a!==r&&f&&_}),Ku(t.detachments()))}onAnimationEnd(t){"visible"===t.fromState&&"hidden"===t.toState&&(this._overlayRef.detach(),this._open=!1,this.dropdownHidden.emit(this)),"hidden"===t.fromState&&"visible"===t.toState&&this.dropdownShown.emit(this)}_subscribeBrakpoints(){const t=["(min-width: 576px)","(min-width: 768px)","(min-width: 992px)","(min-width: 1200px)","(min-width: 1400px)"];this._breakpointSubscription=this._breakpointObserver.observe(t).pipe(Ku(this._destroy$)).subscribe(r=>{Object.keys(this._breakpoints).forEach((i,a)=>{const f=r.breakpoints[t[a]];f!==this._breakpoints[i]&&(this._breakpoints[i]=f,this._open&&this._overlayRef.updatePositionStrategy(this._createPositionStrategy()))})})}show(){this._cdRef.markForCheck(),!this._open&&(this._overlayRef||this._createOverlay(),this._portal=new dA(this._template,this._vcr),this.dropdownShow.emit(this),this._open=!0,this._overlayRef.attach(this._portal),this._listenToEscKeyup(this._overlayRef).subscribe(t=>{t&&this.closeOnEsc&&this.hide()}),this._overlayRef.keydownEvents().pipe(Ku(this._overlayRef.detachments())).subscribe(t=>{this._handleKeyboardNavigation(t)}),this._listenToClick(this._overlayRef,this._dropdownToggle.nativeElement).subscribe(t=>{const r=t.target,i=r.classList&&r.classList.contains("dropdown-item");this.closeOnItemClick&&i?this.hide():!this.closeOnOutsideClick||i||this.hide()}),this._animationState="visible")}_handleKeyboardNavigation(t){const r=Array.from(this._dropdownMenu.nativeElement.querySelectorAll(".dropdown-item")),i=t.key;if(0===r.length)return;let c=r.indexOf(this._dropdownMenu.nativeElement.ownerDocument.activeElement);switch(i){case"ArrowDown":t.preventDefault(),c=Math.min(c+1,r.length-1);break;case"ArrowUp":if(t.preventDefault(),-1===c){c=r.length-1;break}c=Math.max(c-1,0)}const f=r[c];f&&f.focus()}hide(){this._cdRef.markForCheck(),this._open&&(this.dropdownHide.emit(this),this._animationState="hidden")}toggle(){this._cdRef.markForCheck(),this._open?this.hide():this.show()}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(BD),d.Y36(Pk),d.Y36(d.SBq),d.Y36(d.s_b),d.Y36(jL),d.Y36(d.sBO))},n.\u0275cmp=d.Xpm({type:n,selectors:[["","mdbDropdown",""]],contentQueries:function(t,r,i){if(1&t&&(d.Suo(i,zk,5,d.SBq),d.Suo(i,qk,5,d.SBq)),2&t){let a;d.iGM(a=d.CRH())&&(r._dropdownToggle=a.first),d.iGM(a=d.CRH())&&(r._dropdownMenu=a.first)}},viewQuery:function(t,r){if(1&t&&d.Gf(HL,5),2&t){let i;d.iGM(i=d.CRH())&&(r._template=i.first)}},inputs:{animation:"animation",offset:"offset",closeOnOutsideClick:"closeOnOutsideClick",closeOnItemClick:"closeOnItemClick",closeOnEsc:"closeOnEsc"},outputs:{dropdownShow:"dropdownShow",dropdownShown:"dropdownShown",dropdownHide:"dropdownHide",dropdownHidden:"dropdownHidden"},attrs:$L,ngContentSelectors:qL,decls:4,vars:0,consts:[["dropdownTemplate",""]],template:function(t,r){1&t&&(d.F$t(zL),d.Hsn(0),d.Hsn(1,1),d.YNc(2,GL,2,2,"ng-template",null,0,d.W1O))},encapsulation:2,data:{animation:[NL("fade",[Bk("visible",S0({opacity:1})),Bk("hidden",S0({opacity:0})),Uk("visible => hidden",Lk("150ms linear")),Uk("hidden => visible",[S0({opacity:0}),Lk("150ms linear")])])]},changeDetection:0}),n})(),ZL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[ci,UD]]}),n})();const KL=function(){return["register"]},YL=function(){return["login"]};function QL(n,e){1&n&&(d.TgZ(0,"ul",18)(1,"li",12)(2,"a",11)(3,"span"),d._uU(4,"Registro"),d.qZA()()(),d.TgZ(5,"li",12)(6,"a",11)(7,"span"),d._uU(8,"Login"),d.qZA()()()()),2&n&&(d.xp6(2),d.Q6J("routerLink",d.DdM(2,KL)),d.xp6(4),d.Q6J("routerLink",d.DdM(3,YL)))}function XL(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"ul",18)(1,"li",12)(2,"a",19)(3,"strong",20),d._uU(4),d.qZA()()(),d.TgZ(5,"li",21)(6,"a",22),d._UZ(7,"i",23),d.qZA(),d.TgZ(8,"ul",24)(9,"li")(10,"a",25),d._uU(11,"Mi pefil"),d.qZA()(),d.TgZ(12,"li")(13,"a",25),d._uU(14,"Notificaciones"),d.qZA()(),d._UZ(15,"hr"),d.TgZ(16,"li")(17,"a",26),d.NdJ("click",function(){return d.CHM(t),d.oxw().logout()}),d._uU(18,"Cerrar Sesi\xf3n"),d.qZA()()()()()}if(2&n){const t=d.oxw();d.xp6(4),d.Oqu(t.name)}}const mA=function(){return["inicio"]},Wk=function(){return["sobre-mi"]},Zk=function(){return["chat"]};let JL=(()=>{class n{constructor(t){this.userSer=t,this.logged=0,this.toggle=0,this.name=""}ngOnInit(){this.name=localStorage.getItem("nameALED")}logout(){this.userSer.logout()}toggleMenu(){this.toggle=1==this.toggle?0:1}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(qf))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-navbar"]],decls:35,vars:17,consts:[[1,"navbar","navbar-expand-lg","navbar-dark","bg-dark"],[1,"container-fluid","justify-content-between"],[1,"d-flex"],[1,"navbar-brand","me-2","mb-1","d-flex","align-items-center",3,"routerLink"],["src","assets/images/logos/logochat.png","height","20","alt","","loading","lazy",2,"margin-top","2px"],[2,"font-size","16px","margin-left","5px"],[1,"container-fluid"],["type","button","data-mdb-toggle","collapse","data-mdb-target","#navbarToggleExternalContent","aria-controls","navbarToggleExternalContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler",2,"padding-top","6px",3,"click"],[1,"fas","fa-bars"],[1,"navbar-nav","flex-row","d-none","d-md-flex"],[1,"nav-item","me-3","me-lg-1","active"],[1,"nav-link",3,"routerLink"],[1,"nav-item","me-3","me-lg-1"],["class","navbar-nav flex-row",4,"ngIf"],["id","navbarToggleExternalContent",1,"collapse-menu",3,"ngClass"],[1,"menu-flex"],[1,"menu-item",3,"routerLink","click"],[1,"menu-close",3,"click"],[1,"navbar-nav","flex-row"],["href","#",1,"nav-link","d-sm-flex","align-items-sm-center"],[1,"d-none","d-sm-block","ms-1"],["mdbDropdown","",1,"nav-item","dropdown","me-3","me-lg-1"],["href","#","id","navbarDropdownMenuLink","role","button","mdbDropdownToggle","","aria-expanded","false",1,"nav-link","dropdown-toggle","hidden-arrow"],[1,"fas","fa-chevron-circle-down","fa-lg"],["mdbDropdownMenu","","aria-labelledby","navbarDropdownMenuLink",1,"dropdown-menu","dropdown-menu-end"],[1,"dropdown-item",2,"cursor","pointer"],[1,"dropdown-item",2,"cursor","pointer",3,"click"]],template:function(t,r){1&t&&(d.TgZ(0,"nav",0)(1,"div",1)(2,"div",2)(3,"a",3),d._UZ(4,"img",4),d.TgZ(5,"b",5),d._uU(6,"ChatApp"),d.qZA()(),d.TgZ(7,"div",6)(8,"button",7),d.NdJ("click",function(){return r.toggleMenu()}),d._UZ(9,"i",8),d.qZA()()(),d.TgZ(10,"ul",9)(11,"li",10)(12,"a",11)(13,"span"),d._uU(14,"Inicio"),d.qZA()()(),d.TgZ(15,"li",12)(16,"a",11)(17,"span"),d._uU(18,"Sobre mi"),d.qZA()()(),d.TgZ(19,"li",12)(20,"a",11)(21,"span"),d._uU(22,"Chat"),d.qZA()()()(),d.YNc(23,QL,9,4,"ul",13),d.YNc(24,XL,19,1,"ul",13),d.qZA()(),d.TgZ(25,"div",14)(26,"div",15)(27,"div",16),d.NdJ("click",function(){return r.toggleMenu()}),d._uU(28," Inicio "),d.qZA(),d.TgZ(29,"div",16),d.NdJ("click",function(){return r.toggleMenu()}),d._uU(30," Sobre mi "),d.qZA(),d.TgZ(31,"div",16),d.NdJ("click",function(){return r.toggleMenu()}),d._uU(32," Chat "),d.qZA(),d.TgZ(33,"div",17),d.NdJ("click",function(){return r.toggleMenu()}),d._uU(34," Cerrar Menu "),d.qZA()()()),2&t&&(d.xp6(3),d.Q6J("routerLink",d.DdM(10,mA)),d.xp6(9),d.Q6J("routerLink",d.DdM(11,mA)),d.xp6(4),d.Q6J("routerLink",d.DdM(12,Wk)),d.xp6(4),d.Q6J("routerLink",d.DdM(13,Zk)),d.xp6(3),d.Q6J("ngIf",!r.userSer.auth()),d.xp6(1),d.Q6J("ngIf",r.userSer.auth()),d.xp6(1),d.Q6J("ngClass",1==r.toggle?"show":"hide"),d.xp6(2),d.Q6J("routerLink",d.DdM(14,mA)),d.xp6(2),d.Q6J("routerLink",d.DdM(15,Wk)),d.xp6(2),d.Q6J("routerLink",d.DdM(16,Zk)))},directives:[wa,zn,WL,zk,qk,ki,du],styles:[".hide[_ngcontent-%COMP%]{height:calc(100vh - 52px);width:100vw;color:#fff;z-index:100;background-color:rgba(38,38,38,var(--mdb-bg-opacity))!important;position:absolute;display:flex;justify-content:center;align-items:center;margin:-100vh;transition:all .5s}.show[_ngcontent-%COMP%]{height:calc(100vh - 52px);width:100vw;color:#fff;z-index:100;background-color:rgba(38,38,38,var(--mdb-bg-opacity))!important;position:absolute;display:flex;justify-content:center;margin-left:0;transition:all .5s}.menu-flex[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-top:100px;color:#d3d3d3;list-style:none;font-size:28px}.menu-flex[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]{margin:20px 0}.menu-flex[_ngcontent-%COMP%]   .menu-close[_ngcontent-%COMP%]{margin-top:50px}"]}),n})();const jD=[0,0,0],iV=["primary","secondary","success","danger","warning","info","light","dark"];let sV=(()=>{class n{constructor(t,r){this._elementRef=t,this._renderer=r,this._rippleCentered=!1,this.rippleColor="",this.rippleDuration="500ms",this.rippleRadius=0,this._rippleUnbound=!1,this.ripple=!0}get rippleCentered(){return this._rippleCentered}set rippleCentered(t){this._rippleCentered=cf(t)}get rippleUnbound(){return this._rippleUnbound}set rippleUnbound(t){this._rippleUnbound=cf(t)}get host(){return this._elementRef.nativeElement}_createRipple(t){const{layerX:r,layerY:i}=t,a=r,c=i,f=this.host.offsetHeight,_=this.host.offsetWidth,E=function eV(n){return Number(n.replace("ms","").replace("s","000"))}(this.rippleDuration),x=function nV({offsetX:n,offsetY:e,height:t,width:r}){const i=e<=t/2,a=n<=r/2,c=(x,F)=>Math.sqrt(Math.pow(x,2)+Math.pow(F,2)),f=e===t/2&&n===r/2,__first=!0===i&&!1===a,__second=!0===i&&!0===a,__third=!1===i&&!0===a,__fourth=!1===i&&!1===a,E={topLeft:c(n,e),topRight:c(r-n,e),bottomLeft:c(n,t-e),bottomRight:c(r-n,t-e)};let I=0;return f||__fourth?I=E.topLeft:__third?I=E.topRight:__second?I=E.bottomRight:__first&&(I=E.bottomLeft),2*I}({offsetX:this.rippleCentered?f/2:a,offsetY:this.rippleCentered?_/2:c,height:f,width:_}),F=this.rippleRadius||x/2,j={left:this.rippleCentered?_/2-F+"px":a-F+"px",top:this.rippleCentered?f/2-F+"px":c-F+"px",height:`${2*this.rippleRadius||x}px`,width:`${2*this.rippleRadius||x}px`,transitionDelay:`0s, ${.5*E}ms`,transitionDuration:`${E}ms, ${E-.5*E}ms`},le=this._renderer.createElement("div");this._createHTMLRipple(this.host,le,j),this._removeHTMLRipple(le,E)}_createHTMLRipple(t,r,i){Object.keys(i).forEach(a=>r.style[a]=i[a]),this._renderer.addClass(r,"ripple-wave"),""!==this.rippleColor&&(this._removeOldColorClasses(t),this._addColor(r,t)),this._toggleUnbound(t),this._appendRipple(r,t)}_removeHTMLRipple(t,r){setTimeout(()=>{t&&t.remove()},r)}_appendRipple(t,r){this._renderer.appendChild(r,t),setTimeout(()=>{this._renderer.addClass(t,"active")},50)}_toggleUnbound(t){this.rippleUnbound?this._renderer.addClass(t,"ripple-surface-unbound"):this._renderer.removeClass(t,"ripple-surface-unbound")}_addColor(t,r){if(iV.find(a=>a===this.rippleColor.toLowerCase()))this._renderer.addClass(r,`ripple-surface-${this.rippleColor.toLowerCase()}`);else{const a=function tV(n){return"transparent"===n.toLowerCase()?jD:"#"===n[0]?function e(i){return i.length<7&&(i=`#${i[1]}${i[1]}${i[2]}${i[2]}${i[3]}${i[3]}`),[parseInt(i.substr(1,2),16),parseInt(i.substr(3,2),16),parseInt(i.substr(5,2),16)]}(n):(-1===n.indexOf("rgb")&&(n=function t(i){const a=document.body.appendChild(document.createElement("fictum")),c="rgb(1, 2, 3)";return a.style.color=c,a.style.color!==c||(a.style.color=i,a.style.color===c||""===a.style.color)?jD:(i=getComputedStyle(a).color,document.body.removeChild(a),i)}(n)),0===n.indexOf("rgb")?function r(i){return(i=i.match(/[.\d]+/g).map(a=>+Number(a))).length=3,i}(n):jD)}(this.rippleColor).join(","),c="rgba({{color}}, 0.2) 0, rgba({{color}}, 0.3) 40%, rgba({{color}}, 0.4) 50%, rgba({{color}}, 0.5) 60%, rgba({{color}}, 0) 70%".split("{{color}}").join(`${a}`);t.style.backgroundImage=`radial-gradient(circle, ${c})`}}_removeOldColorClasses(t){const r=new RegExp("ripple-surface-[a-z]+","gi");(t.classList.value.match(r)||[]).forEach(a=>{this._renderer.removeClass(t,a)})}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.SBq),d.Y36(d.Qsj))},n.\u0275dir=d.lG2({type:n,selectors:[["","mdbRipple",""]],hostVars:2,hostBindings:function(t,r){1&t&&d.NdJ("click",function(a){return r._createRipple(a)}),2&t&&d.ekj("ripple-surface",r.ripple)},inputs:{rippleCentered:"rippleCentered",rippleColor:"rippleColor",rippleDuration:"rippleDuration",rippleRadius:"rippleRadius",rippleUnbound:"rippleUnbound"},exportAs:["mdbRipple"]}),n})(),oV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[]]}),n})(),aV=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-footer"]],decls:13,vars:0,consts:[[1,"text-center","text-white",2,"background-color","#dcdcdc"],[1,"container","pt-1"],[1,"mb-1"],["mdbRipple","","rippleColor","dark","href","https://www.instagram.com/j.calderon7/","role","button",1,"btn","btn-link","btn-floating","btn-lg","text-dark","m-1"],[1,"fab","fa-instagram"],["mdbRipple","","rippleColor","dark","href","https://www.linkedin.com/in/jorgedcalderon/","role","button",1,"btn","btn-link","btn-floating","btn-lg","text-dark","m-1"],[1,"fab","fa-linkedin"],["mdbRipple","","rippleColor","dark","href","https://www.github.com/Jorgedc87","role","button",1,"btn","btn-link","btn-floating","btn-lg","text-dark","m-1"],[1,"fab","fa-github"],[1,"text-centerrk","p-3","navbar-dark","bg-dark"],["href","https://www.github.com/Jorgedc87",1,"text-white"]],template:function(t,r){1&t&&(d.TgZ(0,"footer",0)(1,"div",1)(2,"section",2)(3,"a",3),d._UZ(4,"i",4),d.qZA(),d.TgZ(5,"a",5),d._UZ(6,"i",6),d.qZA(),d.TgZ(7,"a",7),d._UZ(8,"i",8),d.qZA()()(),d.TgZ(9,"div",9),d._uU(10," \xa9 2022 Todos los derechos reservados. "),d.TgZ(11,"a",10),d._uU(12,"Hecho por Jorge"),d.qZA()()())},directives:[sV],styles:[""]}),n})(),lV=(()=>{class n{constructor(){this.title="ALED3-Chat"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-root"]],decls:5,vars:0,consts:[[1,"scroller"],[1,"asdf"]],template:function(t,r){1&t&&(d._UZ(0,"app-navbar"),d.TgZ(1,"main")(2,"div",0),d._UZ(3,"router-outlet",1),d.qZA()(),d._UZ(4,"app-footer"))},directives:[JL,Rf,aV],styles:["main[_ngcontent-%COMP%]{min-height:calc(100vh - 177.15px - 1rem);margin-top:1rem}"]}),n})(),Yk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})();new d.OlP("MdbAccordionItemBodyDirective"),new d.OlP("MdbAccordionItemHeaderDirective");let dV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[ci,Yk]]}),n})(),fV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[ci]]}),n})();const pV={provide:Yo,useExisting:(0,d.Gpc)(()=>mV),multi:!0};class gV{}let mV=(()=>{class n{constructor(){this._checked=!1,this._value=null,this._disabled=!1,this.checkboxChange=new d.vpe,this.onChange=t=>{},this.onTouched=()=>{}}get checked(){return this._checked}set checked(t){this._checked=cf(t)}get value(){return this._value}set value(t){this._value=t}get disabled(){return this._disabled}set disabled(t){this._disabled=cf(t)}get isDisabled(){return this._disabled}get isChecked(){return this._checked}onCheckboxClick(){this.toggle()}onBlur(){this.onTouched()}get changeEvent(){const t=new gV;return t.element=this,t.checked=this.checked,t}toggle(){this.disabled||(this._checked=!this._checked,this.onChange(this.checked),this.onCheckboxChange())}onCheckboxChange(){this.checkboxChange.emit(this.changeEvent)}writeValue(t){this.value=t,this.checked=!!t}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.disabled=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=d.lG2({type:n,selectors:[["","mdbCheckbox",""]],hostVars:2,hostBindings:function(t,r){1&t&&d.NdJ("click",function(){return r.onCheckboxClick()})("blur",function(){return r.onBlur()}),2&t&&d.Ikx("disabled",r.isDisabled)("checked",r.isChecked)},inputs:{checked:"checked",value:"value",disabled:"disabled"},outputs:{checkboxChange:"checkboxChange"},features:[d._Bn([pV])]}),n})(),_V=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[ci,D0]]}),n})(),yV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[ci,D0]]}),n})(),TV=(()=>{class n{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function AV(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const r=function SV(n){try{return n.frameElement}catch(e){return null}}(function FV(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(t));if(r&&(-1===eO(r)||!this.isVisible(r)))return!1;let i=t.nodeName.toLowerCase(),a=eO(t);return t.hasAttribute("contenteditable")?-1!==a:!("iframe"===i||"object"===i||this._platform.WEBKIT&&this._platform.IOS&&!function PV(n){let e=n.nodeName.toLowerCase(),t="input"===e&&n.type;return"text"===t||"password"===t||"select"===e||"textarea"===e}(t))&&("audio"===i?!!t.hasAttribute("controls")&&-1!==a:"video"===i?-1!==a&&(null!==a||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,r){return function NV(n){return!function xV(n){return function kV(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function MV(n){let e=n.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(n)||function RV(n){return function OV(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||Jk(n))}(t)&&!this.isDisabled(t)&&((null==r?void 0:r.ignoreVisibility)||this.isVisible(t))}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(mg))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Jk(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let e=n.getAttribute("tabindex");return!(!e||isNaN(parseInt(e,10)))}function eO(n){if(!Jk(n))return null;const e=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class VV extends class LV{constructor(e,t,r,i,a=!1){this._element=e,this._checker=t,this._ngZone=r,this._document=i,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,a||this.attachAnchors()}get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}destroy(){const e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),t&&(t.removeEventListener("focus",this.endAnchorListener),t.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){const t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(!this._checker.isFocusable(t)){const r=this._getFirstTabbableElement(t);return null==r||r.focus(e),!!r}return t.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){const t=this._getRegionBoundary("start");return t&&t.focus(e),!!t}focusLastTabbableElement(e){const t=this._getRegionBoundary("end");return t&&t.focus(e),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let r=0;r<t.length;r++){const i=t[r].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[r]):null;if(i)return i}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let r=t.length-1;r>=0;r--){const i=t[r].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[r]):null;if(i)return i}return null}_createAnchor(){const e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.pipe(Fi(1)).subscribe(e)}}{constructor(e,t,r,i,a,c,f){super(e,t,r,i,f.defer),this._focusTrapManager=a,this._inertStrategy=c,this._focusTrapManager.register(this)}get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._enabled?this._focusTrapManager.register(this):this._focusTrapManager.deregister(this)}destroy(){this._focusTrapManager.deregister(this),super.destroy()}_enable(){this._inertStrategy.preventFocus(this),this.toggleAnchors(!0)}_disable(){this._inertStrategy.allowFocus(this),this.toggleAnchors(!1)}}const BV=new d.OlP("FOCUS_TRAP_INERT_STRATEGY");class UV{constructor(){this._listener=null}preventFocus(e){this._listener&&e._document.removeEventListener("focus",this._listener,!0),this._listener=t=>this._trapFocus(e,t),e._ngZone.runOutsideAngular(()=>{e._document.addEventListener("focus",this._listener,!0)})}allowFocus(e){!this._listener||(e._document.removeEventListener("focus",this._listener,!0),this._listener=null)}_trapFocus(e,t){var r;const i=t.target,a=e._element;i&&!a.contains(i)&&!(null===(r=i.closest)||void 0===r?void 0:r.call(i,"div.cdk-overlay-pane"))&&setTimeout(()=>{e.enabled&&!a.contains(e._document.activeElement)&&e.focusFirstTabbableElement()})}}let jV=(()=>{class n{constructor(){this._focusTrapStack=[]}register(t){this._focusTrapStack=this._focusTrapStack.filter(i=>i!==t);let r=this._focusTrapStack;r.length&&r[r.length-1]._disable(),r.push(t),t._enable()}deregister(t){t._disable();const r=this._focusTrapStack,i=r.indexOf(t);-1!==i&&(r.splice(i,1),r.length&&r[r.length-1]._enable())}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),HV=(()=>{class n{constructor(t,r,i,a,c){this._checker=t,this._ngZone=r,this._focusTrapManager=i,this._document=a,this._inertStrategy=c||new UV}create(t,r={defer:!1}){let i;return i="boolean"==typeof r?{defer:r}:r,new VV(t,this._checker,this._ngZone,this._document,this._focusTrapManager,this._inertStrategy,i)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(TV),d.LFG(d.R0b),d.LFG(jV),d.LFG(se),d.LFG(BV,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const GV=["dialog"];function zV(n,e){}class qV{constructor(){this.animation=!0,this.backdrop=!0,this.ignoreBackdropClick=!1,this.keyboard=!0,this.modalClass="",this.containerClass="",this.data=null}}class tO{constructor(e,t){this._overlayRef=e,this._container=t,this.onClose$=new an.x,this.onClose=this.onClose$.asObservable()}close(e){this._container._close(),setTimeout(()=>{this._container._restoreScrollbar(),this.onClose$.next(e),this.onClose$.complete(),this._overlayRef.detach(),this._overlayRef.dispose()},this._container.MODAL_TRANSITION)}}let nO=(()=>{class n{constructor(t,r,i,a){this._document=t,this._elementRef=r,this._renderer=i,this._focusTrapFactory=a,this._destroy$=new an.x,this.backdropClick$=new an.x,this.BACKDROP_TRANSITION=150,this.MODAL_TRANSITION=200,this.modal=!0}get hasAnimation(){return this._config.animation}ngOnInit(){this._updateContainerClass(),this._renderer.addClass(this._document.body,"modal-open"),this._renderer.setStyle(this._document.body,"padding-right","15px"),this._renderer.setStyle(this._elementRef.nativeElement,"display","block"),this._previouslyFocusedElement=this._document.activeElement,this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._config.animation?setTimeout(()=>{this._renderer.addClass(this._elementRef.nativeElement,"show"),setTimeout(()=>{this._focusTrap.focusInitialElementWhenReady()},this.MODAL_TRANSITION)},this.BACKDROP_TRANSITION):this._focusTrap.focusInitialElementWhenReady()}ngAfterViewInit(){this._config.ignoreBackdropClick||uf(this._elementRef.nativeElement,"mousedown").pipe(ln(t=>{const r=t.target,i=this.modalDialog.nativeElement,a=r!==i,c=!i.contains(r);return a&&c}),Ku(this._destroy$)).subscribe(t=>{this.backdropClick$.next(t)})}ngOnDestroy(){this._previouslyFocusedElement.focus(),this._focusTrap.destroy(),this._destroy$.next(),this._destroy$.complete()}_updateContainerClass(){""===this._config.containerClass||this._config.containerClass.length&&0===this._config.containerClass.length||this._config.containerClass.split(" ").forEach(r=>{this._renderer.addClass(this._elementRef.nativeElement,r)})}_close(){this._config.animation&&this._renderer.removeClass(this._elementRef.nativeElement,"show");const t=Array.from(this._elementRef.nativeElement.querySelectorAll("iframe")),r=Array.from(this._elementRef.nativeElement.querySelectorAll("video"));t.forEach(i=>{const a=i.getAttribute("src");this._renderer.setAttribute(i,"src",a)}),r.forEach(i=>{i.pause()})}_restoreScrollbar(){this._renderer.removeClass(this._document.body,"modal-open"),this._renderer.removeStyle(this._document.body,"padding-right")}attachComponentPortal(t){return this._portalOutlet.attachComponentPortal(t)}attachTemplatePortal(t){return this._portalOutlet.attachTemplatePortal(t)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(se),d.Y36(d.SBq),d.Y36(d.Qsj),d.Y36(HV))},n.\u0275cmp=d.Xpm({type:n,selectors:[["mdb-modal-container"]],viewQuery:function(t,r){if(1&t&&(d.Gf(Ik,7),d.Gf(GV,7)),2&t){let i;d.iGM(i=d.CRH())&&(r._portalOutlet=i.first),d.iGM(i=d.CRH())&&(r.modalDialog=i.first)}},hostVars:4,hostBindings:function(t,r){2&t&&d.ekj("modal",r.modal)("fade",r.hasAnimation)},decls:4,vars:2,consts:[["dialog",""],[1,"modal-content"],["cdkPortalOutlet",""]],template:function(t,r){1&t&&(d.TgZ(0,"div",null,0)(2,"div",1),d.YNc(3,zV,0,0,"ng-template",2),d.qZA()()),2&t&&d.Tol("modal-dialog"+(r._config.modalClass?" "+r._config.modalClass:""))},directives:[Ik],encapsulation:2}),n})(),WV=(()=>{class n{constructor(t,r,i,a){this._document=t,this._overlay=r,this._injector=i,this._cfr=a}open(t,r){const i=new qV;r=r?Object.assign(i,r):i;const a=this._createOverlay(r),c=this._createContainer(a,r),f=this._createContent(t,c,a,r);return this._registerListeners(f,r,c),f}_createOverlay(t){const r=this._getOverlayConfig(t);return this._overlay.create(r)}_getOverlayConfig(t){return new pA({positionStrategy:this._overlay.position().global(),scrollStrategy:this._overlay.scrollStrategies.noop(),hasBackdrop:t.backdrop,backdropClass:"mdb-backdrop"})}_createContainer(t,r){const i=new uA(nO,null,this._injector,this._cfr),a=t.attach(i);return a.instance._config=r,a.instance}_createContent(t,r,i,a){const c=new tO(i,r);if(t instanceof d.Rgc)r.attachTemplatePortal(new dA(t,null,{$implicit:a.data,modalRef:c}));else{const f=this._createInjector(a,c,r),_=r.attachComponentPortal(new uA(t,a.viewContainerRef,f));a.data&&Object.assign(_.instance,Object.assign({},a.data))}return c}_createInjector(t,r,i){return d.zs3.create({parent:t&&t.viewContainerRef&&t.viewContainerRef.injector||this._injector,providers:[{provide:nO,useValue:i},{provide:tO,useValue:r}]})}_registerListeners(t,r,i){i.backdropClick$.pipe(Fi(1)).subscribe(()=>{t.close()}),r.keyboard&&uf(i._elementRef.nativeElement,"keydown").pipe(ln(a=>"Escape"===a.key),Fi(1)).subscribe(()=>{t.close()})}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(se),d.LFG(BD),d.LFG(d.zs3),d.LFG(d._Vd))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),ZV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[WV],imports:[[UD,hA]]}),n})(),KV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[ci,UD]]}),n})(),YV=(()=>{class n{constructor(){this._checked=!1,this._value=null,this._disabled=!1}get name(){return this._name}set name(t){this._name=t}get checked(){return this._checked}set checked(t){this._checked=cf(t)}get value(){return this._value}set value(t){this._value=t}get disabled(){return this._disabled}set disabled(t){this._disabled=cf(t)}get isDisabled(){return this._disabled}get isChecked(){return this._checked}get nameAttr(){return this.name}_updateName(t){this._name=t}_updateChecked(t){this._checked=t}_updateDisabledState(t){this._disabled=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=d.lG2({type:n,selectors:[["","mdbRadio",""]],hostVars:3,hostBindings:function(t,r){2&t&&(d.Ikx("disabled",r.isDisabled)("checked",r.isChecked),d.uIk("name",r.nameAttr))},inputs:{name:"name",checked:"checked",value:"value",disabled:"disabled"}}),n})();const QV={provide:Yo,useExisting:(0,d.Gpc)(()=>XV),multi:!0};let XV=(()=>{class n{constructor(){this._disabled=!1,this._destroy$=new an.x,this.onChange=t=>{},this.onTouched=()=>{}}get value(){return this._value}set value(t){this._value=t,this.radios&&this._updateChecked()}get name(){return this._name}set name(t){this._name=t,this.radios&&this._updateNames()}get disabled(){return this._disabled}set disabled(t){this._disabled=t,this.radios&&this._updateDisabled()}ngAfterContentInit(){this._updateNames(),this._updateDisabled(),this.radios.changes.pipe(Ei(this.radios),jn(t=>(0,In.D)(Promise.resolve(t))),Ku(this._destroy$)).subscribe(()=>this._updateRadiosState())}ngOnDestroy(){this._destroy$.next(),this._destroy$.complete()}_updateRadiosState(){this._updateNames(),this._updateChecked(),this._updateDisabled()}_updateNames(){this.radios.forEach(t=>t._updateName(this.name))}_updateChecked(){this.radios.forEach(t=>{t._updateChecked(t.value===this._value)})}_updateDisabled(){this.radios.forEach(t=>t._updateDisabledState(this._disabled))}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._disabled=t,this._updateDisabled()}writeValue(t){this.value=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=d.lG2({type:n,selectors:[["","mdbRadioGroup",""]],contentQueries:function(t,r,i){if(1&t&&d.Suo(i,YV,5),2&t){let a;d.iGM(a=d.CRH())&&(r.radios=a)}},inputs:{value:"value",name:"name",disabled:"disabled"},features:[d._Bn([QV])]}),n})(),JV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[ci,D0]]}),n})();const eB=["input"],tB=["thumb"],nB=["thumbValue"],rB=function(n){return{"thumb-active":n}},iB={provide:Yo,useExisting:(0,d.Gpc)(()=>sB),multi:!0};let sB=(()=>{class n{constructor(t){this._cdRef=t,this.min=0,this.max=100,this.rangeValueChange=new d.vpe,this.visibility=!1,this.onChange=r=>{},this.onTouched=()=>{}}get disabled(){return this._disabled}set disabled(t){this._disabled=cf(t)}get default(){return this._default}set default(t){this._default=t}onchange(t){this.onChange(t.target.value)}onInput(){this.rangeValueChange.emit({value:this.value}),this.focusRangeInput()}ngAfterViewInit(){this.thumbPositionUpdate()}focusRangeInput(){this.input.nativeElement.focus(),this.visibility=!0}blurRangeInput(){this.input.nativeElement.blur(),this.visibility=!1}thumbPositionUpdate(){const t=this.input.nativeElement,r=t.value,i=t.min?t.min:0,c=Number(100*(r-i)/((t.max?t.max:100)-i));this.value=r,this.thumbStyle={left:`calc(${c}% + (${8-.15*c}px))`}}writeValue(t){this.value=t,this._cdRef.markForCheck(),setTimeout(()=>{this.thumbPositionUpdate()},0)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.disabled=t}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.sBO))},n.\u0275cmp=d.Xpm({type:n,selectors:[["mdb-range"]],viewQuery:function(t,r){if(1&t&&(d.Gf(eB,5),d.Gf(tB,5),d.Gf(nB,5)),2&t){let i;d.iGM(i=d.CRH())&&(r.input=i.first),d.iGM(i=d.CRH())&&(r.thumb=i.first),d.iGM(i=d.CRH())&&(r.thumbValue=i.first)}},hostBindings:function(t,r){1&t&&d.NdJ("change",function(a){return r.onchange(a)})("input",function(){return r.onInput()})},inputs:{id:"id",required:"required",name:"name",value:"value",disabled:"disabled",label:"label",min:"min",max:"max",step:"step",default:"default",defaultRangeCounterClass:"defaultRangeCounterClass"},outputs:{rangeValueChange:"rangeValueChange"},features:[d._Bn([iB])],decls:10,vars:14,consts:[["for","id",1,"form-label"],[1,"range"],["type","range","min","0","max","5",1,"form-range",3,"name","disabled","id","min","max","step","value","input","blur","mousedown","mouseup","touchstart","touchend"],["input",""],[1,"thumb",3,"ngStyle","ngClass"],["thumb",""],[1,"thumb-value"],["thumbValue",""]],template:function(t,r){1&t&&(d.TgZ(0,"label",0),d._uU(1),d.qZA(),d.TgZ(2,"div",1)(3,"input",2,3),d.NdJ("input",function(){return r.thumbPositionUpdate()})("blur",function(){return r.blurRangeInput()})("mousedown",function(){return r.focusRangeInput()})("mouseup",function(){return r.blurRangeInput()})("touchstart",function(){return r.focusRangeInput()})("touchend",function(){return r.blurRangeInput()}),d.qZA(),d.TgZ(5,"span",4,5)(7,"span",6,7),d._uU(9),d.qZA()()()),2&t&&(d.xp6(1),d.Oqu(r.label),d.xp6(2),d.Q6J("name",r.name)("disabled",r.disabled)("id",r.id)("min",r.min)("max",r.max)("step",r.step)("value",r.value)("id",r.id),d.xp6(2),d.Q6J("ngStyle",r.thumbStyle)("ngClass",d.VKq(12,rB,r.visibility)),d.xp6(4),d.Oqu(r.value))},directives:[Tl,ki],encapsulation:2,changeDetection:0}),n})(),oB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[ci,D0]]}),n})(),aB=(()=>{class n{constructor(){this.scrollSpys=[],this.activeSubject=new an.x,this.active$=this.activeSubject}addScrollspy(t){this.scrollSpys.push(t)}removeScrollspy(t){const r=this.scrollSpys.findIndex(i=>i.id===t);this.scrollSpys.splice(r,1)}updateActiveState(t,r){const i=this.scrollSpys.find(c=>c.id===t);if(!i)return;const a=i.links.find(c=>c.id===r);this.setActiveLink(a)}removeActiveState(t,r){const i=this.scrollSpys.find(c=>c.id===t);if(!i)return;const a=i.links.find(c=>c.id===r);!a||(a.active=!1,a.detectChanges())}setActiveLink(t){t&&(t.active=!0,t.detectChanges(),this.activeSubject.next(t))}removeActiveLinks(t){const r=this.scrollSpys.find(i=>i.id===t);!r||r.links.forEach(i=>{i.active=!1,i.detectChanges()})}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),lB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[aB]}),n})();new d.OlP("MdbTabContentDirective"),new d.OlP("MdbTabTitleDirective");let pB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[ci,hA]]}),n})(),gB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[ci,UD]]}),n})(),mB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[ci]]}),n})();const rn=!1;function rO(n){return new d.vHH(3e3,rn)}function YB(){return"undefined"!=typeof window&&void 0!==window.document}function _A(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function df(n){switch(n.length){case 0:return new A0;case 1:return n[0];default:return new Hk(n)}}function iO(n,e,t,r,i={},a={}){const c=[],f=[];let _=-1,E=null;if(r.forEach(I=>{const x=I.offset,F=x==_,B=F&&E||{};Object.keys(I).forEach(j=>{let le=j,Te=I[j];if("offset"!==j)switch(le=e.normalizePropertyName(le,c),Te){case"!":Te=i[j];break;case Yu:Te=a[j];break;default:Te=e.normalizeStyleValue(j,le,Te,c)}B[le]=Te}),F||f.push(B),E=B,_=x}),c.length)throw function BB(n){return new d.vHH(3502,rn)}();return f}function yA(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&vA(t,"start",n)));break;case"done":n.onDone(()=>r(t&&vA(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&vA(t,"destroy",n)))}}function vA(n,e,t){const r=t.totalTime,a=bA(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,null==r?n.totalTime:r,!!t.disabled),c=n._data;return null!=c&&(a._data=c),a}function bA(n,e,t,r,i="",a=0,c){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:a,disabled:!!c}}function Qo(n,e,t){let r;return n instanceof Map?(r=n.get(e),r||n.set(e,r=t)):(r=n[e],r||(r=n[e]=t)),r}function sO(n){const e=n.indexOf(":");return[n.substring(1,e),n.substr(e+1)]}let EA=(n,e)=>!1,oO=(n,e,t)=>[],aO=null;function wA(n){const e=n.parentNode||n.host;return e===aO?null:e}(_A()||"undefined"!=typeof Element)&&(YB()?(aO=(()=>document.documentElement)(),EA=(n,e)=>{for(;e;){if(e===n)return!0;e=wA(e)}return!1}):EA=(n,e)=>n.contains(e),oO=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]});let vg=null,lO=!1;function cO(n){vg||(vg=function XB(){return"undefined"!=typeof document?document.body:null}()||{},lO=!!vg.style&&"WebkitAppearance"in vg.style);let e=!0;return vg.style&&!function QB(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in vg.style,!e&&lO&&(e="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in vg.style)),e}const uO=EA,dO=oO;let hO=(()=>{class n{validateStyleProperty(t){return cO(t)}matchesElement(t,r){return!1}containsElement(t,r){return uO(t,r)}getParentElement(t){return wA(t)}query(t,r,i){return dO(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,a,c,f=[],_){return new A0(i,a)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),CA=(()=>{class n{}return n.NOOP=new hO,n})();const DA="ng-enter",$D="ng-leave",GD="ng-trigger",zD=".ng-trigger",pO="ng-animating",IA=".ng-animating";function bg(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:TA(parseFloat(e[1]),e[2])}function TA(n,e){return"s"===e?1e3*n:n}function qD(n,e,t){return n.hasOwnProperty("duration")?n:function tU(n,e,t){let i,a=0,c="";if("string"==typeof n){const f=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===f)return e.push(rO()),{duration:0,delay:0,easing:""};i=TA(parseFloat(f[1]),f[2]);const _=f[3];null!=_&&(a=TA(parseFloat(_),f[4]));const E=f[5];E&&(c=E)}else i=n;if(!t){let f=!1,_=e.length;i<0&&(e.push(function _B(){return new d.vHH(3100,rn)}()),f=!0),a<0&&(e.push(function yB(){return new d.vHH(3101,rn)}()),f=!0),f&&e.splice(_,0,rO())}return{duration:i,delay:a,easing:c}}(n,e,t)}function uy(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function hf(n,e,t={}){if(e)for(let r in n)t[r]=n[r];else uy(n,t);return t}function mO(n,e,t){return t?e+":"+t+";":""}function _O(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=mO(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=mO(0,iU(t),n.style[t]));n.setAttribute("style",e)}function Pc(n,e,t){n.style&&(Object.keys(e).forEach(r=>{const i=AA(r);t&&!t.hasOwnProperty(r)&&(t[r]=n.style[i]),n.style[i]=e[r]}),_A()&&_O(n))}function Eg(n,e){n.style&&(Object.keys(e).forEach(t=>{const r=AA(t);n.style[r]=""}),_A()&&_O(n))}function M0(n){return Array.isArray(n)?1==n.length?n[0]:Vk(n):n}const SA=new RegExp("{{\\s*(.+?)\\s*}}","g");function yO(n){let e=[];if("string"==typeof n){let t;for(;t=SA.exec(n);)e.push(t[1]);SA.lastIndex=0}return e}function WD(n,e,t){const r=n.toString(),i=r.replace(SA,(a,c)=>{let f=e[c];return e.hasOwnProperty(c)||(t.push(function bB(n){return new d.vHH(3003,rn)}()),f=""),f.toString()});return i==r?n:i}function ZD(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const rU=/-+([a-z0-9])/g;function AA(n){return n.replace(rU,(...e)=>e[1].toUpperCase())}function iU(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Xo(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function EB(n){return new d.vHH(3004,rn)}()}}function vO(n,e){return window.getComputedStyle(n)[e]}function uU(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function dU(n,e,t){if(":"==n[0]){const _=function hU(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function NB(n){return new d.vHH(3016,rn)}()),"* => *"}}(n,t);if("function"==typeof _)return void e.push(_);n=_}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function PB(n){return new d.vHH(3015,rn)}()),e;const i=r[1],a=r[2],c=r[3];e.push(bO(i,c));"<"==a[0]&&!("*"==i&&"*"==c)&&e.push(bO(c,i))}(r,t,e)):t.push(n),t}const XD=new Set(["true","1"]),JD=new Set(["false","0"]);function bO(n,e){const t=XD.has(n)||JD.has(n),r=XD.has(e)||JD.has(e);return(i,a)=>{let c="*"==n||n==i,f="*"==e||e==a;return!c&&t&&"boolean"==typeof i&&(c=i?XD.has(n):JD.has(n)),!f&&r&&"boolean"==typeof a&&(f=a?XD.has(e):JD.has(e)),c&&f}}const fU=new RegExp("s*:selfs*,?","g");function MA(n,e,t,r){return new pU(n).build(e,t,r)}class pU{constructor(e){this._driver=e}build(e,t,r){const i=new _U(t);this._resetContextStyleTimingState(i);const a=Xo(this,M0(e),i);return i.unsupportedCSSPropertiesFound.size&&i.unsupportedCSSPropertiesFound.keys(),a}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const a=[],c=[];return"@"==e.name.charAt(0)&&t.errors.push(function CB(){return new d.vHH(3006,rn)}()),e.definitions.forEach(f=>{if(this._resetContextStyleTimingState(t),0==f.type){const _=f,E=_.name;E.toString().split(/\s*,\s*/).forEach(I=>{_.name=I,a.push(this.visitState(_,t))}),_.name=E}else if(1==f.type){const _=this.visitTransition(f,t);r+=_.queryCount,i+=_.depCount,c.push(_)}else t.errors.push(function DB(){return new d.vHH(3007,rn)}())}),{type:7,name:e.name,states:a,transitions:c,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const a=new Set,c=i||{};r.styles.forEach(f=>{if(eI(f)){const _=f;Object.keys(_).forEach(E=>{yO(_[E]).forEach(I=>{c.hasOwnProperty(I)||a.add(I)})})}}),a.size&&(ZD(a.values()),t.errors.push(function IB(n,e){return new d.vHH(3008,rn)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=Xo(this,M0(e.animation),t);return{type:1,matchers:uU(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:wg(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>Xo(this,r,t)),options:wg(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const a=e.steps.map(c=>{t.currentTime=r;const f=Xo(this,c,t);return i=Math.max(i,t.currentTime),f});return t.currentTime=i,{type:3,steps:a,options:wg(e.options)}}visitAnimate(e,t){const r=function vU(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return xA(qD(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(a=>"{"==a.charAt(0)&&"{"==a.charAt(1))){const a=xA(0,0,"");return a.dynamic=!0,a.strValue=t,a}const i=qD(t,e);return xA(i.duration,i.delay,i.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,a=e.styles?e.styles:S0({});if(5==a.type)i=this.visitKeyframes(a,t);else{let c=e.styles,f=!1;if(!c){f=!0;const E={};r.easing&&(E.easing=r.easing),c=S0(E)}t.currentTime+=r.duration+r.delay;const _=this.visitStyle(c,t);_.isEmptyStep=f,i=_}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[];Array.isArray(e.styles)?e.styles.forEach(c=>{"string"==typeof c?c==Yu?r.push(c):t.errors.push(function TB(n){return new d.vHH(3002,rn)}()):r.push(c)}):r.push(e.styles);let i=!1,a=null;return r.forEach(c=>{if(eI(c)){const f=c,_=f.easing;if(_&&(a=_,delete f.easing),!i)for(let E in f)if(f[E].toString().indexOf("{{")>=0){i=!0;break}}}),{type:6,styles:r,easing:a,offset:e.offset,containsDynamicStyles:i,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,a=t.currentTime;r&&a>0&&(a-=r.duration+r.delay),e.styles.forEach(c=>{"string"!=typeof c&&Object.keys(c).forEach(f=>{if(!this._driver.validateStyleProperty(f))return delete c[f],void t.unsupportedCSSPropertiesFound.add(f);const _=t.collectedStyles[t.currentQuerySelector],E=_[f];let I=!0;E&&(a!=i&&a>=E.startTime&&i<=E.endTime&&(t.errors.push(function SB(n,e,t,r,i){return new d.vHH(3010,rn)}()),I=!1),a=E.startTime),I&&(_[f]={startTime:a,endTime:i}),t.options&&function nU(n,e,t){const r=e.params||{},i=yO(n);i.length&&i.forEach(a=>{r.hasOwnProperty(a)||t.push(function vB(n){return new d.vHH(3001,rn)}())})}(c[f],t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function AB(){return new d.vHH(3011,rn)}()),r;let a=0;const c=[];let f=!1,_=!1,E=0;const I=e.steps.map(qe=>{const st=this._makeStyleAst(qe,t);let pt=null!=st.offset?st.offset:function yU(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(eI(t)&&t.hasOwnProperty("offset")){const r=t;e=parseFloat(r.offset),delete r.offset}});else if(eI(n)&&n.hasOwnProperty("offset")){const t=n;e=parseFloat(t.offset),delete t.offset}return e}(st.styles),lt=0;return null!=pt&&(a++,lt=st.offset=pt),_=_||lt<0||lt>1,f=f||lt<E,E=lt,c.push(lt),st});_&&t.errors.push(function MB(){return new d.vHH(3012,rn)}()),f&&t.errors.push(function xB(){return new d.vHH(3200,rn)}());const x=e.steps.length;let F=0;a>0&&a<x?t.errors.push(function RB(){return new d.vHH(3202,rn)}()):0==a&&(F=1/(x-1));const B=x-1,j=t.currentTime,le=t.currentAnimateTimings,Te=le.duration;return I.forEach((qe,st)=>{const pt=F>0?st==B?1:F*st:c[st],lt=pt*Te;t.currentTime=j+le.delay+lt,le.duration=lt,this._validateStyleAst(qe,t),qe.offset=pt,r.styles.push(qe)}),r}visitReference(e,t){return{type:8,animation:Xo(this,M0(e.animation),t),options:wg(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:wg(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:wg(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[a,c]=function gU(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(fU,"")),n=n.replace(/@\*/g,zD).replace(/@\w+/g,t=>zD+"-"+t.substr(1)).replace(/:animating/g,IA),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+a:a,Qo(t.collectedStyles,t.currentQuerySelector,{});const f=Xo(this,M0(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:a,limit:i.limit||0,optional:!!i.optional,includeSelf:c,animation:f,originalSelector:e.selector,options:wg(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function kB(){return new d.vHH(3013,rn)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:qD(e.timings,t.errors,!0);return{type:12,animation:Xo(this,M0(e.animation),t),timings:r,options:null}}}class _U{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function eI(n){return!Array.isArray(n)&&"object"==typeof n}function wg(n){return n?(n=uy(n)).params&&(n.params=function mU(n){return n?uy(n):null}(n.params)):n={},n}function xA(n,e,t){return{duration:n,delay:e,easing:t}}function RA(n,e,t,r,i,a,c=null,f=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:a,totalTime:i+a,easing:c,subTimeline:f}}class tI{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const wU=new RegExp(":enter","g"),DU=new RegExp(":leave","g");function kA(n,e,t,r,i,a={},c={},f,_,E=[]){return(new IU).buildKeyframes(n,e,t,r,i,a,c,f,_,E)}class IU{buildKeyframes(e,t,r,i,a,c,f,_,E,I=[]){E=E||new tI;const x=new OA(e,t,E,i,a,I,[]);x.options=_,x.currentTimeline.setStyles([c],null,x.errors,_),Xo(this,r,x);const F=x.timelines.filter(B=>B.containsAnimation());if(Object.keys(f).length){let B;for(let j=F.length-1;j>=0;j--){const le=F[j];if(le.element===t){B=le;break}}B&&!B.allowOnlyTimelineStyles()&&B.setStyles([f],null,x.errors,_)}return F.length?F.map(B=>B.buildKeyframes()):[RA(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),a=t.currentTimeline.currentTime,c=this._visitSubInstructions(r,i,i.options);a!=c&&t.transformIntoNewTimeline(c)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,r){let a=t.currentTimeline.currentTime;const c=null!=r.duration?bg(r.duration):null,f=null!=r.delay?bg(r.delay):null;return 0!==c&&e.forEach(_=>{const E=t.appendInstructionToTimeline(_,c,f);a=Math.max(a,E.duration+E.delay)}),a}visitReference(e,t){t.updateOptions(e.options,!0),Xo(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const a=e.options;if(a&&(a.params||a.delay)&&(i=t.createSubContext(a),i.transformIntoNewTimeline(),null!=a.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=nI);const c=bg(a.delay);i.delayNextStep(c)}e.steps.length&&(e.steps.forEach(c=>Xo(this,c,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const a=e.options&&e.options.delay?bg(e.options.delay):0;e.steps.forEach(c=>{const f=t.createSubContext(e.options);a&&f.delayNextStep(a),Xo(this,c,f),i=Math.max(i,f.currentTimeline.currentTime),r.push(f.currentTimeline)}),r.forEach(c=>t.currentTimeline.mergeTimelineCollectedStyles(c)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return qD(t.params?WD(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const a=e.style;5==a.type?this.visitKeyframes(a,t):(t.incrementTime(r.duration),this.visitStyle(a,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.getCurrentStyleProperties().length&&r.forwardFrame();const a=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(a):r.setStyles(e.styles,a,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,a=r.duration,f=t.createSubContext().currentTimeline;f.easing=r.easing,e.styles.forEach(_=>{f.forwardTime((_.offset||0)*a),f.setStyles(_.styles,_.easing,t.errors,t.options),f.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(f),t.transformIntoNewTimeline(i+a),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},a=i.delay?bg(i.delay):0;a&&(6===t.previousNode.type||0==r&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=nI);let c=r;const f=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=f.length;let _=null;f.forEach((E,I)=>{t.currentQueryIndex=I;const x=t.createSubContext(e.options,E);a&&x.delayNextStep(a),E===t.element&&(_=x.currentTimeline),Xo(this,e.animation,x),x.currentTimeline.applyStylesToKeyframe(),c=Math.max(c,x.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(c),_&&(t.currentTimeline.mergeTimelineCollectedStyles(_),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,a=e.timings,c=Math.abs(a.duration),f=c*(t.currentQueryTotal-1);let _=c*t.currentQueryIndex;switch(a.duration<0?"reverse":a.easing){case"reverse":_=f-_;break;case"full":_=r.currentStaggerTime}const I=t.currentTimeline;_&&I.delayNextStep(_);const x=I.currentTime;Xo(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-x+(i.startTime-r.currentTimeline.startTime)}}const nI={};class OA{constructor(e,t,r,i,a,c,f,_){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=a,this.errors=c,this.timelines=f,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=nI,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=_||new rI(this._driver,t,0),f.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=bg(r.duration)),null!=r.delay&&(i.delay=bg(r.delay));const a=r.params;if(a){let c=i.params;c||(c=this.options.params={}),Object.keys(a).forEach(f=>{(!t||!c.hasOwnProperty(f))&&(c[f]=WD(a[f],c,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,a=new OA(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return a.previousNode=this.previousNode,a.currentAnimateTimings=this.currentAnimateTimings,a.options=this._copyOptions(),a.updateOptions(e),a.currentQueryIndex=this.currentQueryIndex,a.currentQueryTotal=this.currentQueryTotal,a.parentContext=this,this.subContextCount++,a}transformIntoNewTimeline(e){return this.previousNode=nI,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=r?r:0)+e.delay,easing:""},a=new TU(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(a),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,a,c){let f=[];if(i&&f.push(this.element),e.length>0){e=(e=e.replace(wU,"."+this._enterClassName)).replace(DU,"."+this._leaveClassName);let E=this._driver.query(this.element,e,1!=r);0!==r&&(E=r<0?E.slice(E.length+r,E.length):E.slice(0,r)),f.push(...E)}return!a&&0==f.length&&c.push(function OB(n){return new d.vHH(3014,rn)}()),f}}class rI{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new rI(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||Yu,this._currentKeyframe[t]=Yu}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&(this._previousKeyframe.easing=t);const a=i&&i.params||{},c=function SU(n,e){const t={};let r;return n.forEach(i=>{"*"===i?(r=r||Object.keys(e),r.forEach(a=>{t[a]=Yu})):hf(i,!1,t)}),t}(e,this._globalTimelineStyles);Object.keys(c).forEach(f=>{const _=WD(c[f],a,r);this._pendingStyles[f]=_,this._localTimelineStyles.hasOwnProperty(f)||(this._backFill[f]=this._globalTimelineStyles.hasOwnProperty(f)?this._globalTimelineStyles[f]:Yu),this._updateStyle(f,_)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(r=>{this._currentKeyframe[r]=e[r]}),Object.keys(this._localTimelineStyles).forEach(r=>{this._currentKeyframe.hasOwnProperty(r)||(this._currentKeyframe[r]=this._localTimelineStyles[r])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const r=this._styleSummary[t],i=e._styleSummary[t];(!r||i.time>r.time)&&this._updateStyle(t,i.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((f,_)=>{const E=hf(f,!0);Object.keys(E).forEach(I=>{const x=E[I];"!"==x?e.add(I):x==Yu&&t.add(I)}),r||(E.offset=_/this.duration),i.push(E)});const a=e.size?ZD(e.values()):[],c=t.size?ZD(t.values()):[];if(r){const f=i[0],_=uy(f);f.offset=0,_.offset=1,i=[f,_]}return RA(this.element,i,a,c,this.duration,this.startTime,this.easing,!1)}}class TU extends rI{constructor(e,t,r,i,a,c,f=!1){super(e,t,c.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=a,this._stretchStartingKeyframe=f,this.timings={duration:c.duration,delay:c.delay,easing:c.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const a=[],c=r+t,f=t/c,_=hf(e[0],!1);_.offset=0,a.push(_);const E=hf(e[0],!1);E.offset=CO(f),a.push(E);const I=e.length-1;for(let x=1;x<=I;x++){let F=hf(e[x],!1);F.offset=CO((t+F.offset*r)/c),a.push(F)}r=c,t=0,i="",e=a}return RA(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function CO(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class PA{}class AU extends PA{normalizePropertyName(e,t){return AA(e)}normalizeStyleValue(e,t,r,i){let a="";const c=r.toString().trim();if(MU[t]&&0!==r&&"0"!==r)if("number"==typeof r)a="px";else{const f=r.match(/^[+-]?[\d\.]+([a-z]*)$/);f&&0==f[1].length&&i.push(function wB(n,e){return new d.vHH(3005,rn)}())}return c+a}}const MU=(()=>function xU(n){const e={};return n.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function DO(n,e,t,r,i,a,c,f,_,E,I,x,F){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:a,toState:r,toStyles:c,timelines:f,queriedElements:_,preStyleProps:E,postStyleProps:I,totalTime:x,errors:F}}const NA={};class IO{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function RU(n,e,t,r,i){return n.some(a=>a(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){const i=this._stateStyles["*"],a=this._stateStyles[e],c=i?i.buildStyles(t,r):{};return a?a.buildStyles(t,r):c}build(e,t,r,i,a,c,f,_,E,I){const x=[],F=this.ast.options&&this.ast.options.params||NA,j=this.buildStyles(r,f&&f.params||NA,x),le=_&&_.params||NA,Te=this.buildStyles(i,le,x),qe=new Set,st=new Map,pt=new Map,lt="void"===i,xt={params:Object.assign(Object.assign({},F),le)},Pt=I?[]:kA(e,t,this.ast.animation,a,c,j,Te,xt,E,x);let un=0;if(Pt.forEach(Qu=>{un=Math.max(Qu.duration+Qu.delay,un)}),x.length)return DO(t,this._triggerName,r,i,lt,j,Te,[],[],st,pt,un,x);Pt.forEach(Qu=>{const Xu=Qu.element,HO=Qo(st,Xu,{});Qu.preStyleProps.forEach(Cg=>HO[Cg]=!0);const R0=Qo(pt,Xu,{});Qu.postStyleProps.forEach(Cg=>R0[Cg]=!0),Xu!==t&&qe.add(Xu)});const Us=ZD(qe.values());return DO(t,this._triggerName,r,i,lt,j,Te,Pt,Us,st,pt,un)}}class kU{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r={},i=uy(this.defaultParams);return Object.keys(e).forEach(a=>{const c=e[a];null!=c&&(i[a]=c)}),this.styles.styles.forEach(a=>{if("string"!=typeof a){const c=a;Object.keys(c).forEach(f=>{let _=c[f];_.length>1&&(_=WD(_,i,t));const E=this.normalizer.normalizePropertyName(f,t);_=this.normalizer.normalizeStyleValue(f,E,_,t),r[E]=_})}}),r}}class PU{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states={},t.states.forEach(i=>{this.states[i.name]=new kU(i.style,i.options&&i.options.params||{},r)}),TO(this.states,"true","1"),TO(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new IO(e,i,this.states))}),this.fallbackTransition=function NU(n,e,t){return new IO(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(c,f)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(c=>c.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function TO(n,e,t){n.hasOwnProperty(e)?n.hasOwnProperty(t)||(n[t]=n[e]):n.hasOwnProperty(t)&&(n[e]=n[t])}const FU=new tI;class LU{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations={},this._playersById={},this.players=[]}register(e,t){const r=[],a=MA(this._driver,t,r,[]);if(r.length)throw function UB(n){return new d.vHH(3503,rn)}();this._animations[e]=a}_buildPlayer(e,t,r){const i=e.element,a=iO(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(i,a,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],a=this._animations[e];let c;const f=new Map;if(a?(c=kA(this._driver,t,a,DA,$D,{},{},r,FU,i),c.forEach(I=>{const x=Qo(f,I.element,{});I.postStyleProps.forEach(F=>x[F]=null)})):(i.push(function jB(){return new d.vHH(3300,rn)}()),c=[]),i.length)throw function HB(n){return new d.vHH(3504,rn)}();f.forEach((I,x)=>{Object.keys(I).forEach(F=>{I[F]=this._driver.computeStyle(x,F,Yu)})});const E=df(c.map(I=>{const x=f.get(I.element);return this._buildPlayer(I,{},x)}));return this._playersById[e]=E,E.onDestroy(()=>this.destroy(e)),this.players.push(E),E}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw function $B(n){return new d.vHH(3301,rn)}();return t}listen(e,t,r,i){const a=bA(t,"","","");return yA(this._getPlayer(e),r,a,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const a=this._getPlayer(e);switch(r){case"play":a.play();break;case"pause":a.pause();break;case"reset":a.reset();break;case"restart":a.restart();break;case"finish":a.finish();break;case"init":a.init();break;case"setPosition":a.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const SO="ng-animate-queued",FA="ng-animate-disabled",HU=[],AO={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},$U={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},La="__ng_removed";class LA{constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function WU(n){return null!=n?n:null}(r?e.value:e),r){const a=uy(e);delete a.value,this.options=a}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const x0="void",VA=new LA(x0);class GU{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Va(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.hasOwnProperty(t))throw function GB(n,e){return new d.vHH(3302,rn)}();if(null==r||0==r.length)throw function zB(n){return new d.vHH(3303,rn)}();if(!function ZU(n){return"start"==n||"done"==n}(r))throw function qB(n,e){return new d.vHH(3400,rn)}();const a=Qo(this._elementListeners,e,[]),c={name:t,phase:r,callback:i};a.push(c);const f=Qo(this._engine.statesByElement,e,{});return f.hasOwnProperty(t)||(Va(e,GD),Va(e,GD+"-"+t),f[t]=VA),()=>{this._engine.afterFlush(()=>{const _=a.indexOf(c);_>=0&&a.splice(_,1),this._triggers[t]||delete f[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw function WB(n){return new d.vHH(3401,rn)}();return t}trigger(e,t,r,i=!0){const a=this._getTrigger(t),c=new BA(this.id,t,e);let f=this._engine.statesByElement.get(e);f||(Va(e,GD),Va(e,GD+"-"+t),this._engine.statesByElement.set(e,f={}));let _=f[t];const E=new LA(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&_&&E.absorbOptions(_.options),f[t]=E,_||(_=VA),E.value!==x0&&_.value===E.value){if(!function QU(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const a=t[i];if(!e.hasOwnProperty(a)||n[a]!==e[a])return!1}return!0}(_.params,E.params)){const le=[],Te=a.matchStyles(_.value,_.params,le),qe=a.matchStyles(E.value,E.params,le);le.length?this._engine.reportError(le):this._engine.afterFlush(()=>{Eg(e,Te),Pc(e,qe)})}return}const F=Qo(this._engine.playersByElement,e,[]);F.forEach(le=>{le.namespaceId==this.id&&le.triggerName==t&&le.queued&&le.destroy()});let B=a.matchTransition(_.value,E.value,e,E.params),j=!1;if(!B){if(!i)return;B=a.fallbackTransition,j=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:B,fromState:_,toState:E,player:c,isFallbackTransition:j}),j||(Va(e,SO),c.onStart(()=>{dy(e,SO)})),c.onDone(()=>{let le=this.players.indexOf(c);le>=0&&this.players.splice(le,1);const Te=this._engine.playersByElement.get(e);if(Te){let qe=Te.indexOf(c);qe>=0&&Te.splice(qe,1)}}),this.players.push(c),F.push(c),c}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,r)=>{delete t[e]}),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,zD,!0);r.forEach(i=>{if(i[La])return;const a=this._engine.fetchNamespacesByElement(i);a.size?a.forEach(c=>c.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const a=this._engine.statesByElement.get(e),c=new Map;if(a){const f=[];if(Object.keys(a).forEach(_=>{if(c.set(_,a[_].value),this._triggers[_]){const E=this.trigger(e,_,x0,i);E&&f.push(E)}}),f.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,c),r&&df(f).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(a=>{const c=a.name;if(i.has(c))return;i.add(c);const _=this._triggers[c].fallbackTransition,E=r[c]||VA,I=new LA(x0),x=new BA(this.id,c,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:c,transition:_,fromState:E,toState:I,player:x,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const a=r.players.length?r.playersByQueriedElement.get(e):[];if(a&&a.length)i=!0;else{let c=e;for(;c=c.parentNode;)if(r.statesByElement.get(c)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const a=e[La];(!a||a===AO)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){Va(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const a=r.element,c=this._elementListeners.get(a);c&&c.forEach(f=>{if(f.name==r.triggerName){const _=bA(a,r.triggerName,r.fromState.value,r.toState.value);_._data=e,yA(r.player,f.phase,_,f.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const a=r.transition.ast.depCount,c=i.transition.ast.depCount;return 0==a||0==c?a-c:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class zU{constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,a)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new GU(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement,a=r.length-1;if(a>=0){let c=!1;if(void 0!==this.driver.getParentElement){let f=this.driver.getParentElement(t);for(;f;){const _=i.get(f);if(_){const E=r.indexOf(_);r.splice(E+1,0,e),c=!0;break}f=this.driver.getParentElement(f)}}else for(let f=a;f>=0;f--)if(this.driver.containsElement(r[f].hostElement,t)){r.splice(f+1,0,e),c=!0;break}c||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r){const i=Object.keys(r);for(let a=0;a<i.length;a++){const c=r[i[a]].namespaceId;if(c){const f=this._fetchNamespace(c);f&&t.add(f)}}}return t}trigger(e,t,r,i){if(iI(t)){const a=this._fetchNamespace(e);if(a)return a.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!iI(t))return;const a=t[La];if(a&&a.setForRemoval){a.setForRemoval=!1,a.setForMove=!0;const c=this.collectedLeaveElements.indexOf(t);c>=0&&this.collectedLeaveElements.splice(c,1)}if(e){const c=this._fetchNamespace(e);c&&c.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Va(e,FA)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),dy(e,FA))}removeNode(e,t,r,i){if(iI(t)){const a=e?this._fetchNamespace(e):null;if(a?a.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),r){const c=this.namespacesByHostElement.get(t);c&&c.id!==e&&c.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,r,i,a){this.collectedLeaveElements.push(t),t[La]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:a}}listen(e,t,r,i,a){return iI(t)?this._fetchNamespace(e).listen(t,r,i,a):()=>{}}_buildInstruction(e,t,r,i,a){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,a)}destroyInnerAnimations(e){let t=this.driver.query(e,zD,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,IA,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return df(this.players).onDone(()=>e());e()})}processLeaveNode(e){var t;const r=e[La];if(r&&r.setForRemoval){if(e[La]=AO,r.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(r.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,r.setForRemoval)}(null===(t=e.classList)||void 0===t?void 0:t.contains(FA))&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)Va(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?df(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function ZB(n){return new d.vHH(3402,rn)}()}_flushAnimations(e,t){const r=new tI,i=[],a=new Map,c=[],f=new Map,_=new Map,E=new Map,I=new Set;this.disabledNodes.forEach(ht=>{I.add(ht);const Rt=this.driver.query(ht,".ng-animate-queued",!0);for(let Bt=0;Bt<Rt.length;Bt++)I.add(Rt[Bt])});const x=this.bodyNode,F=Array.from(this.statesByElement.keys()),B=RO(F,this.collectedEnterElements),j=new Map;let le=0;B.forEach((ht,Rt)=>{const Bt=DA+le++;j.set(Rt,Bt),ht.forEach(_n=>Va(_n,Bt))});const Te=[],qe=new Set,st=new Set;for(let ht=0;ht<this.collectedLeaveElements.length;ht++){const Rt=this.collectedLeaveElements[ht],Bt=Rt[La];Bt&&Bt.setForRemoval&&(Te.push(Rt),qe.add(Rt),Bt.hasAnimation?this.driver.query(Rt,".ng-star-inserted",!0).forEach(_n=>qe.add(_n)):st.add(Rt))}const pt=new Map,lt=RO(F,Array.from(qe));lt.forEach((ht,Rt)=>{const Bt=$D+le++;pt.set(Rt,Bt),ht.forEach(_n=>Va(_n,Bt))}),e.push(()=>{B.forEach((ht,Rt)=>{const Bt=j.get(Rt);ht.forEach(_n=>dy(_n,Bt))}),lt.forEach((ht,Rt)=>{const Bt=pt.get(Rt);ht.forEach(_n=>dy(_n,Bt))}),Te.forEach(ht=>{this.processLeaveNode(ht)})});const xt=[],Pt=[];for(let ht=this._namespaceList.length-1;ht>=0;ht--)this._namespaceList[ht].drainQueuedTransitions(t).forEach(Bt=>{const _n=Bt.player,Mi=Bt.element;if(xt.push(_n),this.collectedEnterElements.length){const js=Mi[La];if(js&&js.setForMove){if(js.previousTriggersValues&&js.previousTriggersValues.has(Bt.triggerName)){const Dg=js.previousTriggersValues.get(Bt.triggerName),pf=this.statesByElement.get(Bt.element);pf&&pf[Bt.triggerName]&&(pf[Bt.triggerName].value=Dg)}return void _n.destroy()}}const Nc=!x||!this.driver.containsElement(x,Mi),Jo=pt.get(Mi),ff=j.get(Mi),pr=this._buildInstruction(Bt,r,ff,Jo,Nc);if(pr.errors&&pr.errors.length)return void Pt.push(pr);if(Nc)return _n.onStart(()=>Eg(Mi,pr.fromStyles)),_n.onDestroy(()=>Pc(Mi,pr.toStyles)),void i.push(_n);if(Bt.isFallbackTransition)return _n.onStart(()=>Eg(Mi,pr.fromStyles)),_n.onDestroy(()=>Pc(Mi,pr.toStyles)),void i.push(_n);const zO=[];pr.timelines.forEach(js=>{js.stretchStartingKeyframe=!0,this.disabledNodes.has(js.element)||zO.push(js)}),pr.timelines=zO,r.append(Mi,pr.timelines),c.push({instruction:pr,player:_n,element:Mi}),pr.queriedElements.forEach(js=>Qo(f,js,[]).push(_n)),pr.preStyleProps.forEach((js,Dg)=>{const pf=Object.keys(js);if(pf.length){let Ig=_.get(Dg);Ig||_.set(Dg,Ig=new Set),pf.forEach(jA=>Ig.add(jA))}}),pr.postStyleProps.forEach((js,Dg)=>{const pf=Object.keys(js);let Ig=E.get(Dg);Ig||E.set(Dg,Ig=new Set),pf.forEach(jA=>Ig.add(jA))})});if(Pt.length){const ht=[];Pt.forEach(Rt=>{ht.push(function KB(n,e){return new d.vHH(3505,rn)}())}),xt.forEach(Rt=>Rt.destroy()),this.reportError(ht)}const un=new Map,Us=new Map;c.forEach(ht=>{const Rt=ht.element;r.has(Rt)&&(Us.set(Rt,Rt),this._beforeAnimationBuild(ht.player.namespaceId,ht.instruction,un))}),i.forEach(ht=>{const Rt=ht.element;this._getPreviousPlayers(Rt,!1,ht.namespaceId,ht.triggerName,null).forEach(_n=>{Qo(un,Rt,[]).push(_n),_n.destroy()})});const Qu=Te.filter(ht=>OO(ht,_,E)),Xu=new Map;xO(Xu,this.driver,st,E,Yu).forEach(ht=>{OO(ht,_,E)&&Qu.push(ht)});const R0=new Map;B.forEach((ht,Rt)=>{xO(R0,this.driver,new Set(ht),_,"!")}),Qu.forEach(ht=>{const Rt=Xu.get(ht),Bt=R0.get(ht);Xu.set(ht,Object.assign(Object.assign({},Rt),Bt))});const Cg=[],$O=[],GO={};c.forEach(ht=>{const{element:Rt,player:Bt,instruction:_n}=ht;if(r.has(Rt)){if(I.has(Rt))return Bt.onDestroy(()=>Pc(Rt,_n.toStyles)),Bt.disabled=!0,Bt.overrideTotalTime(_n.totalTime),void i.push(Bt);let Mi=GO;if(Us.size>1){let Jo=Rt;const ff=[];for(;Jo=Jo.parentNode;){const pr=Us.get(Jo);if(pr){Mi=pr;break}ff.push(Jo)}ff.forEach(pr=>Us.set(pr,Mi))}const Nc=this._buildAnimation(Bt.namespaceId,_n,un,a,R0,Xu);if(Bt.setRealPlayer(Nc),Mi===GO)Cg.push(Bt);else{const Jo=this.playersByElement.get(Mi);Jo&&Jo.length&&(Bt.parentPlayer=df(Jo)),i.push(Bt)}}else Eg(Rt,_n.fromStyles),Bt.onDestroy(()=>Pc(Rt,_n.toStyles)),$O.push(Bt),I.has(Rt)&&i.push(Bt)}),$O.forEach(ht=>{const Rt=a.get(ht.element);if(Rt&&Rt.length){const Bt=df(Rt);ht.setRealPlayer(Bt)}}),i.forEach(ht=>{ht.parentPlayer?ht.syncPlayerEvents(ht.parentPlayer):ht.destroy()});for(let ht=0;ht<Te.length;ht++){const Rt=Te[ht],Bt=Rt[La];if(dy(Rt,$D),Bt&&Bt.hasAnimation)continue;let _n=[];if(f.size){let Nc=f.get(Rt);Nc&&Nc.length&&_n.push(...Nc);let Jo=this.driver.query(Rt,IA,!0);for(let ff=0;ff<Jo.length;ff++){let pr=f.get(Jo[ff]);pr&&pr.length&&_n.push(...pr)}}const Mi=_n.filter(Nc=>!Nc.destroyed);Mi.length?KU(this,Rt,Mi):this.processLeaveNode(Rt)}return Te.length=0,Cg.forEach(ht=>{this.players.push(ht),ht.onDone(()=>{ht.destroy();const Rt=this.players.indexOf(ht);this.players.splice(Rt,1)}),ht.play()}),Cg}elementContainsData(e,t){let r=!1;const i=t[La];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,a){let c=[];if(t){const f=this.playersByQueriedElement.get(e);f&&(c=f)}else{const f=this.playersByElement.get(e);if(f){const _=!a||a==x0;f.forEach(E=>{E.queued||!_&&E.triggerName!=i||c.push(E)})}}return(r||i)&&(c=c.filter(f=>!(r&&r!=f.namespaceId||i&&i!=f.triggerName))),c}_beforeAnimationBuild(e,t,r){const a=t.element,c=t.isRemovalTransition?void 0:e,f=t.isRemovalTransition?void 0:t.triggerName;for(const _ of t.timelines){const E=_.element,I=E!==a,x=Qo(r,E,[]);this._getPreviousPlayers(E,I,c,f,t.toState).forEach(B=>{const j=B.getRealPlayer();j.beforeDestroy&&j.beforeDestroy(),B.destroy(),x.push(B)})}Eg(a,t.fromStyles)}_buildAnimation(e,t,r,i,a,c){const f=t.triggerName,_=t.element,E=[],I=new Set,x=new Set,F=t.timelines.map(j=>{const le=j.element;I.add(le);const Te=le[La];if(Te&&Te.removedBeforeQueried)return new A0(j.duration,j.delay);const qe=le!==_,st=function YU(n){const e=[];return kO(n,e),e}((r.get(le)||HU).map(un=>un.getRealPlayer())).filter(un=>!!un.element&&un.element===le),pt=a.get(le),lt=c.get(le),xt=iO(0,this._normalizer,0,j.keyframes,pt,lt),Pt=this._buildPlayer(j,xt,st);if(j.subTimeline&&i&&x.add(le),qe){const un=new BA(e,f,le);un.setRealPlayer(Pt),E.push(un)}return Pt});E.forEach(j=>{Qo(this.playersByQueriedElement,j.element,[]).push(j),j.onDone(()=>function qU(n,e,t){let r;if(n instanceof Map){if(r=n.get(e),r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}}else if(r=n[e],r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&delete n[e]}return r}(this.playersByQueriedElement,j.element,j))}),I.forEach(j=>Va(j,pO));const B=df(F);return B.onDestroy(()=>{I.forEach(j=>dy(j,pO)),Pc(_,t.toStyles)}),x.forEach(j=>{Qo(i,j,[]).push(B)}),B}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new A0(e.duration,e.delay)}}class BA{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new A0,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(r=>yA(e,t,void 0,r))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Qo(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function iI(n){return n&&1===n.nodeType}function MO(n,e){const t=n.style.display;return n.style.display=null!=e?e:"none",t}function xO(n,e,t,r,i){const a=[];t.forEach(_=>a.push(MO(_)));const c=[];r.forEach((_,E)=>{const I={};_.forEach(x=>{const F=I[x]=e.computeStyle(E,x,i);(!F||0==F.length)&&(E[La]=$U,c.push(E))}),n.set(E,I)});let f=0;return t.forEach(_=>MO(_,a[f++])),c}function RO(n,e){const t=new Map;if(n.forEach(f=>t.set(f,[])),0==e.length)return t;const i=new Set(e),a=new Map;function c(f){if(!f)return 1;let _=a.get(f);if(_)return _;const E=f.parentNode;return _=t.has(E)?E:i.has(E)?1:c(E),a.set(f,_),_}return e.forEach(f=>{const _=c(f);1!==_&&t.get(_).push(f)}),t}function Va(n,e){var t;null===(t=n.classList)||void 0===t||t.add(e)}function dy(n,e){var t;null===(t=n.classList)||void 0===t||t.remove(e)}function KU(n,e,t){df(t).onDone(()=>n.processLeaveNode(e))}function kO(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof Hk?kO(r.players,e):e.push(r)}}function OO(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(a=>i.add(a)):e.set(n,r),t.delete(n),!0}class sI{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,a)=>{},this._transitionEngine=new zU(e,t,r),this._timelineEngine=new LU(e,t,r),this._transitionEngine.onRemovalComplete=(i,a)=>this.onRemovalComplete(i,a)}registerTrigger(e,t,r,i,a){const c=e+"-"+i;let f=this._triggerCache[c];if(!f){const _=[],I=MA(this._driver,a,_,[]);if(_.length)throw function VB(n,e){return new d.vHH(3404,rn)}();f=function OU(n,e,t){return new PU(n,e,t)}(i,I,this._normalizer),this._triggerCache[c]=f}this._transitionEngine.registerTrigger(t,i,f)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r,i){this._transitionEngine.removeNode(e,t,i||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[a,c]=sO(r);this._timelineEngine.command(a,t,c,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,a){if("@"==r.charAt(0)){const[c,f]=sO(r);return this._timelineEngine.listen(c,t,f,a)}return this._transitionEngine.listen(e,t,r,i,a)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let JU=(()=>{class n{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let a=n.initialStylesByElement.get(t);a||n.initialStylesByElement.set(t,a={}),this._initialStyles=a}start(){this._state<1&&(this._startStyles&&Pc(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Pc(this._element,this._initialStyles),this._endStyles&&(Pc(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Eg(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Eg(this._element,this._endStyles),this._endStyles=null),Pc(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function UA(n){let e=null;const t=Object.keys(n);for(let r=0;r<t.length;r++){const i=t[r];e2(i)&&(e=e||{},e[i]=n[i])}return e}function e2(n){return"display"===n||"position"===n}class PO{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,r){return e.animate(t,r)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};if(this.hasStarted()){const t=this._finalKeyframe;Object.keys(t).forEach(r=>{"offset"!=r&&(e[r]=this._finished?t[r]:vO(this.element,r))})}this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class t2{validateStyleProperty(e){return cO(e)}matchesElement(e,t){return!1}containsElement(e,t){return uO(e,t)}getParentElement(e){return wA(e)}query(e,t,r){return dO(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,i,a,c=[]){const _={duration:r,delay:i,fill:0==i?"both":"forwards"};a&&(_.easing=a);const E={},I=c.filter(F=>F instanceof PO);(function sU(n,e){return 0===n||0===e})(r,i)&&I.forEach(F=>{let B=F.currentSnapshot;Object.keys(B).forEach(j=>E[j]=B[j])}),t=function oU(n,e,t){const r=Object.keys(t);if(r.length&&e.length){let a=e[0],c=[];if(r.forEach(f=>{a.hasOwnProperty(f)||c.push(f),a[f]=t[f]}),c.length)for(var i=1;i<e.length;i++){let f=e[i];c.forEach(function(_){f[_]=vO(n,_)})}}return e}(e,t=t.map(F=>hf(F,!1)),E);const x=function XU(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=UA(e[0]),e.length>1&&(r=UA(e[e.length-1]))):e&&(t=UA(e)),t||r?new JU(n,t,r):null}(e,t);return new PO(e,t,_,x)}}let n2=(()=>{class n extends Fk{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:d.ifc.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?Vk(t):t;return NO(this._renderer,null,r,"register",[i]),new r2(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.FYo),d.LFG(se))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();class r2 extends class PL{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new s2(this._id,e,t||{},this._renderer)}}class s2{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return NO(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){var e,t;return null!==(t=null===(e=this._renderer.engine.players[+this.id])||void 0===e?void 0:e.getPosition())&&void 0!==t?t:0}}function NO(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const FO="@.disabled";let o2=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(a,c)=>{const f=null==c?void 0:c.parentNode(a);f&&c.removeChild(f,a)}}createRenderer(t,r){const a=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let I=this._rendererCache.get(a);return I||(I=new LO("",a,this.engine),this._rendererCache.set(a,I)),I}const c=r.id,f=r.id+"-"+this._currentId;this._currentId++,this.engine.register(f,t);const _=I=>{Array.isArray(I)?I.forEach(_):this.engine.registerTrigger(c,f,t,I.name,I)};return r.data.animation.forEach(_),new a2(this,f,a,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(a=>{const[c,f]=a;c(f)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.FYo),d.LFG(sI),d.LFG(d.R0b))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();class LO{constructor(e,t,r){this.namespaceId=e,this.delegate=t,this.engine=r,this.destroyNode=this.delegate.destroyNode?i=>t.destroyNode(i):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==FO?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class a2 extends LO{constructor(e,t,r,i){super(t,r,i),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==FO?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.substr(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function l2(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let a=t.substr(1),c="";return"@"!=a.charAt(0)&&([a,c]=function c2(n){const e=n.indexOf(".");return[n.substring(0,e),n.substr(e+1)]}(a)),this.engine.listen(this.namespaceId,i,a,c,f=>{this.factory.scheduleListenerCallback(f._data||-1,r,f)})}return this.delegate.listen(e,t,r)}}let u2=(()=>{class n extends sI{constructor(t,r,i){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(se),d.LFG(CA),d.LFG(PA))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const VO=new d.OlP("AnimationModuleType"),BO=[{provide:Fk,useClass:n2},{provide:PA,useFactory:function d2(){return new AU}},{provide:sI,useClass:u2},{provide:d.FYo,useFactory:function h2(n,e,t){return new o2(n,e,t)},deps:[wo,sI,d.R0b]}],UO=[{provide:CA,useFactory:()=>new t2},{provide:VO,useValue:"BrowserAnimations"},...BO],f2=[{provide:CA,useClass:hO},{provide:VO,useValue:"NoopAnimations"},...BO];let p2=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?f2:UO}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:UO,imports:[ca]}),n})();const jO_firebase={projectId:"aled3-chat",appId:"1:927016888998:web:4748c889235f38e7732267",databaseURL:"https://aled3-chat-default-rtdb.firebaseio.com",storageBucket:"aled3-chat.appspot.com",locationId:"us-central",apiKey:"AIzaSyCy-0HqH8lwFsBpKkkEIbAQxXFmNuXGWXI",authDomain:"aled3-chat.firebaseapp.com",messagingSenderId:"927016888998"};let g2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n,bootstrap:[lV]}),n.\u0275inj=d.cJS({providers:[iR],imports:[[ca,NF,_I,dV,fV,_V,Yk,ZL,yV,ZV,KV,JV,oB,oV,lB,pB,gB,mB,p2,D0,ck,Ta.hO.initializeApp(jO_firebase),EN,fN]]}),n})();(0,d.G48)(),Pl().bootstrapModule(g2).catch(n=>console.error(n))},5867:(tt,be,P)=>{P.d(be,{C6:()=>d.getApps,Mq:()=>d.getApp});var d=P(9681);(0,d.registerVersion)("firebase","9.12.1","app")},127:(tt,be,P)=>{P.d(be,{Z:()=>d.Z});var d=P(3942);d.Z.registerVersion("firebase","9.12.1","app-compat")},9545:(tt,be,P)=>{P.r(be);var d=P(5861),J=P(3942),N=P(2090),ce=P(9681),oe=P(1877),me=P(655),se=P(4859);const Ne=function Be(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},je=function Me(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ge=new N.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ze=new oe.Yd("@firebase/auth");function Xe(y,...p){Ze.logLevel<=oe.in.ERROR&&Ze.error(`Auth (${ce.SDK_VERSION}): ${y}`,...p)}function ke(y,...p){throw He(y,...p)}function ye(y,...p){return He(y,...p)}function Ie(y,p,g){const b=Object.assign(Object.assign({},je()),{[p]:g});return new N.LL("auth","Firebase",b).create(p,{appName:y.name})}function Ue(y,p,g){if(!(p instanceof g))throw g.name!==p.constructor.name&&ke(y,"argument-error"),Ie(y,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function He(y,...p){if("string"!=typeof y){const g=p[0],b=[...p.slice(1)];return b[0]&&(b[0].appName=y.name),y._errorFactory.create(g,...b)}return ge.create(y,...p)}function q(y,p,...g){if(!y)throw He(p,...g)}function Ee(y){const p="INTERNAL ASSERTION FAILED: "+y;throw Xe(p),new Error(p)}function K(y,p){y||Ee(p)}const ne=new Map;function ee(y){K(y instanceof Function,"Expected a class definition");let p=ne.get(y);return p?(K(p instanceof y,"Instance stored in cache mismatched with class"),p):(p=new y,ne.set(y,p),p)}function Fe(){var y;return"undefined"!=typeof self&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function gt(){return"http:"===Jt()||"https:"===Jt()}function Jt(){var y;return"undefined"!=typeof self&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class sn{constructor(p,g){this.shortDelay=p,this.longDelay=g,K(g>p,"Short delay should be less than long delay!"),this.isMobile=(0,N.uI)()||(0,N.b$)()}get(){return function jt(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(gt()||(0,N.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function bn(y,p){K(y.emulator,"Emulator should always be set here");const{url:g}=y.emulator;return p?`${g}${p.startsWith("/")?p.slice(1):p}`:g}class dn{static initialize(p,g,b){this.fetchImpl=p,g&&(this.headersImpl=g),b&&(this.responseImpl=b)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Ee("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Ee("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Ee("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const tn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Or=new sn(3e4,6e4);function Qt(y,p){return y.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:y.tenantId}):p}function Wt(y,p,g,b){return si.apply(this,arguments)}function si(){return(si=(0,d.Z)(function*(y,p,g,b,S={}){return qi(y,S,(0,d.Z)(function*(){let O={},W={};b&&("GET"===p?W=b:O={body:JSON.stringify(b)});const he=(0,N.xO)(Object.assign({key:y.config.apiKey},W)).slice(1),Le=yield y._getAdditionalHeaders();return Le["Content-Type"]="application/json",y.languageCode&&(Le["X-Firebase-Locale"]=y.languageCode),dn.fetch()(gs(y,y.config.apiHost,g,he),Object.assign({method:p,headers:Le,referrerPolicy:"no-referrer"},O))}))})).apply(this,arguments)}function qi(y,p,g){return Pr.apply(this,arguments)}function Pr(){return(Pr=(0,d.Z)(function*(y,p,g){y._canInitEmulator=!1;const b=Object.assign(Object.assign({},tn),p);try{const S=new gi(y),O=yield Promise.race([g(),S.promise]);S.clearNetworkTimeout();const W=yield O.json();if("needConfirmation"in W)throw xi(y,"account-exists-with-different-credential",W);if(O.ok&&!("errorMessage"in W))return W;{const he=O.ok?W.errorMessage:W.error.message,[Le,Qe]=he.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Le)throw xi(y,"credential-already-in-use",W);if("EMAIL_EXISTS"===Le)throw xi(y,"email-already-in-use",W);if("USER_DISABLED"===Le)throw xi(y,"user-disabled",W);const vt=b[Le]||Le.toLowerCase().replace(/[_\s]+/g,"-");if(Qe)throw Ie(y,vt,Qe);ke(y,vt)}}catch(S){if(S instanceof N.ZR)throw S;ke(y,"network-request-failed")}})).apply(this,arguments)}function oi(y,p,g,b){return ps.apply(this,arguments)}function ps(){return(ps=(0,d.Z)(function*(y,p,g,b,S={}){const O=yield Wt(y,p,g,b,S);return"mfaPendingCredential"in O&&ke(y,"multi-factor-auth-required",{_serverResponse:O}),O})).apply(this,arguments)}function gs(y,p,g,b){const S=`${p}${g}?${b}`;return y.config.emulator?bn(y.config,S):`${y.config.apiScheme}://${S}`}class gi{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((g,b)=>{this.timer=setTimeout(()=>b(ye(this.auth,"network-request-failed")),Or.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function xi(y,p,g){const b={appName:y.name};g.email&&(b.email=g.email),g.phoneNumber&&(b.phoneNumber=g.phoneNumber);const S=ye(y,p,b);return S.customData._tokenResponse=g,S}function Nr(){return(Nr=(0,d.Z)(function*(y,p){return Wt(y,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function Mn(y,p){return lr.apply(this,arguments)}function lr(){return(lr=(0,d.Z)(function*(y,p){return Wt(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Hs(y,p){return Wi.apply(this,arguments)}function Wi(){return(Wi=(0,d.Z)(function*(y,p){return Wt(y,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function tr(y){if(y)try{const p=new Date(Number(y));if(!isNaN(p.getTime()))return p.toUTCString()}catch(p){}}function fo(){return(fo=(0,d.Z)(function*(y,p=!1){const g=(0,N.m9)(y),b=yield g.getIdToken(p),S=ct(b);q(S&&S.exp&&S.auth_time&&S.iat,g.auth,"internal-error");const O="object"==typeof S.firebase?S.firebase:void 0,W=null==O?void 0:O.sign_in_provider;return{claims:S,token:b,authTime:tr(Xt(S.auth_time)),issuedAtTime:tr(Xt(S.iat)),expirationTime:tr(Xt(S.exp)),signInProvider:W||null,signInSecondFactor:(null==O?void 0:O.sign_in_second_factor)||null}})).apply(this,arguments)}function Xt(y){return 1e3*Number(y)}function ct(y){var p;const[g,b,S]=y.split(".");if(void 0===g||void 0===b||void 0===S)return Xe("JWT malformed, contained fewer than 3 sections"),null;try{const O=(0,N.tV)(b);return O?JSON.parse(O):(Xe("Failed to decode base64 JWT payload"),null)}catch(O){return Xe("Caught error parsing JWT payload as JSON",null===(p=O)||void 0===p?void 0:p.toString()),null}}function Fr(y,p){return Lr.apply(this,arguments)}function Lr(){return(Lr=(0,d.Z)(function*(y,p,g=!1){if(g)return p;try{return yield p}catch(b){throw b instanceof N.ZR&&Zt(b)&&y.auth.currentUser===y&&(yield y.auth.signOut()),b}})).apply(this,arguments)}function Zt({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}class po{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var g;if(p){const b=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),b}{this.errorBackoff=3e4;const S=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,S)}}schedule(p=!1){var g=this;if(!this.isRunning)return;const b=this.getInterval(p);this.timerId=setTimeout((0,d.Z)(function*(){yield g.iteration()}),b)}iteration(){var p=this;return(0,d.Z)(function*(){var g;try{yield p.user.getIdToken(!0)}catch(b){return void("auth/network-request-failed"===(null===(g=b)||void 0===g?void 0:g.code)&&p.schedule(!0))}p.schedule()})()}}class Vr{constructor(p,g){this.createdAt=p,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=tr(this.lastLoginAt),this.creationTime=tr(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Br(y){return _t.apply(this,arguments)}function _t(){return(_t=(0,d.Z)(function*(y){var p;const g=y.auth,b=yield y.getIdToken(),S=yield Fr(y,Hs(g,{idToken:b}));q(null==S?void 0:S.users.length,g,"internal-error");const O=S.users[0];y._notifyReloadListener(O);const W=(null===(p=O.providerUserInfo)||void 0===p?void 0:p.length)?et(O.providerUserInfo):[],he=ms(y.providerData,W),vt=!!y.isAnonymous&&!(y.email&&O.passwordHash||(null==he?void 0:he.length)),mt={uid:O.localId,displayName:O.displayName||null,photoURL:O.photoUrl||null,email:O.email||null,emailVerified:O.emailVerified||!1,phoneNumber:O.phoneNumber||null,tenantId:O.tenantId||null,providerData:he,metadata:new Vr(O.createdAt,O.lastLoginAt),isAnonymous:vt};Object.assign(y,mt)})).apply(this,arguments)}function $t(){return($t=(0,d.Z)(function*(y){const p=(0,N.m9)(y);yield Br(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function ms(y,p){return[...y.filter(b=>!p.some(S=>S.providerId===b.providerId)),...p]}function et(y){return y.map(p=>{var{providerId:g}=p,b=(0,me._T)(p,["providerId"]);return{providerId:g,uid:b.rawId||"",displayName:b.displayName||null,email:b.email||null,phoneNumber:b.phoneNumber||null,photoURL:b.photoUrl||null}})}function Ke(){return(Ke=(0,d.Z)(function*(y,p){const g=yield qi(y,{},(0,d.Z)(function*(){const b=(0,N.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:S,apiKey:O}=y.config,W=gs(y,S,"/v1/token",`key=${O}`),he=yield y._getAdditionalHeaders();return he["Content-Type"]="application/x-www-form-urlencoded",dn.fetch()(W,{method:"POST",headers:he,body:b})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class kt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){q(p.idToken,"internal-error"),q(void 0!==p.idToken,"internal-error"),q(void 0!==p.refreshToken,"internal-error");const g="expiresIn"in p&&void 0!==p.expiresIn?Number(p.expiresIn):function bt(y){const p=ct(y);return q(p,"internal-error"),q(void 0!==p.exp,"internal-error"),q(void 0!==p.iat,"internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,g)}getToken(p,g=!1){var b=this;return(0,d.Z)(function*(){return q(!b.accessToken||b.refreshToken,p,"user-token-expired"),g||!b.accessToken||b.isExpired?b.refreshToken?(yield b.refresh(p,b.refreshToken),b.accessToken):null:b.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,g){var b=this;return(0,d.Z)(function*(){const{accessToken:S,refreshToken:O,expiresIn:W}=yield function Se(y,p){return Ke.apply(this,arguments)}(p,g);b.updateTokensAndExpiration(S,O,Number(W))})()}updateTokensAndExpiration(p,g,b){this.refreshToken=g||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*b}static fromJSON(p,g){const{refreshToken:b,accessToken:S,expirationTime:O}=g,W=new kt;return b&&(q("string"==typeof b,"internal-error",{appName:p}),W.refreshToken=b),S&&(q("string"==typeof S,"internal-error",{appName:p}),W.accessToken=S),O&&(q("number"==typeof O,"internal-error",{appName:p}),W.expirationTime=O),W}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new kt,this.toJSON())}_performRefresh(){return Ee("not implemented")}}function Ct(y,p){q("string"==typeof y||void 0===y,"internal-error",{appName:p})}class Gt{constructor(p){var{uid:g,auth:b,stsTokenManager:S}=p,O=(0,me._T)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new po(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=b,this.stsTokenManager=S,this.accessToken=S.accessToken,this.displayName=O.displayName||null,this.email=O.email||null,this.emailVerified=O.emailVerified||!1,this.phoneNumber=O.phoneNumber||null,this.photoURL=O.photoURL||null,this.isAnonymous=O.isAnonymous||!1,this.tenantId=O.tenantId||null,this.providerData=O.providerData?[...O.providerData]:[],this.metadata=new Vr(O.createdAt||void 0,O.lastLoginAt||void 0)}getIdToken(p){var g=this;return(0,d.Z)(function*(){const b=yield Fr(g,g.stsTokenManager.getToken(g.auth,p));return q(b,g.auth,"internal-error"),g.accessToken!==b&&(g.accessToken=b,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),b})()}getIdTokenResult(p){return function mi(y){return fo.apply(this,arguments)}(this,p)}reload(){return function go(y){return $t.apply(this,arguments)}(this)}_assign(p){this!==p&&(q(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(g=>Object.assign({},g)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){return new Gt(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(p){q(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,g=!1){var b=this;return(0,d.Z)(function*(){let S=!1;p.idToken&&p.idToken!==b.stsTokenManager.accessToken&&(b.stsTokenManager.updateFromServerResponse(p),S=!0),g&&(yield Br(b)),yield b.auth._persistUserIfCurrent(b),S&&b.auth._notifyListenersIfCurrent(b)})()}delete(){var p=this;return(0,d.Z)(function*(){const g=yield p.getIdToken();return yield Fr(p,function wt(y,p){return Nr.apply(this,arguments)}(p.auth,{idToken:g})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,g){var b,S,O,W,he,Le,Qe,vt;const mt=null!==(b=g.displayName)&&void 0!==b?b:void 0,yr=null!==(S=g.email)&&void 0!==S?S:void 0,Kr=null!==(O=g.phoneNumber)&&void 0!==O?O:void 0,il=null!==(W=g.photoURL)&&void 0!==W?W:void 0,Uf=null!==(he=g.tenantId)&&void 0!==he?he:void 0,jf=null!==(Le=g._redirectEventId)&&void 0!==Le?Le:void 0,or=null!==(Qe=g.createdAt)&&void 0!==Qe?Qe:void 0,om=null!==(vt=g.lastLoginAt)&&void 0!==vt?vt:void 0,{uid:qd,emailVerified:du,isAnonymous:wa,providerData:Ca,stsTokenManager:am}=g;q(qd&&am,p,"internal-error");const lm=kt.fromJSON(this.name,am);q("string"==typeof qd,p,"internal-error"),Ct(mt,p.name),Ct(yr,p.name),q("boolean"==typeof du,p,"internal-error"),q("boolean"==typeof wa,p,"internal-error"),Ct(Kr,p.name),Ct(il,p.name),Ct(Uf,p.name),Ct(jf,p.name),Ct(or,p.name),Ct(om,p.name);const rc=new Gt({uid:qd,auth:p,email:yr,emailVerified:du,displayName:mt,isAnonymous:wa,photoURL:il,phoneNumber:Kr,tenantId:Uf,stsTokenManager:lm,createdAt:or,lastLoginAt:om});return Ca&&Array.isArray(Ca)&&(rc.providerData=Ca.map(cm=>Object.assign({},cm))),jf&&(rc._redirectEventId=jf),rc}static _fromIdTokenResponse(p,g,b=!1){return(0,d.Z)(function*(){const S=new kt;S.updateFromServerResponse(g);const O=new Gt({uid:g.localId,auth:p,stsTokenManager:S,isAnonymous:b});return yield Br(O),O})()}}const U=(()=>{class y{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,d.Z)(function*(){return!0})()}_set(g,b){var S=this;return(0,d.Z)(function*(){S.storage[g]=b})()}_get(g){var b=this;return(0,d.Z)(function*(){const S=b.storage[g];return void 0===S?null:S})()}_remove(g){var b=this;return(0,d.Z)(function*(){delete b.storage[g]})()}_addListener(g,b){}_removeListener(g,b){}}return y.type="NONE",y})();function Y(y,p,g){return`firebase:${y}:${p}:${g}`}class we{constructor(p,g,b){this.persistence=p,this.auth=g,this.userKey=b;const{config:S,name:O}=this.auth;this.fullUserKey=Y(this.userKey,S.apiKey,O),this.fullPersistenceKey=Y("persistence",S.apiKey,O),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,d.Z)(function*(){const g=yield p.persistence._get(p.fullUserKey);return g?Gt._fromJSON(p.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var g=this;return(0,d.Z)(function*(){if(g.persistence===p)return;const b=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=p,b?g.setCurrentUser(b):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,g,b="authUser"){return(0,d.Z)(function*(){if(!g.length)return new we(ee(U),p,b);const S=(yield Promise.all(g.map(function(){var Qe=(0,d.Z)(function*(vt){if(yield vt._isAvailable())return vt});return function(vt){return Qe.apply(this,arguments)}}()))).filter(Qe=>Qe);let O=S[0]||ee(U);const W=Y(b,p.config.apiKey,p.name);let he=null;for(const Qe of g)try{const vt=yield Qe._get(W);if(vt){const mt=Gt._fromJSON(p,vt);Qe!==O&&(he=mt),O=Qe;break}}catch(vt){}const Le=S.filter(Qe=>Qe._shouldAllowMigration);return O._shouldAllowMigration&&Le.length?(O=Le[0],he&&(yield O._set(W,he.toJSON())),yield Promise.all(g.map(function(){var Qe=(0,d.Z)(function*(vt){if(vt!==O)try{yield vt._remove(W)}catch(mt){}});return function(vt){return Qe.apply(this,arguments)}}())),new we(O,p,b)):new we(O,p,b)})()}}function re(y){const p=y.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(nn(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(nt(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(nr(p))return"Blackberry";if(At(p))return"Webos";if(Nt(p))return"Safari";if((p.includes("chrome/")||fn(p))&&!p.includes("edge/"))return"Chrome";if(hn(p))return"Android";{const b=y.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==b?void 0:b.length))return b[1]}return"Other"}function nt(y=(0,N.z$)()){return/firefox\//i.test(y)}function Nt(y=(0,N.z$)()){const p=y.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function fn(y=(0,N.z$)()){return/crios\//i.test(y)}function nn(y=(0,N.z$)()){return/iemobile/i.test(y)}function hn(y=(0,N.z$)()){return/android/i.test(y)}function nr(y=(0,N.z$)()){return/blackberry/i.test(y)}function At(y=(0,N.z$)()){return/webos/i.test(y)}function Cn(y=(0,N.z$)()){return/iphone|ipad|ipod/i.test(y)||/macintosh/i.test(y)&&/mobile/i.test(y)}function $s(y=(0,N.z$)()){return Cn(y)||hn(y)||At(y)||nr(y)||/windows phone/i.test(y)||nn(y)}function ea(y,p=[]){let g;switch(y){case"Browser":g=re((0,N.z$)());break;case"Worker":g=`${re((0,N.z$)())}-${y}`;break;default:g=y}const b=p.length?p.join(","):"FirebaseCore-web";return`${g}/JsCore/${ce.SDK_VERSION}/${b}`}class ai{constructor(p){this.auth=p,this.queue=[]}pushCallback(p,g){const b=O=>new Promise((W,he)=>{try{W(p(O))}catch(Le){he(Le)}});b.onAbort=g,this.queue.push(b);const S=this.queue.length-1;return()=>{this.queue[S]=()=>Promise.resolve()}}runMiddleware(p){var g=this;return(0,d.Z)(function*(){var b;if(g.auth.currentUser===p)return;const S=[];try{for(const O of g.queue)yield O(p),O.onAbort&&S.push(O.onAbort)}catch(O){S.reverse();for(const W of S)try{W()}catch(he){}throw g.auth._errorFactory.create("login-blocked",{originalMessage:null===(b=O)||void 0===b?void 0:b.message})}})()}}class Ye{constructor(p,g,b){this.app=p,this.heartbeatServiceProvider=g,this.config=b,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new pn(this),this.idTokenSubscription=new pn(this),this.beforeStateQueue=new ai(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ge,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=b.sdkClientVersion}_initializeWithPersistence(p,g){var b=this;return g&&(this._popupRedirectResolver=ee(g)),this._initializationPromise=this.queue((0,d.Z)(function*(){var S,O;if(!b._deleted&&(b.persistenceManager=yield we.create(b,p),!b._deleted)){if(null===(S=b._popupRedirectResolver)||void 0===S?void 0:S._shouldInitProactively)try{yield b._popupRedirectResolver._initialize(b)}catch(W){}yield b.initializeCurrentUser(g),b.lastNotifiedUid=(null===(O=b.currentUser)||void 0===O?void 0:O.uid)||null,!b._deleted&&(b._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,d.Z)(function*(){if(p._deleted)return;const g=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||g){if(p.currentUser&&g&&p.currentUser.uid===g.uid)return p._currentUser._assign(g),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(g,!0)}})()}initializeCurrentUser(p){var g=this;return(0,d.Z)(function*(){var b;const S=yield g.assertedPersistence.getCurrentUser();let O=S,W=!1;if(p&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const he=null===(b=g.redirectUser)||void 0===b?void 0:b._redirectEventId,Le=null==O?void 0:O._redirectEventId,Qe=yield g.tryRedirectSignIn(p);(!he||he===Le)&&(null==Qe?void 0:Qe.user)&&(O=Qe.user,W=!0)}if(!O)return g.directlySetCurrentUser(null);if(!O._redirectEventId){if(W)try{yield g.beforeStateQueue.runMiddleware(O)}catch(he){O=S,g._popupRedirectResolver._overrideRedirectResult(g,()=>Promise.reject(he))}return O?g.reloadAndSetCurrentUserOrClear(O):g.directlySetCurrentUser(null)}return q(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===O._redirectEventId?g.directlySetCurrentUser(O):g.reloadAndSetCurrentUserOrClear(O)})()}tryRedirectSignIn(p){var g=this;return(0,d.Z)(function*(){let b=null;try{b=yield g._popupRedirectResolver._completeRedirectFn(g,p,!0)}catch(S){yield g._setRedirectUser(null)}return b})()}reloadAndSetCurrentUserOrClear(p){var g=this;return(0,d.Z)(function*(){var b;try{yield Br(p)}catch(S){if("auth/network-request-failed"!==(null===(b=S)||void 0===b?void 0:b.code))return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function Je(){if("undefined"==typeof navigator)return null;const y=navigator;return y.languages&&y.languages[0]||y.language||null}()}_delete(){var p=this;return(0,d.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var g=this;return(0,d.Z)(function*(){const b=p?(0,N.m9)(p):null;return b&&q(b.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(b&&b._clone(g))})()}_updateCurrentUser(p,g=!1){var b=this;return(0,d.Z)(function*(){if(!b._deleted)return p&&q(b.tenantId===p.tenantId,b,"tenant-id-mismatch"),g||(yield b.beforeStateQueue.runMiddleware(p)),b.queue((0,d.Z)(function*(){yield b.directlySetCurrentUser(p),b.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,d.Z)(function*(){return yield p.beforeStateQueue.runMiddleware(null),(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null,!0)})()}setPersistence(p){var g=this;return this.queue((0,d.Z)(function*(){yield g.assertedPersistence.setPersistence(ee(p))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new N.LL("auth","Firebase",p())}onAuthStateChanged(p,g,b){return this.registerStateListener(this.authStateSubscription,p,g,b)}beforeAuthStateChanged(p,g){return this.beforeStateQueue.pushCallback(p,g)}onIdTokenChanged(p,g,b){return this.registerStateListener(this.idTokenSubscription,p,g,b)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,g){var b=this;return(0,d.Z)(function*(){const S=yield b.getOrInitRedirectPersistenceManager(g);return null===p?S.removeCurrentUser():S.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var g=this;return(0,d.Z)(function*(){if(!g.redirectPersistenceManager){const b=p&&ee(p)||g._popupRedirectResolver;q(b,g,"argument-error"),g.redirectPersistenceManager=yield we.create(g,[ee(b._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(p){var g=this;return(0,d.Z)(function*(){var b,S;return g._isInitialized&&(yield g.queue((0,d.Z)(function*(){}))),(null===(b=g._currentUser)||void 0===b?void 0:b._redirectEventId)===p?g._currentUser:(null===(S=g.redirectUser)||void 0===S?void 0:S._redirectEventId)===p?g.redirectUser:null})()}_persistUserIfCurrent(p){var g=this;return(0,d.Z)(function*(){if(p===g.currentUser)return g.queue((0,d.Z)(function*(){return g.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const b=null!==(g=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==b&&(this.lastNotifiedUid=b,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,g,b,S){if(this._deleted)return()=>{};const O="function"==typeof g?g:g.next.bind(g),W=this._isInitialized?Promise.resolve():this._initializationPromise;return q(W,this,"internal-error"),W.then(()=>O(this.currentUser)),"function"==typeof g?p.addObserver(g,b,S):p.addObserver(g)}directlySetCurrentUser(p){var g=this;return(0,d.Z)(function*(){g.currentUser&&g.currentUser!==p&&g._currentUser._stopProactiveRefresh(),p&&g.isProactiveRefreshEnabled&&p._startProactiveRefresh(),g.currentUser=p,p?yield g.assertedPersistence.setCurrentUser(p):yield g.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return q(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=ea(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,d.Z)(function*(){var g;const b={"X-Client-Version":p.clientVersion};p.app.options.appId&&(b["X-Firebase-gmpid"]=p.app.options.appId);const S=yield null===(g=p.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getHeartbeatsHeader();return S&&(b["X-Firebase-Client"]=S),b})()}}function ft(y){return(0,N.m9)(y)}class pn{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,N.ne)(g=>this.observer=g)}get next(){return q(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Zi(y){const p=y.indexOf(":");return p<0?"":y.substr(0,p+1)}function Ki(y){if(!y)return null;const p=Number(y);return isNaN(p)?null:p}class Ri{constructor(p,g){this.providerId=p,this.signInMethod=g}toJSON(){return Ee("not implemented")}_getIdTokenResponse(p){return Ee("not implemented")}_linkToIdToken(p,g){return Ee("not implemented")}_getReauthenticationResolver(p){return Ee("not implemented")}}function Ln(y,p){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,d.Z)(function*(y,p){return Wt(y,"POST","/v1/accounts:resetPassword",Qt(y,p))})).apply(this,arguments)}function ta(y,p){return ki.apply(this,arguments)}function ki(){return(ki=(0,d.Z)(function*(y,p){return Wt(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Cl(y,p){return Gs.apply(this,arguments)}function Gs(){return(Gs=(0,d.Z)(function*(y,p){return Wt(y,"POST","/v1/accounts:update",Qt(y,p))})).apply(this,arguments)}function _o(){return(_o=(0,d.Z)(function*(y,p){return oi(y,"POST","/v1/accounts:signInWithPassword",Qt(y,p))})).apply(this,arguments)}function zs(y,p){return zn.apply(this,arguments)}function zn(){return(zn=(0,d.Z)(function*(y,p){return Wt(y,"POST","/v1/accounts:sendOobCode",Qt(y,p))})).apply(this,arguments)}function yn(y,p){return Dl.apply(this,arguments)}function Dl(){return(Dl=(0,d.Z)(function*(y,p){return zs(y,p)})).apply(this,arguments)}function Ua(y,p){return li.apply(this,arguments)}function li(){return(li=(0,d.Z)(function*(y,p){return zs(y,p)})).apply(this,arguments)}function Yi(y,p){return Il.apply(this,arguments)}function Il(){return(Il=(0,d.Z)(function*(y,p){return zs(y,p)})).apply(this,arguments)}function Ju(y,p){return Qi.apply(this,arguments)}function Qi(){return(Qi=(0,d.Z)(function*(y,p){return zs(y,p)})).apply(this,arguments)}function Tl(){return(Tl=(0,d.Z)(function*(y,p){return oi(y,"POST","/v1/accounts:signInWithEmailLink",Qt(y,p))})).apply(this,arguments)}function ed(){return(ed=(0,d.Z)(function*(y,p){return oi(y,"POST","/v1/accounts:signInWithEmailLink",Qt(y,p))})).apply(this,arguments)}class Cr extends Ri{constructor(p,g,b,S=null){super("password",b),this._email=p,this._password=g,this._tenantId=S}static _fromEmailAndPassword(p,g){return new Cr(p,g,"password")}static _fromEmailAndCode(p,g,b=null){return new Cr(p,g,"emailLink",b)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p;if((null==g?void 0:g.email)&&(null==g?void 0:g.password)){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(p){var g=this;return(0,d.Z)(function*(){switch(g.signInMethod){case"password":return function cr(y,p){return _o.apply(this,arguments)}(p,{returnSecureToken:!0,email:g._email,password:g._password});case"emailLink":return function Xi(y,p){return Tl.apply(this,arguments)}(p,{email:g._email,oobCode:g._password});default:ke(p,"internal-error")}})()}_linkToIdToken(p,g){var b=this;return(0,d.Z)(function*(){switch(b.signInMethod){case"password":return ta(p,{idToken:g,returnSecureToken:!0,email:b._email,password:b._password});case"emailLink":return function Tg(y,p){return ed.apply(this,arguments)}(p,{idToken:g,email:b._email,oobCode:b._password});default:ke(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function qs(y,p){return td.apply(this,arguments)}function td(){return(td=(0,d.Z)(function*(y,p){return oi(y,"POST","/v1/accounts:signInWithIdp",Qt(y,p))})).apply(this,arguments)}class ys extends Ri{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const g=new ys(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(g.idToken=p.idToken),p.accessToken&&(g.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(g.nonce=p.nonce),p.pendingToken&&(g.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(g.accessToken=p.oauthToken,g.secret=p.oauthTokenSecret):ke("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p,{providerId:b,signInMethod:S}=g,O=(0,me._T)(g,["providerId","signInMethod"]);if(!b||!S)return null;const W=new ys(b,S);return W.idToken=O.idToken||void 0,W.accessToken=O.accessToken||void 0,W.secret=O.secret,W.nonce=O.nonce,W.pendingToken=O.pendingToken||null,W}_getIdTokenResponse(p){return qs(p,this.buildRequest())}_linkToIdToken(p,g){const b=this.buildRequest();return b.idToken=g,qs(p,b)}_getReauthenticationResolver(p){const g=this.buildRequest();return g.autoCreate=!1,qs(p,g)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),p.postBody=(0,N.xO)(g)}return p}}function Ag(y,p){return nd.apply(this,arguments)}function nd(){return(nd=(0,d.Z)(function*(y,p){return Wt(y,"POST","/v1/accounts:sendVerificationCode",Qt(y,p))})).apply(this,arguments)}function Ws(){return(Ws=(0,d.Z)(function*(y,p){return oi(y,"POST","/v1/accounts:signInWithPhoneNumber",Qt(y,p))})).apply(this,arguments)}function rd(){return(rd=(0,d.Z)(function*(y,p){const g=yield oi(y,"POST","/v1/accounts:signInWithPhoneNumber",Qt(y,p));if(g.temporaryProof)throw xi(y,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const gf={USER_NOT_FOUND:"user-not-found"};function id(){return(id=(0,d.Z)(function*(y,p){return oi(y,"POST","/v1/accounts:signInWithPhoneNumber",Qt(y,Object.assign(Object.assign({},p),{operation:"REAUTH"})),gf)})).apply(this,arguments)}class na extends Ri{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,g){return new na({verificationId:p,verificationCode:g})}static _fromTokenResponse(p,g){return new na({phoneNumber:p,temporaryProof:g})}_getIdTokenResponse(p){return function Fc(y,p){return Ws.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,g){return function Mg(y,p){return rd.apply(this,arguments)}(p,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function xg(y,p){return id.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:g,verificationId:b,verificationCode:S}=this.params;return p&&g?{temporaryProof:p,phoneNumber:g}:{sessionInfo:b,code:S}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:g,verificationCode:b,phoneNumber:S,temporaryProof:O}=p;return b||g||S||O?new na({verificationId:g,verificationCode:b,phoneNumber:S,temporaryProof:O}):null}}class Sl{constructor(p){var g,b,S,O,W,he;const Le=(0,N.zd)((0,N.pd)(p)),Qe=null!==(g=Le.apiKey)&&void 0!==g?g:null,vt=null!==(b=Le.oobCode)&&void 0!==b?b:null,mt=function mf(y){switch(y){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(S=Le.mode)&&void 0!==S?S:null);q(Qe&&vt&&mt,"argument-error"),this.apiKey=Qe,this.operation=mt,this.code=vt,this.continueUrl=null!==(O=Le.continueUrl)&&void 0!==O?O:null,this.languageCode=null!==(W=Le.languageCode)&&void 0!==W?W:null,this.tenantId=null!==(he=Le.tenantId)&&void 0!==he?he:null}static parseLink(p){const g=function ja(y){const p=(0,N.zd)((0,N.pd)(y)).link,g=p?(0,N.zd)((0,N.pd)(p)).deep_link_id:null,b=(0,N.zd)((0,N.pd)(y)).deep_link_id;return(b?(0,N.zd)((0,N.pd)(b)).link:null)||b||g||p||y}(p);try{return new Sl(g)}catch(b){return null}}}let od=(()=>{class y{constructor(){this.providerId=y.PROVIDER_ID}static credential(g,b){return Cr._fromEmailAndPassword(g,b)}static credentialWithLink(g,b){const S=Sl.parseLink(b);return q(S,"argument-error"),Cr._fromEmailAndCode(g,S.code,S.tenantId)}}return y.PROVIDER_ID="password",y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",y.EMAIL_LINK_SIGN_IN_METHOD="emailLink",y})();class Dr{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class yo extends Dr{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class Ji extends yo{static credentialFromJSON(p){const g="string"==typeof p?JSON.parse(p):p;return q("providerId"in g&&"signInMethod"in g,"argument-error"),ys._fromParams(g)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return q(p.idToken||p.accessToken,"argument-error"),ys._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return Ji.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return Ji.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:g,oauthAccessToken:b,oauthTokenSecret:S,pendingToken:O,nonce:W,providerId:he}=p;if(!b&&!S&&!g&&!O||!he)return null;try{return new Ji(he)._credential({idToken:g,accessToken:b,nonce:W,pendingToken:O})}catch(Le){return null}}}let ra=(()=>{class y extends yo{constructor(){super("facebook.com")}static credential(g){return ys._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return y.credential(g.oauthAccessToken)}catch(b){return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),ad=(()=>{class y extends yo{constructor(){super("google.com"),this.addScope("profile")}static credential(g,b){return ys._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:b})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:b,oauthAccessToken:S}=g;if(!b&&!S)return null;try{return y.credential(b,S)}catch(O){return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),_f=(()=>{class y extends yo{constructor(){super("github.com")}static credential(g){return ys._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return y.credential(g.oauthAccessToken)}catch(b){return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class vo extends Ri{constructor(p,g){super(p,p),this.pendingToken=g}_getIdTokenResponse(p){return qs(p,this.buildRequest())}_linkToIdToken(p,g){const b=this.buildRequest();return b.idToken=g,qs(p,b)}_getReauthenticationResolver(p){const g=this.buildRequest();return g.autoCreate=!1,qs(p,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p,{providerId:b,signInMethod:S,pendingToken:O}=g;return b&&S&&O&&b===S?new vo(b,O):null}static _create(p,g){return new vo(p,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class jr extends Dr{constructor(p){q(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return jr.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return jr.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const g=vo.fromJSON(p);return q(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:g,providerId:b}=p;if(!g||!b)return null;try{return vo._create(b,g)}catch(S){return null}}}let ld=(()=>{class y extends yo{constructor(){super("twitter.com")}static credential(g,b){return ys._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:b})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:b,oauthTokenSecret:S}=g;if(!b||!S)return null;try{return y.credential(b,S)}catch(O){return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();function Ir(y,p){return sa.apply(this,arguments)}function sa(){return(sa=(0,d.Z)(function*(y,p){return oi(y,"POST","/v1/accounts:signUp",Qt(y,p))})).apply(this,arguments)}class _i{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,g,b,S=!1){return(0,d.Z)(function*(){const O=yield Gt._fromIdTokenResponse(p,b,S),W=Lc(b);return new _i({user:O,providerId:W,_tokenResponse:b,operationType:g})})()}static _forOperation(p,g,b){return(0,d.Z)(function*(){yield p._updateTokensIfNecessary(b,!0);const S=Lc(b);return new _i({user:p,providerId:S,_tokenResponse:b,operationType:g})})()}}function Lc(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}function Vc(){return(Vc=(0,d.Z)(function*(y){var p;const g=ft(y);if(yield g._initializationPromise,null===(p=g.currentUser)||void 0===p?void 0:p.isAnonymous)return new _i({user:g.currentUser,providerId:null,operationType:"signIn"});const b=yield Ir(g,{returnSecureToken:!0}),S=yield _i._fromIdTokenResponse(g,"signIn",b,!0);return yield g._updateCurrentUser(S.user),S})).apply(this,arguments)}class oa extends N.ZR{constructor(p,g,b,S){var O;super(g.code,g.message),this.operationType=b,this.user=S,Object.setPrototypeOf(this,oa.prototype),this.customData={appName:p.name,tenantId:null!==(O=p.tenantId)&&void 0!==O?O:void 0,_serverResponse:g.customData._serverResponse,operationType:b}}static _fromErrorAndOperation(p,g,b,S){return new oa(p,g,b,S)}}function Bc(y,p,g,b){return("reauthenticate"===p?g._getReauthenticationResolver(y):g._getIdTokenResponse(y)).catch(O=>{throw"auth/multi-factor-auth-required"===O.code?oa._fromErrorAndOperation(y,O,p,b):O})}function es(y){return new Set(y.map(({providerId:p})=>p).filter(p=>!!p))}function gn(){return(gn=(0,d.Z)(function*(y,p){const g=(0,N.m9)(y);yield on(!0,g,p);const{providerUserInfo:b}=yield Mn(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[p]}),S=es(b||[]);return g.providerData=g.providerData.filter(O=>S.has(O.providerId)),S.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g})).apply(this,arguments)}function Ha(y,p){return bo.apply(this,arguments)}function bo(){return(bo=(0,d.Z)(function*(y,p,g=!1){const b=yield Fr(y,p._linkToIdToken(y.auth,yield y.getIdToken()),g);return _i._forOperation(y,"link",b)})).apply(this,arguments)}function on(y,p,g){return $a.apply(this,arguments)}function $a(){return($a=(0,d.Z)(function*(y,p,g){yield Br(p);const S=!1===y?"provider-already-linked":"no-such-provider";q(es(p.providerData).has(g)===y,p.auth,S)})).apply(this,arguments)}function Al(y,p){return Zs.apply(this,arguments)}function Zs(){return(Zs=(0,d.Z)(function*(y,p,g=!1){var b;const{auth:S}=y,O="reauthenticate";try{const W=yield Fr(y,Bc(S,O,p,y),g);q(W.idToken,S,"internal-error");const he=ct(W.idToken);q(he,S,"internal-error");const{sub:Le}=he;return q(y.uid===Le,S,"user-mismatch"),_i._forOperation(y,O,W)}catch(W){throw"auth/user-not-found"===(null===(b=W)||void 0===b?void 0:b.code)&&ke(S,"user-mismatch"),W}})).apply(this,arguments)}function mr(y,p){return Uc.apply(this,arguments)}function Uc(){return(Uc=(0,d.Z)(function*(y,p,g=!1){const b="signIn",S=yield Bc(y,b,p),O=yield _i._fromIdTokenResponse(y,b,S);return g||(yield y._updateCurrentUser(O.user)),O})).apply(this,arguments)}function xn(y,p){return ts.apply(this,arguments)}function ts(){return(ts=(0,d.Z)(function*(y,p){return mr(ft(y),p)})).apply(this,arguments)}function _r(y,p){return Eo.apply(this,arguments)}function Eo(){return(Eo=(0,d.Z)(function*(y,p){const g=(0,N.m9)(y);return yield on(!1,g,p.providerId),Ha(g,p)})).apply(this,arguments)}function vs(y,p){return Ga.apply(this,arguments)}function Ga(){return(Ga=(0,d.Z)(function*(y,p){return Al((0,N.m9)(y),p)})).apply(this,arguments)}function Oi(y,p){return ns.apply(this,arguments)}function ns(){return(ns=(0,d.Z)(function*(y,p){return oi(y,"POST","/v1/accounts:signInWithCustomToken",Qt(y,p))})).apply(this,arguments)}function Et(){return(Et=(0,d.Z)(function*(y,p){const g=ft(y),b=yield Oi(g,{token:p,returnSecureToken:!0}),S=yield _i._fromIdTokenResponse(g,"signIn",b);return yield g._updateCurrentUser(S.user),S})).apply(this,arguments)}class Ks{constructor(p,g){this.factorId=p,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(p,g){return"phoneInfo"in g?jc._fromServerResponse(p,g):ke(p,"internal-error")}}class jc extends Ks{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,g){return new jc(g)}}function za(y,p,g){var b;q((null===(b=g.url)||void 0===b?void 0:b.length)>0,y,"invalid-continue-uri"),q(void 0===g.dynamicLinkDomain||g.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),p.continueUrl=g.url,p.dynamicLinkDomain=g.dynamicLinkDomain,p.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(q(g.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),p.iOSBundleId=g.iOS.bundleId),g.android&&(q(g.android.packageName.length>0,y,"missing-android-pkg-name"),p.androidInstallApp=g.android.installApp,p.androidMinimumVersionCode=g.android.minimumVersion,p.androidPackageName=g.android.packageName)}function Ml(){return(Ml=(0,d.Z)(function*(y,p,g){const b=(0,N.m9)(y),S={requestType:"PASSWORD_RESET",email:p};g&&za(b,S,g),yield Ua(b,S)})).apply(this,arguments)}function $c(){return($c=(0,d.Z)(function*(y,p,g){yield Ln((0,N.m9)(y),{oobCode:p,newPassword:g})})).apply(this,arguments)}function xe(){return(xe=(0,d.Z)(function*(y,p){yield Cl((0,N.m9)(y),{oobCode:p})})).apply(this,arguments)}function qt(y,p){return wo.apply(this,arguments)}function wo(){return(wo=(0,d.Z)(function*(y,p){const g=(0,N.m9)(y),b=yield Ln(g,{oobCode:p}),S=b.requestType;switch(q(S,g,"internal-error"),S){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":q(b.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":q(b.mfaInfo,g,"internal-error");default:q(b.email,g,"internal-error")}let O=null;return b.mfaInfo&&(O=Ks._fromServerResponse(ft(g),b.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.newEmail:b.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.email:b.newEmail)||null,multiFactorInfo:O},operation:S}})).apply(this,arguments)}function Rl(){return(Rl=(0,d.Z)(function*(y,p){const{data:g}=yield qt((0,N.m9)(y),p);return g.email})).apply(this,arguments)}function yi(){return(yi=(0,d.Z)(function*(y,p,g){const b=ft(y),S=yield Ir(b,{returnSecureToken:!0,email:p,password:g}),O=yield _i._fromIdTokenResponse(b,"signIn",S);return yield b._updateCurrentUser(O.user),O})).apply(this,arguments)}function qc(){return(qc=(0,d.Z)(function*(y,p,g){const b=(0,N.m9)(y),S={requestType:"EMAIL_SIGNIN",email:p};q(g.handleCodeInApp,b,"argument-error"),g&&za(b,S,g),yield Yi(b,S)})).apply(this,arguments)}function bs(){return(bs=(0,d.Z)(function*(y,p,g){const b=(0,N.m9)(y),S=od.credentialWithLink(p,g||Fe());return q(S._tenantId===(b.tenantId||null),b,"tenant-id-mismatch"),xn(b,S)})).apply(this,arguments)}function Tr(y,p){return vi.apply(this,arguments)}function vi(){return(vi=(0,d.Z)(function*(y,p){return Wt(y,"POST","/v1/accounts:createAuthUri",Qt(y,p))})).apply(this,arguments)}function Ys(){return(Ys=(0,d.Z)(function*(y,p){const b={identifier:p,continueUri:gt()?Fe():"http://localhost"},{signinMethods:S}=yield Tr((0,N.m9)(y),b);return S||[]})).apply(this,arguments)}function Wc(){return(Wc=(0,d.Z)(function*(y,p){const g=(0,N.m9)(y),S={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};p&&za(g.auth,S,p);const{email:O}=yield yn(g.auth,S);O!==y.email&&(yield y.reload())})).apply(this,arguments)}function Pl(){return(Pl=(0,d.Z)(function*(y,p,g){const b=(0,N.m9)(y),O={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:p};g&&za(b.auth,O,g);const{email:W}=yield Ju(b.auth,O);W!==y.email&&(yield y.reload())})).apply(this,arguments)}function Zc(y,p){return ca.apply(this,arguments)}function ca(){return(ca=(0,d.Z)(function*(y,p){return Wt(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Fl(){return(Fl=(0,d.Z)(function*(y,{displayName:p,photoURL:g}){if(void 0===p&&void 0===g)return;const b=(0,N.m9)(y),O={idToken:yield b.getIdToken(),displayName:p,photoUrl:g,returnSecureToken:!0},W=yield Fr(b,Zc(b.auth,O));b.displayName=W.displayName||null,b.photoURL=W.photoUrl||null;const he=b.providerData.find(({providerId:Le})=>"password"===Le);he&&(he.displayName=b.displayName,he.photoURL=b.photoURL),yield b._updateTokensIfNecessary(W)})).apply(this,arguments)}function Ll(y,p,g){return Do.apply(this,arguments)}function Do(){return(Do=(0,d.Z)(function*(y,p,g){const{auth:b}=y,O={idToken:yield y.getIdToken(),returnSecureToken:!0};p&&(O.email=p),g&&(O.password=g);const W=yield Fr(y,ta(b,O));yield y._updateTokensIfNecessary(W,!0)})).apply(this,arguments)}class ua{constructor(p,g,b={}){this.isNewUser=p,this.providerId=g,this.profile=b}}class pd extends ua{constructor(p,g,b,S){super(p,g,b),this.username=S}}class Vl extends ua{constructor(p,g){super(p,"facebook.com",g)}}class ui extends pd{constructor(p,g){super(p,"github.com",g,"string"==typeof(null==g?void 0:g.login)?null==g?void 0:g.login:null)}}class vf extends ua{constructor(p,g){super(p,"google.com",g)}}class Kc extends pd{constructor(p,g,b){super(p,"twitter.com",g,b)}}function ur(y){const{user:p,_tokenResponse:g}=y;return p.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function fd(y){var p,g;if(!y)return null;const{providerId:b}=y,S=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},O=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!b&&(null==y?void 0:y.idToken)){const W=null===(g=null===(p=ct(y.idToken))||void 0===p?void 0:p.firebase)||void 0===g?void 0:g.sign_in_provider;if(W)return new ua(O,"anonymous"!==W&&"custom"!==W?W:null)}if(!b)return null;switch(b){case"facebook.com":return new Vl(O,S);case"github.com":return new ui(O,S);case"google.com":return new vf(O,S);case"twitter.com":return new Kc(O,S,y.screenName||null);case"custom":case"anonymous":return new ua(O,null);default:return new ua(O,b,S)}}(g)}class Es{constructor(p,g,b){this.type=p,this.credential=g,this.auth=b}static _fromIdtoken(p,g){return new Es("enroll",p,g)}static _fromMfaPendingCredential(p){return new Es("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var g,b;if(null==p?void 0:p.multiFactorSession){if(null===(g=p.multiFactorSession)||void 0===g?void 0:g.pendingCredential)return Es._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null===(b=p.multiFactorSession)||void 0===b?void 0:b.idToken)return Es._fromIdtoken(p.multiFactorSession.idToken)}return null}}class To{constructor(p,g,b){this.session=p,this.hints=g,this.signInResolver=b}static _fromError(p,g){const b=ft(p),S=g.customData._serverResponse,O=(S.mfaInfo||[]).map(he=>Ks._fromServerResponse(b,he));q(S.mfaPendingCredential,b,"internal-error");const W=Es._fromMfaPendingCredential(S.mfaPendingCredential);return new To(W,O,function(){var he=(0,d.Z)(function*(Le){const Qe=yield Le._process(b,W);delete S.mfaInfo,delete S.mfaPendingCredential;const vt=Object.assign(Object.assign({},S),{idToken:Qe.idToken,refreshToken:Qe.refreshToken});switch(g.operationType){case"signIn":const mt=yield _i._fromIdTokenResponse(b,g.operationType,vt);return yield b._updateCurrentUser(mt.user),mt;case"reauthenticate":return q(g.user,b,"internal-error"),_i._forOperation(g.user,g.operationType,vt);default:ke(b,"internal-error")}});return function(Le){return he.apply(this,arguments)}}())}resolveSignIn(p){var g=this;return(0,d.Z)(function*(){return g.signInResolver(p)})()}}function _d(y,p){return Wt(y,"POST","/v2/accounts/mfaEnrollment:start",Qt(y,p))}class da{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(b=>Ks._fromServerResponse(p.auth,b)))})}static _fromUser(p){return new da(p)}getSession(){var p=this;return(0,d.Z)(function*(){return Es._fromIdtoken(yield p.user.getIdToken(),p.user.auth)})()}enroll(p,g){var b=this;return(0,d.Z)(function*(){const S=p,O=yield b.getSession(),W=yield Fr(b.user,S._process(b.user.auth,O,g));return yield b.user._updateTokensIfNecessary(W),b.user.reload()})()}unenroll(p){var g=this;return(0,d.Z)(function*(){var b;const S="string"==typeof p?p:p.uid,O=yield g.user.getIdToken(),W=yield Fr(g.user,function So(y,p){return Wt(y,"POST","/v2/accounts/mfaEnrollment:withdraw",Qt(y,p))}(g.user.auth,{idToken:O,mfaEnrollmentId:S}));g.enrolledFactors=g.enrolledFactors.filter(({uid:he})=>he!==S),yield g.user._updateTokensIfNecessary(W);try{yield g.user.reload()}catch(he){if("auth/user-token-expired"!==(null===(b=he)||void 0===b?void 0:b.code))throw he}})()}}const Bl=new WeakMap,ws="__sak";class Ul{constructor(p,g){this.storageRetriever=p,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(ws,"1"),this.storage.removeItem(ws),Promise.resolve(!0)):Promise.resolve(!1)}catch(p){return Promise.resolve(!1)}}_set(p,g){return this.storage.setItem(p,JSON.stringify(g)),Promise.resolve()}_get(p){const g=this.storage.getItem(p);return Promise.resolve(g?JSON.parse(g):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const an=(()=>{class y extends Ul{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,b)=>this.onStorageEvent(g,b),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Ng(){const y=(0,N.z$)();return Nt(y)||Cn(y)}()&&function gr(){try{return!(!window||window===window.top)}catch(y){return!1}}(),this.fallbackToPolling=$s(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const b of Object.keys(this.listeners)){const S=this.storage.getItem(b),O=this.localCache[b];S!==O&&g(b,O,S)}}onStorageEvent(g,b=!1){if(!g.key)return void this.forAllChangedKeys((he,Le,Qe)=>{this.notifyListeners(he,Qe)});const S=g.key;if(b?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const he=this.storage.getItem(S);if(g.newValue!==he)null!==g.newValue?this.storage.setItem(S,g.newValue):this.storage.removeItem(S);else if(this.localCache[S]===g.newValue&&!b)return}const O=()=>{const he=this.storage.getItem(S);!b&&this.localCache[S]===he||this.notifyListeners(S,he)},W=this.storage.getItem(S);!function Ba(){return(0,N.w1)()&&10===document.documentMode}()||W===g.newValue||g.newValue===g.oldValue?O():setTimeout(O,10)}notifyListeners(g,b){this.localCache[g]=b;const S=this.listeners[g];if(S)for(const O of Array.from(S))O(b&&JSON.parse(b))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,b,S)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:b,newValue:S}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,b){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(b)}_removeListener(g,b){this.listeners[g]&&(this.listeners[g].delete(b),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,b){var S=()=>super._set,O=this;return(0,d.Z)(function*(){yield S().call(O,g,b),O.localCache[g]=JSON.stringify(b)})()}_get(g){var b=()=>super._get,S=this;return(0,d.Z)(function*(){const O=yield b().call(S,g);return S.localCache[g]=JSON.stringify(O),O})()}_remove(g){var b=()=>super._remove,S=this;return(0,d.Z)(function*(){yield b().call(S,g),delete S.localCache[g]})()}}return y.type="LOCAL",y})(),Tn=(()=>{class y extends Ul{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,b){}_removeListener(g,b){}}return y.type="SESSION",y})();let yd=(()=>{class y{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const b=this.receivers.find(O=>O.isListeningto(g));if(b)return b;const S=new y(g);return this.receivers.push(S),S}isListeningto(g){return this.eventTarget===g}handleEvent(g){var b=this;return(0,d.Z)(function*(){const S=g,{eventId:O,eventType:W,data:he}=S.data,Le=b.handlersMap[W];if(!(null==Le?void 0:Le.size))return;S.ports[0].postMessage({status:"ack",eventId:O,eventType:W});const Qe=Array.from(Le).map(function(){var mt=(0,d.Z)(function*(yr){return yr(S.origin,he)});return function(yr){return mt.apply(this,arguments)}}()),vt=yield function Za(y){return Promise.all(y.map(function(){var p=(0,d.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(b){return{fulfilled:!1,reason:b}}});return function(g){return p.apply(this,arguments)}}()))}(Qe);S.ports[0].postMessage({status:"done",eventId:O,eventType:W,response:vt})})()}_subscribe(g,b){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(b)}_unsubscribe(g,b){this.handlersMap[g]&&b&&this.handlersMap[g].delete(b),(!b||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return y.receivers=[],y})();function ha(y="",p=10){let g="";for(let b=0;b<p;b++)g+=Math.floor(10*Math.random());return y+g}class Qs{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,g,b=50){var S=this;return(0,d.Z)(function*(){const O="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!O)throw new Error("connection_unavailable");let W,he;return new Promise((Le,Qe)=>{const vt=ha("",20);O.port1.start();const mt=setTimeout(()=>{Qe(new Error("unsupported_event"))},b);he={messageChannel:O,onMessage(yr){const Kr=yr;if(Kr.data.eventId===vt)switch(Kr.data.status){case"ack":clearTimeout(mt),W=setTimeout(()=>{Qe(new Error("timeout"))},3e3);break;case"done":clearTimeout(W),Le(Kr.data.response);break;default:clearTimeout(mt),clearTimeout(W),Qe(new Error("invalid_response"))}}},S.handlers.add(he),O.port1.addEventListener("message",he.onMessage),S.target.postMessage({eventType:p,eventId:vt,data:g},[O.port2])}).finally(()=>{he&&S.removeMessageHandler(he)})})()}}function Bn(){return window}function rs(){return void 0!==Bn().WorkerGlobalScope&&"function"==typeof Bn().importScripts}function vd(){return(vd=(0,d.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(y){return null}})).apply(this,arguments)}const Ka="firebaseLocalStorageDb",is="firebaseLocalStorage",Ya="fbase_key";class Cs{constructor(p){this.request=p}toPromise(){return new Promise((p,g)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function Js(y,p){return y.transaction([is],p?"readwrite":"readonly").objectStore(is)}function fa(){const y=indexedDB.open(Ka,1);return new Promise((p,g)=>{y.addEventListener("error",()=>{g(y.error)}),y.addEventListener("upgradeneeded",()=>{const b=y.result;try{b.createObjectStore(is,{keyPath:Ya})}catch(S){g(S)}}),y.addEventListener("success",(0,d.Z)(function*(){const b=y.result;b.objectStoreNames.contains(is)?p(b):(b.close(),yield function Sr(){const y=indexedDB.deleteDatabase(Ka);return new Cs(y).toPromise()}(),p(yield fa()))}))})}function Qa(y,p,g){return Ao.apply(this,arguments)}function Ao(){return(Ao=(0,d.Z)(function*(y,p,g){const b=Js(y,!0).put({[Ya]:p,value:g});return new Cs(b).toPromise()})).apply(this,arguments)}function pa(){return(pa=(0,d.Z)(function*(y,p){const g=Js(y,!1).get(p),b=yield new Cs(g).toPromise();return void 0===b?null:b.value})).apply(this,arguments)}function ga(y,p){const g=Js(y,!0).delete(p);return new Cs(g).toPromise()}const ss=(()=>{class y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,d.Z)(function*(){return g.db||(g.db=yield fa()),g.db})()}_withRetries(g){var b=this;return(0,d.Z)(function*(){let S=0;for(;;)try{const O=yield b._openDb();return yield g(O)}catch(O){if(S++>3)throw O;b.db&&(b.db.close(),b.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,d.Z)(function*(){return rs()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,d.Z)(function*(){g.receiver=yd._getInstance(function jl(){return rs()?self:null}()),g.receiver._subscribe("keyChanged",function(){var b=(0,d.Z)(function*(S,O){return{keyProcessed:(yield g._poll()).includes(O.key)}});return function(S,O){return b.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var b=(0,d.Z)(function*(S,O){return["keyChanged"]});return function(S,O){return b.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,d.Z)(function*(){var b,S;if(g.activeServiceWorker=yield function Dt(){return vd.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new Qs(g.activeServiceWorker);const O=yield g.sender._send("ping",{},800);!O||(null===(b=O[0])||void 0===b?void 0:b.fulfilled)&&(null===(S=O[0])||void 0===S?void 0:S.value.includes("keyChanged"))&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var b=this;return(0,d.Z)(function*(){if(b.sender&&b.activeServiceWorker&&function bd(){var y;return(null===(y=null==navigator?void 0:navigator.serviceWorker)||void 0===y?void 0:y.controller)||null}()===b.activeServiceWorker)try{yield b.sender._send("keyChanged",{key:g},b.serviceWorkerReceiverAvailable?800:50)}catch(S){}})()}_isAvailable(){return(0,d.Z)(function*(){try{if(!indexedDB)return!1;const g=yield fa();return yield Qa(g,ws,"1"),yield ga(g,ws),!0}catch(g){}return!1})()}_withPendingWrite(g){var b=this;return(0,d.Z)(function*(){b.pendingWrites++;try{yield g()}finally{b.pendingWrites--}})()}_set(g,b){var S=this;return(0,d.Z)(function*(){return S._withPendingWrite((0,d.Z)(function*(){return yield S._withRetries(O=>Qa(O,g,b)),S.localCache[g]=b,S.notifyServiceWorker(g)}))})()}_get(g){var b=this;return(0,d.Z)(function*(){const S=yield b._withRetries(O=>function Mo(y,p){return pa.apply(this,arguments)}(O,g));return b.localCache[g]=S,S})()}_remove(g){var b=this;return(0,d.Z)(function*(){return b._withPendingWrite((0,d.Z)(function*(){return yield b._withRetries(S=>ga(S,g)),delete b.localCache[g],b.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,d.Z)(function*(){const b=yield g._withRetries(W=>{const he=Js(W,!1).getAll();return new Cs(he).toPromise()});if(!b)return[];if(0!==g.pendingWrites)return[];const S=[],O=new Set;for(const{fbase_key:W,value:he}of b)O.add(W),JSON.stringify(g.localCache[W])!==JSON.stringify(he)&&(g.notifyListeners(W,he),S.push(W));for(const W of Object.keys(g.localCache))g.localCache[W]&&!O.has(W)&&(g.notifyListeners(W,null),S.push(W));return S})()}notifyListeners(g,b){this.localCache[g]=b;const S=this.listeners[g];if(S)for(const O of Array.from(S))O(b)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,d.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,b){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(b)}_removeListener(g,b){this.listeners[g]&&(this.listeners[g].delete(b),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return y.type="LOCAL",y})();function Un(y,p){return Wt(y,"POST","/v2/accounts/mfaSignIn:start",Qt(y,p))}function jn(){return(jn=(0,d.Z)(function*(y){return(yield Wt(y,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Ei(y){return new Promise((p,g)=>{const b=document.createElement("script");b.setAttribute("src",y),b.onload=p,b.onerror=S=>{const O=ye("internal-error");O.customData=S,g(O)},b.type="text/javascript",b.charset="UTF-8",function Fi(){var y,p;return null!==(p=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==p?p:document}().appendChild(b)})}function to(y){return`__${y}${Math.floor(1e6*Math.random())}`}const $r=1e12;class ir{constructor(p){this.auth=p,this.counter=$r,this._widgets=new Map}render(p,g){const b=this.counter;return this._widgets.set(b,new Vi(p,this.auth.name,g||{})),this.counter++,b}reset(p){var g;const b=p||$r;null===(g=this._widgets.get(b))||void 0===g||g.delete(),this._widgets.delete(b)}getResponse(p){var g;return(null===(g=this._widgets.get(p||$r))||void 0===g?void 0:g.getResponse())||""}execute(p){var g=this;return(0,d.Z)(function*(){var b;return null===(b=g._widgets.get(p||$r))||void 0===b||b.execute(),""})()}}class Vi{constructor(p,g,b){this.params=b,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const S="string"==typeof p?document.getElementById(p):p;q(S,"argument-error",{appName:g}),this.container=S,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Ed(y){const p=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let b=0;b<y;b++)p.push(g.charAt(Math.floor(Math.random()*g.length)));return p.join("")}(50);const{callback:p,"expired-callback":g}=this.params;if(p)try{p(this.responseToken)}catch(b){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch(b){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Qc=to("rcb"),Rn=new sn(3e4,6e4);class Cd{constructor(){var p;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(p=Bn().grecaptcha)||void 0===p?void 0:p.render)}load(p,g=""){return q(function Ja(y){return y.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(y)}(g),p,"argument-error"),this.shouldResolveImmediately(g)?Promise.resolve(Bn().grecaptcha):new Promise((b,S)=>{const O=Bn().setTimeout(()=>{S(ye(p,"network-request-failed"))},Rn.get());Bn()[Qc]=()=>{Bn().clearTimeout(O),delete Bn()[Qc];const he=Bn().grecaptcha;if(!he)return void S(ye(p,"internal-error"));const Le=he.render;he.render=(Qe,vt)=>{const mt=Le(Qe,vt);return this.counter++,mt},this.hostLanguage=g,b(he)},Ei(`https://www.google.com/recaptcha/api.js??${(0,N.xO)({onload:Qc,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(O),S(ye(p,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){var g;return!!(null===(g=Bn().grecaptcha)||void 0===g?void 0:g.render)&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Bi{load(p){return(0,d.Z)(function*(){return new ir(p)})()}clearedOneInstance(){}}const Fg="recaptcha",xo={theme:"light",type:"image"};class bf{constructor(p,g=Object.assign({},xo),b){this.parameters=g,this.type=Fg,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=ft(b),this.isInvisible="invisible"===this.parameters.size,q("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const S="string"==typeof p?document.getElementById(p):p;q(S,this.auth,"argument-error"),this.container=S,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Bi:new Cd,this.validateStartingState()}verify(){var p=this;return(0,d.Z)(function*(){p.assertNotDestroyed();const g=yield p.render(),b=p.getAssertedRecaptcha();return b.getResponse(g)||new Promise(O=>{const W=he=>{!he||(p.tokenChangeListeners.delete(W),O(he))};p.tokenChangeListeners.add(W),p.isInvisible&&b.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){q(!this.parameters.sitekey,this.auth,"argument-error"),q(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),q("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return g=>{if(this.tokenChangeListeners.forEach(b=>b(g)),"function"==typeof p)p(g);else if("string"==typeof p){const b=Bn()[p];"function"==typeof b&&b(g)}}}assertNotDestroyed(){q(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,d.Z)(function*(){if(yield p.init(),!p.widgetId){let g=p.container;if(!p.isInvisible){const b=document.createElement("div");g.appendChild(b),g=b}p.widgetId=p.getAssertedRecaptcha().render(g,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,d.Z)(function*(){q(gt()&&!rs(),p.auth,"internal-error"),yield function Ds(){let y=null;return new Promise(p=>{"complete"!==document.readyState?(y=()=>p(),window.addEventListener("load",y)):p()}).catch(p=>{throw y&&window.removeEventListener("load",y),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const g=yield function Hr(y){return jn.apply(this,arguments)}(p.auth);q(g,p.auth,"internal-error"),p.parameters.sitekey=g})()}getAssertedRecaptcha(){return q(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Dd{constructor(p,g){this.verificationId=p,this.onConfirmation=g}confirm(p){const g=na._fromVerification(this.verificationId,p);return this.onConfirmation(g)}}function ma(){return(ma=(0,d.Z)(function*(y,p,g){const b=ft(y),S=yield zr(b,p,(0,N.m9)(g));return new Dd(S,O=>xn(b,O))})).apply(this,arguments)}function Id(){return(Id=(0,d.Z)(function*(y,p,g){const b=(0,N.m9)(y);yield on(!1,b,"phone");const S=yield zr(b.auth,p,(0,N.m9)(g));return new Dd(S,O=>_r(b,O))})).apply(this,arguments)}function Gr(){return(Gr=(0,d.Z)(function*(y,p,g){const b=(0,N.m9)(y),S=yield zr(b.auth,p,(0,N.m9)(g));return new Dd(S,O=>vs(b,O))})).apply(this,arguments)}function zr(y,p,g){return tl.apply(this,arguments)}function tl(){return(tl=(0,d.Z)(function*(y,p,g){var b;const S=yield g.verify();try{let O;if(q("string"==typeof S,y,"argument-error"),q(g.type===Fg,y,"argument-error"),O="string"==typeof p?{phoneNumber:p}:p,"session"in O){const W=O.session;if("phoneNumber"in O)return q("enroll"===W.type,y,"internal-error"),(yield _d(y,{idToken:W.credential,phoneEnrollmentInfo:{phoneNumber:O.phoneNumber,recaptchaToken:S}})).phoneSessionInfo.sessionInfo;{q("signin"===W.type,y,"internal-error");const he=(null===(b=O.multiFactorHint)||void 0===b?void 0:b.uid)||O.multiFactorUid;return q(he,y,"missing-multi-factor-info"),(yield Un(y,{mfaPendingCredential:W.credential,mfaEnrollmentId:he,phoneSignInInfo:{recaptchaToken:S}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:W}=yield Ag(y,{phoneNumber:O.phoneNumber,recaptchaToken:S});return W}}finally{g._reset()}})).apply(this,arguments)}function Ro(){return(Ro=(0,d.Z)(function*(y,p){yield Ha((0,N.m9)(y),p)})).apply(this,arguments)}let _a=(()=>{class y{constructor(g){this.providerId=y.PROVIDER_ID,this.auth=ft(g)}verifyPhoneNumber(g,b){return zr(this.auth,g,(0,N.m9)(b))}static credential(g,b){return na._fromVerification(g,b)}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:b,temporaryProof:S}=g;return b&&S?na._fromTokenResponse(b,S):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function ko(y,p){return p?ee(p):(q(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class Hl extends Ri{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return qs(p,this._buildIdpRequest())}_linkToIdToken(p,g){return qs(p,this._buildIdpRequest(g))}_getReauthenticationResolver(p){return qs(p,this._buildIdpRequest())}_buildIdpRequest(p){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(g.idToken=p),g}}function zt(y){return mr(y.auth,new Hl(y),y.bypassAuthState)}function Td(y){const{auth:p,user:g}=y;return q(g,p,"internal-error"),Al(g,new Hl(y),y.bypassAuthState)}function Is(y){return sr.apply(this,arguments)}function sr(){return(sr=(0,d.Z)(function*(y){const{auth:p,user:g}=y;return q(g,p,"internal-error"),Ha(g,new Hl(y),y.bypassAuthState)})).apply(this,arguments)}class no{constructor(p,g,b,S,O=!1){this.auth=p,this.resolver=b,this.user=S,this.bypassAuthState=O,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var p=this;return new Promise(function(){var g=(0,d.Z)(function*(b,S){p.pendingPromise={resolve:b,reject:S};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(O){p.reject(O)}});return function(b,S){return g.apply(this,arguments)}}())}onAuthEvent(p){var g=this;return(0,d.Z)(function*(){const{urlResponse:b,sessionId:S,postBody:O,tenantId:W,error:he,type:Le}=p;if(he)return void g.reject(he);const Qe={auth:g.auth,requestUri:b,sessionId:S,tenantId:W||void 0,postBody:O||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(Le)(Qe))}catch(vt){g.reject(vt)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return zt;case"linkViaPopup":case"linkViaRedirect":return Is;case"reauthViaPopup":case"reauthViaRedirect":return Td;default:ke(this.auth,"internal-error")}}resolve(p){K(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){K(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const ro=new sn(2e3,1e4);function ya(){return(ya=(0,d.Z)(function*(y,p,g){const b=ft(y);Ue(y,p,Dr);const S=ko(b,g);return new Ad(b,"signInViaPopup",p,S).executeNotNull()})).apply(this,arguments)}function Jc(){return(Jc=(0,d.Z)(function*(y,p,g){const b=(0,N.m9)(y);Ue(b.auth,p,Dr);const S=ko(b.auth,g);return new Ad(b.auth,"reauthViaPopup",p,S,b).executeNotNull()})).apply(this,arguments)}function $l(){return($l=(0,d.Z)(function*(y,p,g){const b=(0,N.m9)(y);Ue(b.auth,p,Dr);const S=ko(b.auth,g);return new Ad(b.auth,"linkViaPopup",p,S,b).executeNotNull()})).apply(this,arguments)}let Ad=(()=>{class y extends no{constructor(g,b,S,O,W){super(g,b,O,W),this.provider=S,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var g=this;return(0,d.Z)(function*(){const b=yield g.execute();return q(b,g.auth,"internal-error"),b})()}onExecution(){var g=this;return(0,d.Z)(function*(){K(1===g.filter.length,"Popup operations only handle one event");const b=ha();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],b),g.authWindow.associatedEvent=b,g.resolver._originValidation(g.auth).catch(S=>{g.reject(S)}),g.resolver._isIframeWebStorageSupported(g.auth,S=>{S||g.reject(ye(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(ye(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const g=()=>{var b,S;this.pollId=(null===(S=null===(b=this.authWindow)||void 0===b?void 0:b.window)||void 0===S?void 0:S.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(ye(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(g,ro.get())};g()}}return y.currentPopupAction=null,y})();const dr=new Map;class Gl extends no{constructor(p,g,b=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,b),this.eventId=null}execute(){var p=()=>super.execute,g=this;return(0,d.Z)(function*(){let b=dr.get(g.auth._key());if(!b){try{const O=(yield function Lg(y,p){return qr.apply(this,arguments)}(g.resolver,g.auth))?yield p().call(g):null;b=()=>Promise.resolve(O)}catch(S){b=()=>Promise.reject(S)}dr.set(g.auth._key(),b)}return g.bypassAuthState||dr.set(g.auth._key(),()=>Promise.resolve(null)),b()})()}onAuthEvent(p){var g=()=>super.onAuthEvent,b=this;return(0,d.Z)(function*(){if("signInViaRedirect"===p.type)return g().call(b,p);if("unknown"!==p.type){if(p.eventId){const S=yield b.auth._redirectUserForId(p.eventId);if(S)return b.user=S,g().call(b,p);b.resolve(null)}}else b.resolve(null)})()}onExecution(){return(0,d.Z)(function*(){})()}cleanUp(){}}function qr(){return(qr=(0,d.Z)(function*(y,p){const g=ql(p),b=zl(y);if(!(yield b._isAvailable()))return!1;const S="true"===(yield b._get(g));return yield b._remove(g),S})).apply(this,arguments)}function va(y,p){return wi.apply(this,arguments)}function wi(){return(wi=(0,d.Z)(function*(y,p){return zl(y)._set(ql(p),"true")})).apply(this,arguments)}function Md(y,p){dr.set(y._key(),p)}function zl(y){return ee(y._redirectPersistence)}function ql(y){return Y("pendingRedirect",y.config.apiKey,y.name)}function C(){return(C=(0,d.Z)(function*(y,p,g){const b=ft(y);Ue(y,p,Dr);const S=ko(b,g);return yield va(S,b),S._openRedirect(b,p,"signInViaRedirect")})).apply(this,arguments)}function V(){return(V=(0,d.Z)(function*(y,p,g){const b=(0,N.m9)(y);Ue(b.auth,p,Dr);const S=ko(b.auth,g);yield va(S,b.auth);const O=yield at(b);return S._openRedirect(b.auth,p,"reauthViaRedirect",O)})).apply(this,arguments)}function Ae(){return(Ae=(0,d.Z)(function*(y,p,g){const b=(0,N.m9)(y);Ue(b.auth,p,Dr);const S=ko(b.auth,g);yield on(!1,b,p.providerId),yield va(S,b.auth);const O=yield at(b);return S._openRedirect(b.auth,p,"linkViaRedirect",O)})).apply(this,arguments)}function ut(){return(ut=(0,d.Z)(function*(y,p){return yield ft(y)._initializationPromise,It(y,p,!1)})).apply(this,arguments)}function It(y,p){return Ot.apply(this,arguments)}function Ot(){return(Ot=(0,d.Z)(function*(y,p,g=!1){const b=ft(y),S=ko(b,p),W=yield new Gl(b,S,g).execute();return W&&!g&&(delete W.user._redirectEventId,yield b._persistUserIfCurrent(W.user),yield b._setRedirectUser(null,p)),W})).apply(this,arguments)}function at(y){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,d.Z)(function*(y){const p=ha(`${y.uid}:::`);return y._redirectEventId=p,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),p})).apply(this,arguments)}class io{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let g=!1;return this.consumers.forEach(b=>{this.isEventForConsumer(p,b)&&(g=!0,this.sendToConsumer(p,b),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function Zl(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return as(y);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=p,g=!0)),g}sendToConsumer(p,g){var b;if(p.error&&!as(p)){const S=(null===(b=p.error.code)||void 0===b?void 0:b.split("auth/")[1])||"internal-error";g.onError(ye(this.auth,S))}else g.onAuthEvent(p)}isEventForConsumer(p,g){const b=null===g.eventId||!!p.eventId&&p.eventId===g.eventId;return g.filter.includes(p.type)&&b}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(so(p))}saveEventToCache(p){this.cachedEventUids.add(so(p)),this.lastProcessedEventTime=Date.now()}}function so(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(p=>p).join("-")}function as({type:y,error:p}){return"unknown"===y&&"auth/no-auth-event"===(null==p?void 0:p.code)}function nl(y){return Oo.apply(this,arguments)}function Oo(){return(Oo=(0,d.Z)(function*(y,p={}){return Wt(y,"GET","/v1/projects",p)})).apply(this,arguments)}const ls=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ui=/^https?/;function Df(){return(Df=(0,d.Z)(function*(y){if(y.config.emulator)return;const{authorizedDomains:p}=yield nl(y);for(const g of p)try{if(O0(g))return}catch(b){}ke(y,"unauthorized-domain")})).apply(this,arguments)}function O0(y){const p=Fe(),{protocol:g,hostname:b}=new URL(p);if(y.startsWith("chrome-extension://")){const W=new URL(y);return""===W.hostname&&""===b?"chrome-extension:"===g&&y.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===g&&W.hostname===b}if(!Ui.test(g))return!1;if(ls.test(y))return b===y;const S=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+S+"|"+S+")$","i").test(b)}const Vg=new sn(3e4,6e4);function If(){const y=Bn().___jsl;if(null==y?void 0:y.H)for(const p of Object.keys(y.H))if(y.H[p].r=y.H[p].r||[],y.H[p].L=y.H[p].L||[],y.H[p].r=[...y.H[p].L],y.CP)for(let g=0;g<y.CP.length;g++)y.CP[g]=null}let Kl=null;function Po(y){return Kl=Kl||function Bg(y){return new Promise((p,g)=>{var b,S,O;function W(){If(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{If(),g(ye(y,"network-request-failed"))},timeout:Vg.get()})}if(null===(S=null===(b=Bn().gapi)||void 0===b?void 0:b.iframes)||void 0===S?void 0:S.Iframe)p(gapi.iframes.getContext());else{if(!(null===(O=Bn().gapi)||void 0===O?void 0:O.load)){const he=to("iframefcb");return Bn()[he]=()=>{gapi.load?W():g(ye(y,"network-request-failed"))},Ei(`https://apis.google.com/js/api.js?onload=${he}`).catch(Le=>g(Le))}W()}}).catch(p=>{throw Kl=null,p})}(y),Kl}const Yl=new sn(5e3,15e3),Ql={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Xl=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ug(y){const p=y.config;q(p.authDomain,y,"auth-domain-config-required");const g=p.emulator?bn(p,"emulator/auth/iframe"):`https://${y.config.authDomain}/__/auth/iframe`,b={apiKey:p.apiKey,appName:y.name,v:ce.SDK_VERSION},S=Xl.get(y.config.apiHost);S&&(b.eid=S);const O=y._getFrameworks();return O.length&&(b.fw=O.join(",")),`${g}?${(0,N.xO)(b).slice(1)}`}function No(){return No=(0,d.Z)(function*(y){const p=yield Po(y),g=Bn().gapi;return q(g,y,"internal-error"),p.open({where:document.body,url:Ug(y),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ql,dontclear:!0},b=>new Promise(function(){var S=(0,d.Z)(function*(O,W){yield b.restyle({setHideOnLeave:!1});const he=ye(y,"network-request-failed"),Le=Bn().setTimeout(()=>{W(he)},Yl.get());function Qe(){Bn().clearTimeout(Le),O(b)}b.ping(Qe).then(Qe,()=>{W(he)})});return function(O,W){return S.apply(this,arguments)}}()))}),No.apply(this,arguments)}const Rd={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class jg{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(p){}}}function ji(y,p,g,b,S,O){q(y.config.authDomain,y,"auth-domain-config-required"),q(y.config.apiKey,y,"invalid-api-key");const W={apiKey:y.config.apiKey,appName:y.name,authType:g,redirectUrl:b,v:ce.SDK_VERSION,eventId:S};if(p instanceof Dr){p.setDefaultLanguage(y.languageCode),W.providerId=p.providerId||"",(0,N.xb)(p.getCustomParameters())||(W.customParameters=JSON.stringify(p.getCustomParameters()));for(const[Le,Qe]of Object.entries(O||{}))W[Le]=Qe}if(p instanceof yo){const Le=p.getScopes().filter(Qe=>""!==Qe);Le.length>0&&(W.scopes=Le.join(","))}y.tenantId&&(W.tid=y.tenantId);const he=W;for(const Le of Object.keys(he))void 0===he[Le]&&delete he[Le];return`${function Fo({config:y}){return y.emulator?bn(y,"emulator/auth/handler"):`https://${y.authDomain}/__/auth/handler`}(y)}?${(0,N.xO)(he).slice(1)}`}const nu="webStorageSupport";class Nd extends class N0{constructor(p){this.factorId=p}_process(p,g,b){switch(g.type){case"enroll":return this._finalizeEnroll(p,g.credential,b);case"signin":return this._finalizeSignIn(p,g.credential);default:return Ee("unexpected MultiFactorSessionType")}}}{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new Nd(p)}_finalizeEnroll(p,g,b){return function Og(y,p){return Wt(y,"POST","/v2/accounts/mfaEnrollment:finalize",Qt(y,p))}(p,{idToken:g,displayName:b,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,g){return function Yc(y,p){return Wt(y,"POST","/v2/accounts/mfaSignIn:finalize",Qt(y,p))}(p,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let F0=(()=>{class y{constructor(){}static assertion(g){return Nd._fromCredential(g)}}return y.FACTOR_ID="phone",y})();var Sf="@firebase/auth",$g="0.20.10";class Gg{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var g=this;return(0,d.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const g=this.auth.onIdTokenChanged(b=>{var S;p((null===(S=b)||void 0===S?void 0:S.stsTokenManager.accessToken)||null)});this.internalListeners.set(p,g),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const g=this.internalListeners.get(p);!g||(this.internalListeners.delete(p),g(),this.updateProactiveRefresh())}assertAuthConfigured(){q(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Ss(){return window}function As(){return(As=(0,d.Z)(function*(y,p,g){var b;const{BuildInfo:S}=Ss();K(p.sessionId,"AuthEvent did not contain a session ID");const O=yield Vd(p.sessionId),W={};return Cn()?W.ibi=S.packageName:hn()?W.apn=S.packageName:ke(y,"operation-not-supported-in-this-environment"),S.displayName&&(W.appDisplayName=S.displayName),W.sessionId=O,ji(y,g,p.type,void 0,null!==(b=p.eventId)&&void 0!==b?b:void 0,W)})).apply(this,arguments)}function Ea(){return(Ea=(0,d.Z)(function*(y){const{BuildInfo:p}=Ss(),g={};Cn()?g.iosBundleId=p.packageName:hn()?g.androidPackageName=p.packageName:ke(y,"operation-not-supported-in-this-environment"),yield nl(y,g)})).apply(this,arguments)}function ru(){return(ru=(0,d.Z)(function*(y,p,g){const{cordova:b}=Ss();let S=()=>{};try{yield new Promise((O,W)=>{let he=null;function Le(){var mt;O();const yr=null===(mt=b.plugins.browsertab)||void 0===mt?void 0:mt.close;"function"==typeof yr&&yr(),"function"==typeof(null==g?void 0:g.close)&&g.close()}function Qe(){he||(he=window.setTimeout(()=>{W(ye(y,"redirect-cancelled-by-user"))},2e3))}function vt(){"visible"===(null==document?void 0:document.visibilityState)&&Qe()}p.addPassiveListener(Le),document.addEventListener("resume",Qe,!1),hn()&&document.addEventListener("visibilitychange",vt,!1),S=()=>{p.removePassiveListener(Le),document.removeEventListener("resume",Qe,!1),document.removeEventListener("visibilitychange",vt,!1),he&&window.clearTimeout(he)}})}finally{S()}})).apply(this,arguments)}function Vd(y){return ec.apply(this,arguments)}function ec(){return(ec=(0,d.Z)(function*(y){const p=Wg(y),g=yield crypto.subtle.digest("SHA-256",p);return Array.from(new Uint8Array(g)).map(S=>S.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Wg(y){if(K(/[0-9a-zA-Z]+/.test(y),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(y);const p=new ArrayBuffer(y.length),g=new Uint8Array(p);for(let b=0;b<y.length;b++)g[b]=y.charCodeAt(b);return g}(0,N.Pz)("authIdTokenMaxAge"),function yy(y){(0,ce._registerComponent)(new se.wA("auth",(p,{options:g})=>{const b=p.getProvider("app").getImmediate(),S=p.getProvider("heartbeat"),{apiKey:O,authDomain:W}=b.options;return((he,Le)=>{q(O&&!O.includes(":"),"invalid-api-key",{appName:he.name}),q(!(null==W?void 0:W.includes(":")),"argument-error",{appName:he.name});const Qe={apiKey:O,authDomain:W,clientPlatform:y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ea(y)},vt=new Ye(he,Le,Qe);return function de(y,p){const g=(null==p?void 0:p.persistence)||[],b=(Array.isArray(g)?g:[g]).map(ee);(null==p?void 0:p.errorMap)&&y._updateErrorMap(p.errorMap),y._initializeWithPersistence(b,null==p?void 0:p.popupRedirectResolver)}(vt,g),vt})(b,S)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,g,b)=>{p.getProvider("auth-internal").initialize()})),(0,ce._registerComponent)(new se.wA("auth-internal",p=>{const g=ft(p.getProvider("auth").getImmediate());return new Gg(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ce.registerVersion)(Sf,$g,function Fd(y){switch(y){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(y)),(0,ce.registerVersion)(Sf,$g,"esm2017")}("Browser");class Rf extends io{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(p=>{this.resolveInialized=p})}addPassiveListener(p){this.passiveListeners.add(p)}removePassiveListener(p){this.passiveListeners.delete(p)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(p){return this.resolveInialized(),this.passiveListeners.forEach(g=>g(p)),super.onEvent(p)}initialized(){var p=this;return(0,d.Z)(function*(){yield p.initPromise})()}}function Bd(y){return tc.apply(this,arguments)}function tc(){return(tc=(0,d.Z)(function*(y){const p=yield Ci()._get(Pn(y));return p&&(yield Ci()._remove(Pn(y))),p})).apply(this,arguments)}function su(){const y=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let g=0;g<20;g++){const b=Math.floor(Math.random()*p.length);y.push(p.charAt(b))}return y.join("")}function Ci(){return ee(an)}function Pn(y){return Y("authEvent",y.config.apiKey,y.name)}function Vo(y){if(!(null==y?void 0:y.includes("?")))return{};const[p,...g]=y.split("?");return(0,N.zd)(g.join("?"))}function Qg(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:ye("no-auth-event")}}function oo(){var y;return(null===(y=null==self?void 0:self.location)||void 0===y?void 0:y.protocol)||null}function ou(y=(0,N.z$)()){return!("file:"!==oo()&&"ionic:"!==oo()&&"capacitor:"!==oo()||!y.toLowerCase().match(/iphone|ipad|ipod|android/))}function Hd(){try{const y=self.localStorage,p=ha();if(y)return y.setItem(p,"1"),y.removeItem(p),!function au(y=(0,N.z$)()){return function em(){return(0,N.w1)()&&11===(null==document?void 0:document.documentMode)}()||function Wr(y=(0,N.z$)()){return/Edge\/\d+/.test(y)}(y)}()||(0,N.hl)()}catch(y){return lu()&&(0,N.hl)()}return!1}function lu(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Of(){return(function hr(){return"http:"===oo()||"https:"===oo()}()||(0,N.ru)()||ou())&&!function Jg(){return(0,N.b$)()||(0,N.UG)()}()&&Hd()&&!lu()}function $d(){return ou()&&"undefined"!=typeof document}function zd(){return(zd=(0,d.Z)(function*(){return!!$d()&&new Promise(y=>{const p=setTimeout(()=>{y(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(p),y(!0)})})})).apply(this,arguments)}const Ar={LOCAL:"local",NONE:"none",SESSION:"session"},cu=q,nc="persistence";function Nf(y){return rl.apply(this,arguments)}function rl(){return(rl=(0,d.Z)(function*(y){yield y._initializationPromise;const p=tm(),g=Y(nc,y.config.apiKey,y.name);p&&p.setItem(g,y._getPersistence())})).apply(this,arguments)}function tm(){var y;try{return(null===(y=function Iy(){return"undefined"!=typeof window?window:null}())||void 0===y?void 0:y.sessionStorage)||null}catch(p){return null}}const Ty=q;class Ms{constructor(){this.browserResolver=ee(class _y{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Tn,this._completeRedirectFn=It,this._overrideRedirectResult=Md}_openPopup(p,g,b,S){var O=this;return(0,d.Z)(function*(){var W;K(null===(W=O.eventManagers[p._key()])||void 0===W?void 0:W.manager,"_initialize() not called before _openPopup()");const he=ji(p,g,b,Fe(),S);return function tu(y,p,g,b=500,S=600){const O=Math.max((window.screen.availHeight-S)/2,0).toString(),W=Math.max((window.screen.availWidth-b)/2,0).toString();let he="";const Le=Object.assign(Object.assign({},Rd),{width:b.toString(),height:S.toString(),top:O,left:W}),Qe=(0,N.z$)().toLowerCase();g&&(he=fn(Qe)?"_blank":g),nt(Qe)&&(p=p||"http://localhost",Le.scrollbars="yes");const vt=Object.entries(Le).reduce((yr,[Kr,il])=>`${yr}${Kr}=${il},`,"");if(function _s(y=(0,N.z$)()){var p;return Cn(y)&&!!(null===(p=window.navigator)||void 0===p?void 0:p.standalone)}(Qe)&&"_self"!==he)return function py(y,p){const g=document.createElement("a");g.href=y,g.target=p;const b=document.createEvent("MouseEvent");b.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(b)}(p||"",he),new jg(null);const mt=window.open(p||"",he,vt);q(mt,y,"popup-blocked");try{mt.focus()}catch(yr){}return new jg(mt)}(p,he,ha())})()}_openRedirect(p,g,b,S){var O=this;return(0,d.Z)(function*(){return yield O._originValidation(p),function Xs(y){Bn().location.href=y}(ji(p,g,b,Fe(),S)),new Promise(()=>{})})()}_initialize(p){const g=p._key();if(this.eventManagers[g]){const{manager:S,promise:O}=this.eventManagers[g];return S?Promise.resolve(S):(K(O,"If manager is not set, promise should be"),O)}const b=this.initAndGetManager(p);return this.eventManagers[g]={promise:b},b.catch(()=>{delete this.eventManagers[g]}),b}initAndGetManager(p){var g=this;return(0,d.Z)(function*(){const b=yield function P0(y){return No.apply(this,arguments)}(p),S=new io(p);return b.register("authEvent",O=>(q(null==O?void 0:O.authEvent,p,"invalid-auth-event"),{status:S.onEvent(O.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[p._key()]={manager:S},g.iframes[p._key()]=b,S})()}_isIframeWebStorageSupported(p,g){this.iframes[p._key()].send(nu,{type:nu},S=>{var O;const W=null===(O=null==S?void 0:S[0])||void 0===O?void 0:O[nu];void 0!==W&&g(!!W),ke(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const g=p._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function ba(y){return Df.apply(this,arguments)}(p)),this.originValidationPromises[g]}get _shouldInitProactively(){return $s()||Nt()||Cn()}}),this.cordovaResolver=ee(class wy{constructor(){this._redirectPersistence=Tn,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=It,this._overrideRedirectResult=Md}_initialize(p){var g=this;return(0,d.Z)(function*(){const b=p._key();let S=g.eventManagers.get(b);return S||(S=new Rf(p),g.eventManagers.set(b,S),g.attachCallbackListeners(p,S)),S})()}_openPopup(p){ke(p,"operation-not-supported-in-this-environment")}_openRedirect(p,g,b,S){var O=this;return(0,d.Z)(function*(){!function xf(y){var p,g,b,S,O,W,he,Le,Qe,vt;const mt=Ss();q("function"==typeof(null===(p=null==mt?void 0:mt.universalLinks)||void 0===p?void 0:p.subscribe),y,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),q(void 0!==(null===(g=null==mt?void 0:mt.BuildInfo)||void 0===g?void 0:g.packageName),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),q("function"==typeof(null===(O=null===(S=null===(b=null==mt?void 0:mt.cordova)||void 0===b?void 0:b.plugins)||void 0===S?void 0:S.browsertab)||void 0===O?void 0:O.openUrl),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),q("function"==typeof(null===(Le=null===(he=null===(W=null==mt?void 0:mt.cordova)||void 0===W?void 0:W.plugins)||void 0===he?void 0:he.browsertab)||void 0===Le?void 0:Le.isAvailable),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),q("function"==typeof(null===(vt=null===(Qe=null==mt?void 0:mt.cordova)||void 0===Qe?void 0:Qe.InAppBrowser)||void 0===vt?void 0:vt.open),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(p);const W=yield O._initialize(p);yield W.initialized(),W.resetRedirect(),function Cf(){dr.clear()}(),yield O._originValidation(p);const he=function by(y,p,g=null){return{type:p,eventId:g,urlResponse:null,sessionId:su(),postBody:null,tenantId:y.tenantId,error:ye(y,"no-auth-event")}}(p,b,S);yield function Zg(y,p){return Ci()._set(Pn(y),p)}(p,he);const Le=yield function Ld(y,p,g){return As.apply(this,arguments)}(p,he,g),Qe=yield function V0(y){const{cordova:p}=Ss();return new Promise(g=>{p.plugins.browsertab.isAvailable(b=>{let S=null;b?p.plugins.browsertab.openUrl(y):S=p.InAppBrowser.open(y,function mo(y=(0,N.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}()?"_blank":"_system","location=yes"),g(S)})})}(Le);return function Mf(y,p,g){return ru.apply(this,arguments)}(p,W,Qe)})()}_isIframeWebStorageSupported(p,g){throw new Error("Method not implemented.")}_originValidation(p){const g=p._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function L0(y){return Ea.apply(this,arguments)}(p)),this.originValidationPromises[g]}attachCallbackListeners(p,g){const{universalLinks:b,handleOpenURL:S,BuildInfo:O}=Ss(),W=setTimeout((0,d.Z)(function*(){yield Bd(p),g.onEvent(Qg())}),500),he=function(){var vt=(0,d.Z)(function*(mt){clearTimeout(W);const yr=yield Bd(p);let Kr=null;yr&&(null==mt?void 0:mt.url)&&(Kr=function Ey(y,p){var g,b;const S=function Ud(y){const p=Vo(y),g=p.link?decodeURIComponent(p.link):void 0,b=Vo(g).link,S=p.deep_link_id?decodeURIComponent(p.deep_link_id):void 0;return Vo(S).link||S||b||g||y}(p);if(S.includes("/__/auth/callback")){const O=Vo(S),W=O.firebaseError?function Kg(y){try{return JSON.parse(y)}catch(p){return null}}(decodeURIComponent(O.firebaseError)):null,he=null===(b=null===(g=null==W?void 0:W.code)||void 0===g?void 0:g.split("auth/"))||void 0===b?void 0:b[1],Le=he?ye(he):null;return Le?{type:y.type,eventId:y.eventId,tenantId:y.tenantId,error:Le,urlResponse:null,sessionId:null,postBody:null}:{type:y.type,eventId:y.eventId,tenantId:y.tenantId,sessionId:y.sessionId,urlResponse:S,postBody:null}}return null}(yr,mt.url)),g.onEvent(Kr||Qg())});return function(yr){return vt.apply(this,arguments)}}();void 0!==b&&"function"==typeof b.subscribe&&b.subscribe(null,he);const Le=S,Qe=`${O.packageName.toLowerCase()}://`;Ss().handleOpenURL=function(){var vt=(0,d.Z)(function*(mt){if(mt.toLowerCase().startsWith(Qe)&&he({url:mt}),"function"==typeof Le)try{Le(mt)}catch(yr){console.error(yr)}});return function(mt){return vt.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=Tn,this._completeRedirectFn=It,this._overrideRedirectResult=Md}_initialize(p){var g=this;return(0,d.Z)(function*(){return yield g.selectUnderlyingResolver(),g.assertedUnderlyingResolver._initialize(p)})()}_openPopup(p,g,b,S){var O=this;return(0,d.Z)(function*(){return yield O.selectUnderlyingResolver(),O.assertedUnderlyingResolver._openPopup(p,g,b,S)})()}_openRedirect(p,g,b,S){var O=this;return(0,d.Z)(function*(){return yield O.selectUnderlyingResolver(),O.assertedUnderlyingResolver._openRedirect(p,g,b,S)})()}_isIframeWebStorageSupported(p,g){this.assertedUnderlyingResolver._isIframeWebStorageSupported(p,g)}_originValidation(p){return this.assertedUnderlyingResolver._originValidation(p)}get _shouldInitProactively(){return $d()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Ty(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var p=this;return(0,d.Z)(function*(){if(p.underlyingResolver)return;const g=yield function Gd(){return zd.apply(this,arguments)}();p.underlyingResolver=g?p.cordovaResolver:p.browserResolver})()}}function nm(y){return y.unwrap()}function Ay(y){return rm(y)}function rm(y){const{_tokenResponse:p}=y instanceof N.ZR?y.customData:y;if(!p)return null;if(!(y instanceof N.ZR)&&"temporaryProof"in p&&"phoneNumber"in p)return _a.credentialFromResult(y);const g=p.providerId;if(!g||"password"===g)return null;let b;switch(g){case"google.com":b=ad;break;case"facebook.com":b=ra;break;case"github.com":b=_f;break;case"twitter.com":b=ld;break;default:const{oauthIdToken:S,oauthAccessToken:O,oauthTokenSecret:W,pendingToken:he,nonce:Le}=p;return O||W||S||he?he?g.startsWith("saml.")?vo._create(g,he):ys._fromParams({providerId:g,signInMethod:g,pendingToken:he,idToken:S,accessToken:O}):new Ji(g).credential({idToken:S,accessToken:O,rawNonce:Le}):null}return y instanceof N.ZR?b.credentialFromError(y):b.credentialFromResult(y)}function Zr(y,p){return p.catch(g=>{throw g instanceof N.ZR&&function My(y,p){var g,b;const S=null===(g=p.customData)||void 0===g?void 0:g._tokenResponse;if("auth/multi-factor-auth-required"===(null===(b=p)||void 0===b?void 0:b.code))p.resolver=new xy(y,function rr(y,p){var g;const b=(0,N.m9)(y),S=p;return q(p.customData.operationType,b,"argument-error"),q(null===(g=S.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,b,"argument-error"),To._fromError(b,S)}(y,p));else if(S){const O=rm(p),W=p;O&&(W.credential=O,W.tenantId=S.tenantId||void 0,W.email=S.email||void 0,W.phoneNumber=S.phoneNumber||void 0)}}(y,g),g}).then(g=>{const S=g.user;return{operationType:g.operationType,credential:Ay(g),additionalUserInfo:ur(g),user:Bo.getOrCreate(S)}})}function Lf(y,p){return Vf.apply(this,arguments)}function Vf(){return(Vf=(0,d.Z)(function*(y,p){const g=yield p;return{verificationId:g.verificationId,confirm:b=>Zr(y,g.confirm(b))}})).apply(this,arguments)}class xy{constructor(p,g){this.resolver=g,this.auth=function Sy(y){return y.wrapped()}(p)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(p){return Zr(nm(this.auth),this.resolver.resolveSignIn(p))}}class Bo{constructor(p){this._delegate=p,this.multiFactor=function Pg(y){const p=(0,N.m9)(y);return Bl.has(p)||Bl.set(p,da._fromUser(p)),Bl.get(p)}(p)}static getOrCreate(p){return Bo.USER_MAP.has(p)||Bo.USER_MAP.set(p,new Bo(p)),Bo.USER_MAP.get(p)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(p){return this._delegate.getIdTokenResult(p)}getIdToken(p){return this._delegate.getIdToken(p)}linkAndRetrieveDataWithCredential(p){return this.linkWithCredential(p)}linkWithCredential(p){var g=this;return(0,d.Z)(function*(){return Zr(g.auth,_r(g._delegate,p))})()}linkWithPhoneNumber(p,g){var b=this;return(0,d.Z)(function*(){return Lf(b.auth,function el(y,p,g){return Id.apply(this,arguments)}(b._delegate,p,g))})()}linkWithPopup(p){var g=this;return(0,d.Z)(function*(){return Zr(g.auth,function wf(y,p,g){return $l.apply(this,arguments)}(g._delegate,p,Ms))})()}linkWithRedirect(p){var g=this;return(0,d.Z)(function*(){return yield Nf(ft(g.auth)),function Q(y,p,g){return function ie(y,p,g){return Ae.apply(this,arguments)}(y,p,g)}(g._delegate,p,Ms)})()}reauthenticateAndRetrieveDataWithCredential(p){return this.reauthenticateWithCredential(p)}reauthenticateWithCredential(p){var g=this;return(0,d.Z)(function*(){return Zr(g.auth,vs(g._delegate,p))})()}reauthenticateWithPhoneNumber(p,g){return Lf(this.auth,function Ef(y,p,g){return Gr.apply(this,arguments)}(this._delegate,p,g))}reauthenticateWithPopup(p){return Zr(this.auth,function Ts(y,p,g){return Jc.apply(this,arguments)}(this._delegate,p,Ms))}reauthenticateWithRedirect(p){var g=this;return(0,d.Z)(function*(){return yield Nf(ft(g.auth)),function T(y,p,g){return function R(y,p,g){return V.apply(this,arguments)}(y,p,g)}(g._delegate,p,Ms)})()}sendEmailVerification(p){return function Pi(y,p){return Wc.apply(this,arguments)}(this._delegate,p)}unlink(p){var g=this;return(0,d.Z)(function*(){return yield function yf(y,p){return gn.apply(this,arguments)}(g._delegate,p),g})()}updateEmail(p){return function dd(y,p){return Ll((0,N.m9)(y),p,null)}(this._delegate,p)}updatePassword(p){return function hd(y,p){return Ll((0,N.m9)(y),null,p)}(this._delegate,p)}updatePhoneNumber(p){return function Xc(y,p){return Ro.apply(this,arguments)}(this._delegate,p)}updateProfile(p){return function Nl(y,p){return Fl.apply(this,arguments)}(this._delegate,p)}verifyBeforeUpdateEmail(p,g){return function Ol(y,p,g){return Pl.apply(this,arguments)}(this._delegate,p,g)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Bo.USER_MAP=new WeakMap;const uu=q;let Bf=(()=>{class y{constructor(g,b){if(this.app=g,b.isInitialized())return this._delegate=b.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:S}=g.options;uu(S,"invalid-api-key",{appName:g.name}),uu(S,"invalid-api-key",{appName:g.name});const O="undefined"!=typeof window?Ms:void 0;this._delegate=b.initialize({options:{persistence:im(S,g.name),popupRedirectResolver:O}}),this._delegate._updateErrorMap(Ne),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Bo.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(g){this._delegate.languageCode=g}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(g){this._delegate.tenantId=g}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(g,b){!function Ur(y,p,g){const b=ft(y);q(b._canInitEmulator,b,"emulator-config-failed"),q(/^https?:\/\//.test(p),b,"invalid-emulator-scheme");const S=!!(null==g?void 0:g.disableWarnings),O=Zi(p),{host:W,port:he}=function Gn(y){const p=Zi(y),g=/(\/\/)?([^?#/]+)/.exec(y.substr(p.length));if(!g)return{host:"",port:null};const b=g[2].split("@").pop()||"",S=/^(\[[^\]]+\])(:|$)/.exec(b);if(S){const O=S[1];return{host:O,port:Ki(b.substr(O.length+1))}}{const[O,W]=b.split(":");return{host:O,port:Ki(W)}}}(p);b.config.emulator={url:`${O}//${W}${null===he?"":`:${he}`}/`},b.settings.appVerificationDisabledForTesting=!0,b.emulatorConfig=Object.freeze({host:W,port:he,protocol:O.replace(":",""),options:Object.freeze({disableWarnings:S})}),S||function En(){function y(){const p=document.createElement("p"),g=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}()}(this._delegate,g,b)}applyActionCode(g){return function la(y,p){return xe.apply(this,arguments)}(this._delegate,g)}checkActionCode(g){return qt(this._delegate,g)}confirmPasswordReset(g,b){return function xl(y,p,g){return $c.apply(this,arguments)}(this._delegate,g,b)}createUserWithEmailAndPassword(g,b){var S=this;return(0,d.Z)(function*(){return Zr(S._delegate,function Co(y,p,g){return yi.apply(this,arguments)}(S._delegate,g,b))})()}fetchProvidersForEmail(g){return this.fetchSignInMethodsForEmail(g)}fetchSignInMethodsForEmail(g){return function kl(y,p){return Ys.apply(this,arguments)}(this._delegate,g)}isSignInWithEmailLink(g){return function ud(y,p){const g=Sl.parseLink(p);return"EMAIL_SIGNIN"===(null==g?void 0:g.operation)}(0,g)}getRedirectResult(){var g=this;return(0,d.Z)(function*(){uu(Of(),g._delegate,"operation-not-supported-in-this-environment");const b=yield function Ge(y,p){return ut.apply(this,arguments)}(g._delegate,Ms);return b?Zr(g._delegate,Promise.resolve(b)):{credential:null,user:null}})()}addFrameworkForLogging(g){!function jd(y,p){ft(y)._logFramework(p)}(this._delegate,g)}onAuthStateChanged(g,b,S){const{next:O,error:W,complete:he}=Ry(g,b,S);return this._delegate.onAuthStateChanged(O,W,he)}onIdTokenChanged(g,b,S){const{next:O,error:W,complete:he}=Ry(g,b,S);return this._delegate.onIdTokenChanged(O,W,he)}sendSignInLinkToEmail(g,b){return function zc(y,p,g){return qc.apply(this,arguments)}(this._delegate,g,b)}sendPasswordResetEmail(g,b){return function Hc(y,p,g){return Ml.apply(this,arguments)}(this._delegate,g,b||void 0)}setPersistence(g){var b=this;return(0,d.Z)(function*(){let S;switch(function Pf(y,p){cu(Object.values(Ar).includes(p),y,"invalid-persistence-type"),(0,N.b$)()?cu(p!==Ar.SESSION,y,"unsupported-persistence-type"):(0,N.UG)()?cu(p===Ar.NONE,y,"unsupported-persistence-type"):lu()?cu(p===Ar.NONE||p===Ar.LOCAL&&(0,N.hl)(),y,"unsupported-persistence-type"):cu(p===Ar.NONE||Hd(),y,"unsupported-persistence-type")}(b._delegate,g),g){case Ar.SESSION:S=Tn;break;case Ar.LOCAL:S=(yield ee(ss)._isAvailable())?ss:an;break;case Ar.NONE:S=U;break;default:return ke("argument-error",{appName:b._delegate.name})}return b._delegate.setPersistence(S)})()}signInAndRetrieveDataWithCredential(g){return this.signInWithCredential(g)}signInAnonymously(){return Zr(this._delegate,function cd(y){return Vc.apply(this,arguments)}(this._delegate))}signInWithCredential(g){return Zr(this._delegate,xn(this._delegate,g))}signInWithCustomToken(g){return Zr(this._delegate,function aa(y,p){return Et.apply(this,arguments)}(this._delegate,g))}signInWithEmailAndPassword(g,b){return Zr(this._delegate,function Gc(y,p,g){return xn((0,N.m9)(y),od.credential(p,g))}(this._delegate,g,b))}signInWithEmailLink(g,b){return Zr(this._delegate,function Rg(y,p,g){return bs.apply(this,arguments)}(this._delegate,g,b))}signInWithPhoneNumber(g,b){return Lf(this._delegate,function Hn(y,p,g){return ma.apply(this,arguments)}(this._delegate,g,b))}signInWithPopup(g){var b=this;return(0,d.Z)(function*(){return uu(Of(),b._delegate,"operation-not-supported-in-this-environment"),Zr(b._delegate,function Sd(y,p,g){return ya.apply(this,arguments)}(b._delegate,g,Ms))})()}signInWithRedirect(g){var b=this;return(0,d.Z)(function*(){return uu(Of(),b._delegate,"operation-not-supported-in-this-environment"),yield Nf(b._delegate),function Wl(y,p,g){return function os(y,p,g){return C.apply(this,arguments)}(y,p,g)}(b._delegate,g,Ms)})()}updateCurrentUser(g){return this._delegate.updateCurrentUser(g)}verifyPasswordResetCode(g){return function Dn(y,p){return Rl.apply(this,arguments)}(this._delegate,g)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return y.Persistence=Ar,y})();function Ry(y,p,g){let b=y;"function"!=typeof y&&({next:b,error:p,complete:g}=y);const S=b;return{next:W=>S(W&&Bo.getOrCreate(W)),error:p,complete:g}}function im(y,p){const g=function Ff(y,p){const g=tm();if(!g)return[];const b=Y(nc,y,p);switch(g.getItem(b)){case Ar.NONE:return[U];case Ar.LOCAL:return[ss,Tn];case Ar.SESSION:return[Tn];default:return[]}}(y,p);if("undefined"!=typeof self&&!g.includes(ss)&&g.push(ss),"undefined"!=typeof window)for(const b of[an,Tn])g.includes(b)||g.push(b);return g.includes(U)||g.push(U),g}class Uo{constructor(){this.providerId="phone",this._delegate=new _a(nm(J.Z.auth()))}static credential(p,g){return _a.credential(p,g)}verifyPhoneNumber(p,g){return this._delegate.verifyPhoneNumber(p,g)}unwrap(){return this._delegate}}Uo.PHONE_SIGN_IN_METHOD=_a.PHONE_SIGN_IN_METHOD,Uo.PROVIDER_ID=_a.PROVIDER_ID;const xs=q;class ky{constructor(p,g,b=J.Z.app()){var S;xs(null===(S=b.options)||void 0===S?void 0:S.apiKey,"invalid-api-key",{appName:b.name}),this._delegate=new bf(p,g,b.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function sm(y){y.INTERNAL.registerComponent(new se.wA("auth-compat",p=>{const g=p.getProvider("app-compat").getImmediate(),b=p.getProvider("auth");return new Bf(g,b)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:od,FacebookAuthProvider:ra,GithubAuthProvider:_f,GoogleAuthProvider:ad,OAuthProvider:Ji,SAMLAuthProvider:jr,PhoneAuthProvider:Uo,PhoneMultiFactorGenerator:F0,RecaptchaVerifier:ky,TwitterAuthProvider:ld,Auth:Bf,AuthCredential:Ri,Error:N.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),y.registerVersion("@firebase/auth-compat","0.2.23")}(J.Z)},8306:(tt,be,P)=>{P.d(be,{y:()=>G});var d=P(930),J=P(727),N=P(8822),ce=P(4671);var se=P(2416),ue=P(576),pe=P(2806);let G=(()=>{class Me{constructor(je){je&&(this._subscribe=je)}lift(je){const ge=new Me;return ge.source=this,ge.operator=je,ge}subscribe(je,ge,De){const Ze=function Be(Me){return Me&&Me instanceof d.Lv||function te(Me){return Me&&(0,ue.m)(Me.next)&&(0,ue.m)(Me.error)&&(0,ue.m)(Me.complete)}(Me)&&(0,J.Nn)(Me)}(je)?je:new d.Hp(je,ge,De);return(0,pe.x)(()=>{const{operator:Xe,source:ke}=this;Ze.add(Xe?Xe.call(Ze,ke):ke?this._subscribe(Ze):this._trySubscribe(Ze))}),Ze}_trySubscribe(je){try{return this._subscribe(je)}catch(ge){je.error(ge)}}forEach(je,ge){return new(ge=H(ge))((De,Ze)=>{const Xe=new d.Hp({next:ke=>{try{je(ke)}catch(ye){Ze(ye),Xe.unsubscribe()}},error:Ze,complete:De});this.subscribe(Xe)})}_subscribe(je){var ge;return null===(ge=this.source)||void 0===ge?void 0:ge.subscribe(je)}[N.L](){return this}pipe(...je){return function me(Me){return 0===Me.length?ce.y:1===Me.length?Me[0]:function(je){return Me.reduce((ge,De)=>De(ge),je)}}(je)(this)}toPromise(je){return new(je=H(je))((ge,De)=>{let Ze;this.subscribe(Xe=>Ze=Xe,Xe=>De(Xe),()=>ge(Ze))})}}return Me.create=Ne=>new Me(Ne),Me})();function H(Me){var Ne;return null!==(Ne=null!=Me?Me:se.v.Promise)&&void 0!==Ne?Ne:Promise}},7579:(tt,be,P)=>{P.d(be,{x:()=>se});var d=P(8306),J=P(727);const ce=(0,P(3888).d)(pe=>function(){pe(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var oe=P(8737),me=P(2806);let se=(()=>{class pe extends d.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(H){const te=new ue(this,this);return te.operator=H,te}_throwIfClosed(){if(this.closed)throw new ce}next(H){(0,me.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const te of this.currentObservers)te.next(H)}})}error(H){(0,me.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=H;const{observers:te}=this;for(;te.length;)te.shift().error(H)}})}complete(){(0,me.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:H}=this;for(;H.length;)H.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var H;return(null===(H=this.observers)||void 0===H?void 0:H.length)>0}_trySubscribe(H){return this._throwIfClosed(),super._trySubscribe(H)}_subscribe(H){return this._throwIfClosed(),this._checkFinalizedStatuses(H),this._innerSubscribe(H)}_innerSubscribe(H){const{hasError:te,isStopped:Be,observers:Me}=this;return te||Be?J.Lc:(this.currentObservers=null,Me.push(H),new J.w0(()=>{this.currentObservers=null,(0,oe.P)(Me,H)}))}_checkFinalizedStatuses(H){const{hasError:te,thrownError:Be,isStopped:Me}=this;te?H.error(Be):Me&&H.complete()}asObservable(){const H=new d.y;return H.source=this,H}}return pe.create=(G,H)=>new ue(G,H),pe})();class ue extends se{constructor(G,H){super(),this.destination=G,this.source=H}next(G){var H,te;null===(te=null===(H=this.destination)||void 0===H?void 0:H.next)||void 0===te||te.call(H,G)}error(G){var H,te;null===(te=null===(H=this.destination)||void 0===H?void 0:H.error)||void 0===te||te.call(H,G)}complete(){var G,H;null===(H=null===(G=this.destination)||void 0===G?void 0:G.complete)||void 0===H||H.call(G)}_subscribe(G){var H,te;return null!==(te=null===(H=this.source)||void 0===H?void 0:H.subscribe(G))&&void 0!==te?te:J.Lc}}},930:(tt,be,P)=>{P.d(be,{Hp:()=>je,Lv:()=>te});var d=P(576),J=P(727),N=P(2416),ce=P(7849),oe=P(5032);const me=pe("C",void 0,void 0);function pe(ke,ye,Ie){return{kind:ke,value:ye,error:Ie}}var G=P(3410),H=P(2806);class te extends J.w0{constructor(ye){super(),this.isStopped=!1,ye?(this.destination=ye,(0,J.Nn)(ye)&&ye.add(this)):this.destination=Xe}static create(ye,Ie,Ue){return new je(ye,Ie,Ue)}next(ye){this.isStopped?Ze(function ue(ke){return pe("N",ke,void 0)}(ye),this):this._next(ye)}error(ye){this.isStopped?Ze(function se(ke){return pe("E",void 0,ke)}(ye),this):(this.isStopped=!0,this._error(ye))}complete(){this.isStopped?Ze(me,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ye){this.destination.next(ye)}_error(ye){try{this.destination.error(ye)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Be=Function.prototype.bind;function Me(ke,ye){return Be.call(ke,ye)}class Ne{constructor(ye){this.partialObserver=ye}next(ye){const{partialObserver:Ie}=this;if(Ie.next)try{Ie.next(ye)}catch(Ue){ge(Ue)}}error(ye){const{partialObserver:Ie}=this;if(Ie.error)try{Ie.error(ye)}catch(Ue){ge(Ue)}else ge(ye)}complete(){const{partialObserver:ye}=this;if(ye.complete)try{ye.complete()}catch(Ie){ge(Ie)}}}class je extends te{constructor(ye,Ie,Ue){let He;if(super(),(0,d.m)(ye)||!ye)He={next:null!=ye?ye:void 0,error:null!=Ie?Ie:void 0,complete:null!=Ue?Ue:void 0};else{let q;this&&N.v.useDeprecatedNextContext?(q=Object.create(ye),q.unsubscribe=()=>this.unsubscribe(),He={next:ye.next&&Me(ye.next,q),error:ye.error&&Me(ye.error,q),complete:ye.complete&&Me(ye.complete,q)}):He=ye}this.destination=new Ne(He)}}function ge(ke){N.v.useDeprecatedSynchronousErrorHandling?(0,H.O)(ke):(0,ce.h)(ke)}function Ze(ke,ye){const{onStoppedNotification:Ie}=N.v;Ie&&G.z.setTimeout(()=>Ie(ke,ye))}const Xe={closed:!0,next:oe.Z,error:function De(ke){throw ke},complete:oe.Z}},727:(tt,be,P)=>{P.d(be,{Lc:()=>me,w0:()=>oe,Nn:()=>se});var d=P(576);const N=(0,P(3888).d)(pe=>function(H){pe(this),this.message=H?`${H.length} errors occurred during unsubscription:\n${H.map((te,Be)=>`${Be+1}) ${te.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=H});var ce=P(8737);class oe{constructor(G){this.initialTeardown=G,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let G;if(!this.closed){this.closed=!0;const{_parentage:H}=this;if(H)if(this._parentage=null,Array.isArray(H))for(const Me of H)Me.remove(this);else H.remove(this);const{initialTeardown:te}=this;if((0,d.m)(te))try{te()}catch(Me){G=Me instanceof N?Me.errors:[Me]}const{_finalizers:Be}=this;if(Be){this._finalizers=null;for(const Me of Be)try{ue(Me)}catch(Ne){G=null!=G?G:[],Ne instanceof N?G=[...G,...Ne.errors]:G.push(Ne)}}if(G)throw new N(G)}}add(G){var H;if(G&&G!==this)if(this.closed)ue(G);else{if(G instanceof oe){if(G.closed||G._hasParent(this))return;G._addParent(this)}(this._finalizers=null!==(H=this._finalizers)&&void 0!==H?H:[]).push(G)}}_hasParent(G){const{_parentage:H}=this;return H===G||Array.isArray(H)&&H.includes(G)}_addParent(G){const{_parentage:H}=this;this._parentage=Array.isArray(H)?(H.push(G),H):H?[H,G]:G}_removeParent(G){const{_parentage:H}=this;H===G?this._parentage=null:Array.isArray(H)&&(0,ce.P)(H,G)}remove(G){const{_finalizers:H}=this;H&&(0,ce.P)(H,G),G instanceof oe&&G._removeParent(this)}}oe.EMPTY=(()=>{const pe=new oe;return pe.closed=!0,pe})();const me=oe.EMPTY;function se(pe){return pe instanceof oe||pe&&"closed"in pe&&(0,d.m)(pe.remove)&&(0,d.m)(pe.add)&&(0,d.m)(pe.unsubscribe)}function ue(pe){(0,d.m)(pe)?pe():pe.unsubscribe()}},2416:(tt,be,P)=>{P.d(be,{v:()=>d});const d={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(tt,be,P)=>{P.d(be,{E:()=>J});const J=new(P(8306).y)(oe=>oe.complete())},8996:(tt,be,P)=>{P.d(be,{D:()=>ye});var d=P(8421),J=P(5363),N=P(9468),me=P(8306),ue=P(2202),pe=P(576),G=P(9672);function te(Ie,Ue){if(!Ie)throw new Error("Iterable cannot be null");return new me.y(He=>{(0,G.f)(He,Ue,()=>{const q=Ie[Symbol.asyncIterator]();(0,G.f)(He,Ue,()=>{q.next().then(Ee=>{Ee.done?He.complete():He.next(Ee.value)})},0,!0)})})}var Be=P(3670),Me=P(8239),Ne=P(1144),je=P(6495),ge=P(2206),De=P(4532),Ze=P(3260);function ye(Ie,Ue){return Ue?function ke(Ie,Ue){if(null!=Ie){if((0,Be.c)(Ie))return function ce(Ie,Ue){return(0,d.Xf)(Ie).pipe((0,N.R)(Ue),(0,J.Q)(Ue))}(Ie,Ue);if((0,Ne.z)(Ie))return function se(Ie,Ue){return new me.y(He=>{let q=0;return Ue.schedule(function(){q===Ie.length?He.complete():(He.next(Ie[q++]),He.closed||this.schedule())})})}(Ie,Ue);if((0,Me.t)(Ie))return function oe(Ie,Ue){return(0,d.Xf)(Ie).pipe((0,N.R)(Ue),(0,J.Q)(Ue))}(Ie,Ue);if((0,ge.D)(Ie))return te(Ie,Ue);if((0,je.T)(Ie))return function H(Ie,Ue){return new me.y(He=>{let q;return(0,G.f)(He,Ue,()=>{q=Ie[ue.h](),(0,G.f)(He,Ue,()=>{let Ee,K;try{({value:Ee,done:K}=q.next())}catch(ne){return void He.error(ne)}K?He.complete():He.next(Ee)},0,!0)}),()=>(0,pe.m)(null==q?void 0:q.return)&&q.return()})}(Ie,Ue);if((0,Ze.L)(Ie))return function Xe(Ie,Ue){return te((0,Ze.Q)(Ie),Ue)}(Ie,Ue)}throw(0,De.z)(Ie)}(Ie,Ue):(0,d.Xf)(Ie)}},8421:(tt,be,P)=>{P.d(be,{Xf:()=>Be});var d=P(655),J=P(1144),N=P(8239),ce=P(8306),oe=P(3670),me=P(2206),se=P(4532),ue=P(6495),pe=P(3260),G=P(576),H=P(7849),te=P(8822);function Be(ke){if(ke instanceof ce.y)return ke;if(null!=ke){if((0,oe.c)(ke))return function Me(ke){return new ce.y(ye=>{const Ie=ke[te.L]();if((0,G.m)(Ie.subscribe))return Ie.subscribe(ye);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(ke);if((0,J.z)(ke))return function Ne(ke){return new ce.y(ye=>{for(let Ie=0;Ie<ke.length&&!ye.closed;Ie++)ye.next(ke[Ie]);ye.complete()})}(ke);if((0,N.t)(ke))return function je(ke){return new ce.y(ye=>{ke.then(Ie=>{ye.closed||(ye.next(Ie),ye.complete())},Ie=>ye.error(Ie)).then(null,H.h)})}(ke);if((0,me.D)(ke))return De(ke);if((0,ue.T)(ke))return function ge(ke){return new ce.y(ye=>{for(const Ie of ke)if(ye.next(Ie),ye.closed)return;ye.complete()})}(ke);if((0,pe.L)(ke))return function Ze(ke){return De((0,pe.Q)(ke))}(ke)}throw(0,se.z)(ke)}function De(ke){return new ce.y(ye=>{(function Xe(ke,ye){var Ie,Ue,He,q;return(0,d.mG)(this,void 0,void 0,function*(){try{for(Ie=(0,d.KL)(ke);!(Ue=yield Ie.next()).done;)if(ye.next(Ue.value),ye.closed)return}catch(Ee){He={error:Ee}}finally{try{Ue&&!Ue.done&&(q=Ie.return)&&(yield q.call(Ie))}finally{if(He)throw He.error}}ye.complete()})})(ke,ye).catch(Ie=>ye.error(Ie))})}},6451:(tt,be,P)=>{P.d(be,{T:()=>me});var d=P(8189),J=P(8421),N=P(515),ce=P(3269),oe=P(8996);function me(...se){const ue=(0,ce.yG)(se),pe=(0,ce._6)(se,1/0),G=se;return G.length?1===G.length?(0,J.Xf)(G[0]):(0,d.J)(pe)((0,oe.D)(G,ue)):N.E}},5403:(tt,be,P)=>{P.d(be,{x:()=>J});var d=P(930);function J(ce,oe,me,se,ue){return new N(ce,oe,me,se,ue)}class N extends d.Lv{constructor(oe,me,se,ue,pe,G){super(oe),this.onFinalize=pe,this.shouldUnsubscribe=G,this._next=me?function(H){try{me(H)}catch(te){oe.error(te)}}:super._next,this._error=ue?function(H){try{ue(H)}catch(te){oe.error(te)}finally{this.unsubscribe()}}:super._error,this._complete=se?function(){try{se()}catch(H){oe.error(H)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var oe;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:me}=this;super.unsubscribe(),!me&&(null===(oe=this.onFinalize)||void 0===oe||oe.call(this))}}}},4004:(tt,be,P)=>{P.d(be,{U:()=>N});var d=P(4482),J=P(5403);function N(ce,oe){return(0,d.e)((me,se)=>{let ue=0;me.subscribe((0,J.x)(se,pe=>{se.next(ce.call(oe,pe,ue++))}))})}},8189:(tt,be,P)=>{P.d(be,{J:()=>N});var d=P(5577),J=P(4671);function N(ce=1/0){return(0,d.z)(J.y,ce)}},5577:(tt,be,P)=>{P.d(be,{z:()=>ue});var d=P(4004),J=P(8421),N=P(4482),ce=P(9672),oe=P(5403),se=P(576);function ue(pe,G,H=1/0){return(0,se.m)(G)?ue((te,Be)=>(0,d.U)((Me,Ne)=>G(te,Me,Be,Ne))((0,J.Xf)(pe(te,Be))),H):("number"==typeof G&&(H=G),(0,N.e)((te,Be)=>function me(pe,G,H,te,Be,Me,Ne,je){const ge=[];let De=0,Ze=0,Xe=!1;const ke=()=>{Xe&&!ge.length&&!De&&G.complete()},ye=Ue=>De<te?Ie(Ue):ge.push(Ue),Ie=Ue=>{Me&&G.next(Ue),De++;let He=!1;(0,J.Xf)(H(Ue,Ze++)).subscribe((0,oe.x)(G,q=>{null==Be||Be(q),Me?ye(q):G.next(q)},()=>{He=!0},void 0,()=>{if(He)try{for(De--;ge.length&&De<te;){const q=ge.shift();Ne?(0,ce.f)(G,Ne,()=>Ie(q)):Ie(q)}ke()}catch(q){G.error(q)}}))};return pe.subscribe((0,oe.x)(G,ye,()=>{Xe=!0,ke()})),()=>{null==je||je()}}(te,Be,pe,H)))}},5363:(tt,be,P)=>{P.d(be,{Q:()=>ce});var d=P(9672),J=P(4482),N=P(5403);function ce(oe,me=0){return(0,J.e)((se,ue)=>{se.subscribe((0,N.x)(ue,pe=>(0,d.f)(ue,oe,()=>ue.next(pe),me),()=>(0,d.f)(ue,oe,()=>ue.complete(),me),pe=>(0,d.f)(ue,oe,()=>ue.error(pe),me)))})}},3099:(tt,be,P)=>{P.d(be,{B:()=>oe});var d=P(8421),J=P(7579),N=P(930),ce=P(4482);function oe(se={}){const{connector:ue=(()=>new J.x),resetOnError:pe=!0,resetOnComplete:G=!0,resetOnRefCountZero:H=!0}=se;return te=>{let Be,Me,Ne,je=0,ge=!1,De=!1;const Ze=()=>{null==Me||Me.unsubscribe(),Me=void 0},Xe=()=>{Ze(),Be=Ne=void 0,ge=De=!1},ke=()=>{const ye=Be;Xe(),null==ye||ye.unsubscribe()};return(0,ce.e)((ye,Ie)=>{je++,!De&&!ge&&Ze();const Ue=Ne=null!=Ne?Ne:ue();Ie.add(()=>{je--,0===je&&!De&&!ge&&(Me=me(ke,H))}),Ue.subscribe(Ie),!Be&&je>0&&(Be=new N.Hp({next:He=>Ue.next(He),error:He=>{De=!0,Ze(),Me=me(Xe,pe,He),Ue.error(He)},complete:()=>{ge=!0,Ze(),Me=me(Xe,G),Ue.complete()}}),(0,d.Xf)(ye).subscribe(Be))})(te)}}function me(se,ue,...pe){if(!0===ue)return void se();if(!1===ue)return;const G=new N.Hp({next:()=>{G.unsubscribe(),se()}});return ue(...pe).subscribe(G)}},9468:(tt,be,P)=>{P.d(be,{R:()=>J});var d=P(4482);function J(N,ce=0){return(0,d.e)((oe,me)=>{me.add(N.schedule(()=>oe.subscribe(me),ce))})}},8505:(tt,be,P)=>{P.d(be,{b:()=>oe});var d=P(576),J=P(4482),N=P(5403),ce=P(4671);function oe(me,se,ue){const pe=(0,d.m)(me)||se||ue?{next:me,error:se,complete:ue}:me;return pe?(0,J.e)((G,H)=>{var te;null===(te=pe.subscribe)||void 0===te||te.call(pe);let Be=!0;G.subscribe((0,N.x)(H,Me=>{var Ne;null===(Ne=pe.next)||void 0===Ne||Ne.call(pe,Me),H.next(Me)},()=>{var Me;Be=!1,null===(Me=pe.complete)||void 0===Me||Me.call(pe),H.complete()},Me=>{var Ne;Be=!1,null===(Ne=pe.error)||void 0===Ne||Ne.call(pe,Me),H.error(Me)},()=>{var Me,Ne;Be&&(null===(Me=pe.unsubscribe)||void 0===Me||Me.call(pe)),null===(Ne=pe.finalize)||void 0===Ne||Ne.call(pe)}))}):ce.y}},4408:(tt,be,P)=>{P.d(be,{o:()=>oe});var d=P(727);class J extends d.w0{constructor(se,ue){super()}schedule(se,ue=0){return this}}const N={setInterval(me,se,...ue){const{delegate:pe}=N;return(null==pe?void 0:pe.setInterval)?pe.setInterval(me,se,...ue):setInterval(me,se,...ue)},clearInterval(me){const{delegate:se}=N;return((null==se?void 0:se.clearInterval)||clearInterval)(me)},delegate:void 0};var ce=P(8737);class oe extends J{constructor(se,ue){super(se,ue),this.scheduler=se,this.work=ue,this.pending=!1}schedule(se,ue=0){var pe;if(this.closed)return this;this.state=se;const G=this.id,H=this.scheduler;return null!=G&&(this.id=this.recycleAsyncId(H,G,ue)),this.pending=!0,this.delay=ue,this.id=null!==(pe=this.id)&&void 0!==pe?pe:this.requestAsyncId(H,this.id,ue),this}requestAsyncId(se,ue,pe=0){return N.setInterval(se.flush.bind(se,this),pe)}recycleAsyncId(se,ue,pe=0){if(null!=pe&&this.delay===pe&&!1===this.pending)return ue;null!=ue&&N.clearInterval(ue)}execute(se,ue){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const pe=this._execute(se,ue);if(pe)return pe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(se,ue){let G,pe=!1;try{this.work(se)}catch(H){pe=!0,G=H||new Error("Scheduled action threw falsy error")}if(pe)return this.unsubscribe(),G}unsubscribe(){if(!this.closed){const{id:se,scheduler:ue}=this,{actions:pe}=ue;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ce.P)(pe,this),null!=se&&(this.id=this.recycleAsyncId(ue,se,null)),this.delay=null,super.unsubscribe()}}}},7565:(tt,be,P)=>{P.d(be,{v:()=>N});var d=P(6063);class J{constructor(oe,me=J.now){this.schedulerActionCtor=oe,this.now=me}schedule(oe,me=0,se){return new this.schedulerActionCtor(this,oe).schedule(se,me)}}J.now=d.l.now;class N extends J{constructor(oe,me=J.now){super(oe,me),this.actions=[],this._active=!1}flush(oe){const{actions:me}=this;if(this._active)return void me.push(oe);let se;this._active=!0;do{if(se=oe.execute(oe.state,oe.delay))break}while(oe=me.shift());if(this._active=!1,se){for(;oe=me.shift();)oe.unsubscribe();throw se}}}},4986:(tt,be,P)=>{P.d(be,{P:()=>ce,z:()=>N});var d=P(4408);const N=new(P(7565).v)(d.o),ce=N},6063:(tt,be,P)=>{P.d(be,{l:()=>d});const d={now:()=>(d.delegate||Date).now(),delegate:void 0}},3410:(tt,be,P)=>{P.d(be,{z:()=>d});const d={setTimeout(J,N,...ce){const{delegate:oe}=d;return(null==oe?void 0:oe.setTimeout)?oe.setTimeout(J,N,...ce):setTimeout(J,N,...ce)},clearTimeout(J){const{delegate:N}=d;return((null==N?void 0:N.clearTimeout)||clearTimeout)(J)},delegate:void 0}},2202:(tt,be,P)=>{P.d(be,{h:()=>J});const J=function d(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(tt,be,P)=>{P.d(be,{L:()=>d});const d="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(tt,be,P)=>{P.d(be,{_6:()=>me,jO:()=>ce,yG:()=>oe});var d=P(576),J=P(3532);function N(se){return se[se.length-1]}function ce(se){return(0,d.m)(N(se))?se.pop():void 0}function oe(se){return(0,J.K)(N(se))?se.pop():void 0}function me(se,ue){return"number"==typeof N(se)?se.pop():ue}},8737:(tt,be,P)=>{function d(J,N){if(J){const ce=J.indexOf(N);0<=ce&&J.splice(ce,1)}}P.d(be,{P:()=>d})},3888:(tt,be,P)=>{function d(J){const ce=J(oe=>{Error.call(oe),oe.stack=(new Error).stack});return ce.prototype=Object.create(Error.prototype),ce.prototype.constructor=ce,ce}P.d(be,{d:()=>d})},2806:(tt,be,P)=>{P.d(be,{O:()=>ce,x:()=>N});var d=P(2416);let J=null;function N(oe){if(d.v.useDeprecatedSynchronousErrorHandling){const me=!J;if(me&&(J={errorThrown:!1,error:null}),oe(),me){const{errorThrown:se,error:ue}=J;if(J=null,se)throw ue}}else oe()}function ce(oe){d.v.useDeprecatedSynchronousErrorHandling&&J&&(J.errorThrown=!0,J.error=oe)}},9672:(tt,be,P)=>{function d(J,N,ce,oe=0,me=!1){const se=N.schedule(function(){ce(),me?J.add(this.schedule(null,oe)):this.unsubscribe()},oe);if(J.add(se),!me)return se}P.d(be,{f:()=>d})},4671:(tt,be,P)=>{function d(J){return J}P.d(be,{y:()=>d})},1144:(tt,be,P)=>{P.d(be,{z:()=>d});const d=J=>J&&"number"==typeof J.length&&"function"!=typeof J},2206:(tt,be,P)=>{P.d(be,{D:()=>J});var d=P(576);function J(N){return Symbol.asyncIterator&&(0,d.m)(null==N?void 0:N[Symbol.asyncIterator])}},576:(tt,be,P)=>{function d(J){return"function"==typeof J}P.d(be,{m:()=>d})},3670:(tt,be,P)=>{P.d(be,{c:()=>N});var d=P(8822),J=P(576);function N(ce){return(0,J.m)(ce[d.L])}},6495:(tt,be,P)=>{P.d(be,{T:()=>N});var d=P(2202),J=P(576);function N(ce){return(0,J.m)(null==ce?void 0:ce[d.h])}},8239:(tt,be,P)=>{P.d(be,{t:()=>J});var d=P(576);function J(N){return(0,d.m)(null==N?void 0:N.then)}},3260:(tt,be,P)=>{P.d(be,{L:()=>ce,Q:()=>N});var d=P(655),J=P(576);function N(oe){return(0,d.FC)(this,arguments,function*(){const se=oe.getReader();try{for(;;){const{value:ue,done:pe}=yield(0,d.qq)(se.read());if(pe)return yield(0,d.qq)(void 0);yield yield(0,d.qq)(ue)}}finally{se.releaseLock()}})}function ce(oe){return(0,J.m)(null==oe?void 0:oe.getReader)}},3532:(tt,be,P)=>{P.d(be,{K:()=>J});var d=P(576);function J(N){return N&&(0,d.m)(N.schedule)}},4482:(tt,be,P)=>{P.d(be,{A:()=>J,e:()=>N});var d=P(576);function J(ce){return(0,d.m)(null==ce?void 0:ce.lift)}function N(ce){return oe=>{if(J(oe))return oe.lift(function(me){try{return ce(me,this)}catch(se){this.error(se)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(tt,be,P)=>{function d(){}P.d(be,{Z:()=>d})},7849:(tt,be,P)=>{P.d(be,{h:()=>N});var d=P(2416),J=P(3410);function N(ce){J.z.setTimeout(()=>{const{onUnhandledError:oe}=d.v;if(!oe)throw ce;oe(ce)})}},4532:(tt,be,P)=>{function d(J){return new TypeError(`You provided ${null!==J&&"object"==typeof J?"an invalid object":`'${J}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}P.d(be,{z:()=>d})},655:(tt,be,P)=>{function ce(K,ne){var ee={};for(var _e in K)Object.prototype.hasOwnProperty.call(K,_e)&&ne.indexOf(_e)<0&&(ee[_e]=K[_e]);if(null!=K&&"function"==typeof Object.getOwnPropertySymbols){var de=0;for(_e=Object.getOwnPropertySymbols(K);de<_e.length;de++)ne.indexOf(_e[de])<0&&Object.prototype.propertyIsEnumerable.call(K,_e[de])&&(ee[_e[de]]=K[_e[de]])}return ee}function ue(K,ne,ee,_e){return new(ee||(ee=Promise))(function(Fe,gt){function Jt(sn){try{Je(_e.next(sn))}catch(bn){gt(bn)}}function jt(sn){try{Je(_e.throw(sn))}catch(bn){gt(bn)}}function Je(sn){sn.done?Fe(sn.value):function de(Fe){return Fe instanceof ee?Fe:new ee(function(gt){gt(Fe)})}(sn.value).then(Jt,jt)}Je((_e=_e.apply(K,ne||[])).next())})}function ge(K){return this instanceof ge?(this.v=K,this):new ge(K)}function De(K,ne,ee){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var de,_e=ee.apply(K,ne||[]),Fe=[];return de={},gt("next"),gt("throw"),gt("return"),de[Symbol.asyncIterator]=function(){return this},de;function gt(dn){_e[dn]&&(de[dn]=function(tn){return new Promise(function(Or,Qt){Fe.push([dn,tn,Or,Qt])>1||Jt(dn,tn)})})}function Jt(dn,tn){try{!function jt(dn){dn.value instanceof ge?Promise.resolve(dn.value.v).then(Je,sn):bn(Fe[0][2],dn)}(_e[dn](tn))}catch(Or){bn(Fe[0][3],Or)}}function Je(dn){Jt("next",dn)}function sn(dn){Jt("throw",dn)}function bn(dn,tn){dn(tn),Fe.shift(),Fe.length&&Jt(Fe[0][0],Fe[0][1])}}function Xe(K){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ee,ne=K[Symbol.asyncIterator];return ne?ne.call(K):(K=function te(K){var ne="function"==typeof Symbol&&Symbol.iterator,ee=ne&&K[ne],_e=0;if(ee)return ee.call(K);if(K&&"number"==typeof K.length)return{next:function(){return K&&_e>=K.length&&(K=void 0),{value:K&&K[_e++],done:!K}}};throw new TypeError(ne?"Object is not iterable.":"Symbol.iterator is not defined.")}(K),ee={},_e("next"),_e("throw"),_e("return"),ee[Symbol.asyncIterator]=function(){return this},ee);function _e(Fe){ee[Fe]=K[Fe]&&function(gt){return new Promise(function(Jt,jt){!function de(Fe,gt,Jt,jt){Promise.resolve(jt).then(function(Je){Fe({value:Je,done:Jt})},gt)}(Jt,jt,(gt=K[Fe](gt)).done,gt.value)})}}}P.d(be,{FC:()=>De,KL:()=>Xe,_T:()=>ce,mG:()=>ue,qq:()=>ge})},5e3:(tt,be,P)=>{P.d(be,{$8M:()=>Ei,$Z:()=>vp,AFp:()=>qh,ALo:()=>Mc,AaK:()=>ue,CHM:()=>wo,CRH:()=>gC,CZH:()=>zh,CqO:()=>We,DdM:()=>sC,EJc:()=>OC,EpF:()=>it,F$t:()=>ow,F4k:()=>rw,FYo:()=>Yw,FiY:()=>at,G48:()=>Kb,Gf:()=>wb,GfV:()=>Qw,Gpc:()=>H,Hsn:()=>xv,Ikx:()=>hl,JOm:()=>p,LFG:()=>R,LSH:()=>Vo,Lbi:()=>RC,MAs:()=>HE,NdJ:()=>fe,OlP:()=>Rn,Oqu:()=>Ra,PXZ:()=>Hb,Q6J:()=>Sv,QGY:()=>Tt,Qsj:()=>sT,R0b:()=>Ko,RDi:()=>Bc,Rgc:()=>zp,SBq:()=>xh,Sil:()=>MT,Suo:()=>Rc,TTD:()=>Ji,TgZ:()=>ll,Tol:()=>ul,VKq:()=>hb,VLi:()=>LC,W1O:()=>yC,X6Q:()=>Zb,XFs:()=>wt,Xpm:()=>Ct,Y36:()=>yp,YKP:()=>tC,YNc:()=>jE,Yjl:()=>fn,Yz7:()=>tn,ZZ4:()=>o0,_Bn:()=>ab,_UZ:()=>bp,_Vd:()=>g_,_c5:()=>l0,_uU:()=>fw,aQg:()=>sg,c2e:()=>ST,cJS:()=>Qt,cg1:()=>Rr,dDg:()=>V_,deG:()=>wd,dqk:()=>Zt,eFA:()=>zu,ekj:()=>Ps,f3M:()=>Q,g9A:()=>N_,h0i:()=>Oh,hGG:()=>c0,hij:()=>Fn,iGM:()=>$u,ifc:()=>Xt,ip1:()=>P_,kL8:()=>Dw,lG2:()=>Nt,n5z:()=>jn,oAB:()=>we,oxw:()=>sw,q4F:()=>Xw,qLn:()=>Ms,qOj:()=>lh,qZA:()=>Go,s9C:()=>Rv,sBO:()=>Yb,sIi:()=>al,s_b:()=>xc,soG:()=>Lb,tBr:()=>Ot,tb:()=>kC,tp0:()=>Zn,uIk:()=>Bm,vHH:()=>Ne,vpe:()=>Ns,wAp:()=>St,xi3:()=>v_,xp6:()=>Hy,z2F:()=>tg,zSh:()=>Sm,zs3:()=>Ho});var d=P(7579),J=P(727),N=P(8306),ce=P(6451),oe=P(3099);function me(s){for(let o in s)if(s[o]===me)return o;throw Error("Could not find renamed property on target object.")}function se(s,o){for(const l in o)o.hasOwnProperty(l)&&!s.hasOwnProperty(l)&&(s[l]=o[l])}function ue(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(ue).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const l=o.indexOf("\n");return-1===l?o:o.substring(0,l)}function pe(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const G=me({__forward_ref__:me});function H(s){return s.__forward_ref__=H,s.toString=function(){return ue(this())},s}function te(s){return Be(s)?s():s}function Be(s){return"function"==typeof s&&s.hasOwnProperty(G)&&s.__forward_ref__===H}class Ne extends Error{constructor(o,l){super(function je(s,o){return`NG0${Math.abs(s)}${o?": "+o:""}`}(o,l)),this.code=o}}function ge(s){return"string"==typeof s?s:null==s?"":String(s)}function De(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():ge(s)}function ye(s,o){const l=o?` in ${o}`:"";throw new Ne(-201,`No provider for ${De(s)} found${l}`)}function jt(s,o){null==s&&function Je(s,o,l,u){throw new Error(`ASSERTION ERROR: ${s}`+(null==u?"":` [Expected=> ${l} ${u} ${o} <=Actual]`))}(o,s,null,"!=")}function tn(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function Qt(s){return{providers:s.providers||[],imports:s.imports||[]}}function Wt(s){return si(s,ps)||si(s,gi)}function si(s,o){return s.hasOwnProperty(o)?s[o]:null}function oi(s){return s&&(s.hasOwnProperty(gs)||s.hasOwnProperty(xi))?s[gs]:null}const ps=me({\u0275prov:me}),gs=me({\u0275inj:me}),gi=me({ngInjectableDef:me}),xi=me({ngInjectorDef:me});var wt=(()=>((wt=wt||{})[wt.Default=0]="Default",wt[wt.Host=1]="Host",wt[wt.Self=2]="Self",wt[wt.SkipSelf=4]="SkipSelf",wt[wt.Optional=8]="Optional",wt))();let Nr;function lr(s){const o=Nr;return Nr=s,o}function Hs(s,o,l){const u=Wt(s);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:l&wt.Optional?null:void 0!==o?o:void ye(ue(s),"Injector")}function tr(s){return{toString:s}.toString()}var $n=(()=>(($n=$n||{})[$n.OnPush=0]="OnPush",$n[$n.Default=1]="Default",$n))(),Xt=(()=>{return(s=Xt||(Xt={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",Xt;var s})();const ct="undefined"!=typeof globalThis&&globalThis,bt="undefined"!=typeof window&&window,Fr="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Zt=ct||"undefined"!=typeof global&&global||bt||Fr,Br={},_t=[],go=me({\u0275cmp:me}),$t=me({\u0275dir:me}),ms=me({\u0275pipe:me}),et=me({\u0275mod:me}),Se=me({\u0275fac:me}),Ke=me({__NG_ELEMENT_ID__:me});let kt=0;function Ct(s){return tr(()=>{const l={},u={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:l,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===$n.OnPush,directiveDefs:null,pipeDefs:null,selectors:s.selectors||_t,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||Xt.Emulated,id:"c",styles:s.styles||_t,_:null,setInput:null,schemas:s.schemas||null,tView:null},h=s.directives,m=s.features,v=s.pipes;return u.id+=kt++,u.inputs=nt(s.inputs,l),u.outputs=nt(s.outputs),m&&m.forEach(w=>w(u)),u.directiveDefs=h?()=>("function"==typeof h?h():h).map($):null,u.pipeDefs=v?()=>("function"==typeof v?v():v).map(U):null,u})}function $(s){return nn(s)||function hn(s){return s[$t]||null}(s)}function U(s){return function nr(s){return s[ms]||null}(s)}const Y={};function we(s){return tr(()=>{const o={type:s.type,bootstrap:s.bootstrap||_t,declarations:s.declarations||_t,imports:s.imports||_t,exports:s.exports||_t,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null};return null!=s.id&&(Y[s.id]=s.type),o})}function nt(s,o){if(null==s)return Br;const l={};for(const u in s)if(s.hasOwnProperty(u)){let h=s[u],m=h;Array.isArray(h)&&(m=h[1],h=h[0]),l[h]=u,o&&(o[h]=m)}return l}const Nt=Ct;function fn(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,onDestroy:s.type.prototype.ngOnDestroy||null}}function nn(s){return s[go]||null}function At(s,o){const l=s[et]||null;if(!l&&!0===o)throw new Error(`Type ${ue(s)} does not have '\u0275mod' property.`);return l}function li(s){return Array.isArray(s)&&"object"==typeof s[1]}function Yi(s){return Array.isArray(s)&&!0===s[1]}function Il(s){return 0!=(8&s.flags)}function Ju(s){return 2==(2&s.flags)}function Qi(s){return 1==(1&s.flags)}function Xi(s){return null!==s.template}function Tl(s){return 0!=(512&s[2])}function Dr(s,o){return s.hasOwnProperty(Se)?s[Se]:null}class yo{constructor(o,l,u){this.previousValue=o,this.currentValue=l,this.firstChange=u}isFirstChange(){return this.firstChange}}function Ji(){return ra}function ra(s){return s.type.prototype.ngOnChanges&&(s.setInput=_f),ad}function ad(){const s=vo(this),o=null==s?void 0:s.current;if(o){const l=s.previous;if(l===Br)s.previous=o;else for(let u in o)l[u]=o[u];s.current=null,this.ngOnChanges(o)}}function _f(s,o,l,u){const h=vo(s)||function ia(s,o){return s[ci]=o}(s,{previous:Br,current:null}),m=h.current||(h.current={}),v=h.previous,w=this.declaredInputs[l],D=v[w];m[w]=new yo(D&&D.currentValue,o,v===Br),s[u]=o}Ji.ngInherit=!0;const ci="__ngSimpleChanges__";function vo(s){return s[ci]||null}let oa;function Bc(s){oa=s}function gn(s){return!!s.listen}const Ha={createRenderer:(s,o)=>function es(){return void 0!==oa?oa:"undefined"!=typeof document?document:void 0}()};function on(s){for(;Array.isArray(s);)s=s[0];return s}function Zs(s,o){return on(o[s])}function mr(s,o){return on(o[s.index])}function xn(s,o){return s.data[o]}function ts(s,o){return s[o]}function _r(s,o){const l=o[s];return li(l)?l:l[0]}function Eo(s){return 4==(4&s[2])}function vs(s){return 128==(128&s[2])}function Oi(s,o){return null==o?null:s[o]}function ns(s){s[18]=0}function aa(s,o){s[5]+=o;let l=s,u=s[3];for(;null!==u&&(1===o&&1===l[5]||-1===o&&0===l[5]);)u[5]+=o,l=u,u=u[3]}const Et={lFrame:ua(null),bindingsEnabled:!0};function xl(){return Et.bindingsEnabled}function xe(){return Et.lFrame.lView}function qt(){return Et.lFrame.tView}function wo(s){return Et.lFrame.contextLView=s,s[8]}function Dn(){let s=Rl();for(;null!==s&&64===s.type;)s=s.parent;return s}function Rl(){return Et.lFrame.currentTNode}function yi(s,o){const l=Et.lFrame;l.currentTNode=s,l.isParent=o}function Gc(){return Et.lFrame.isParent}function zc(){Et.lFrame.isParent=!1}function Tr(){const s=Et.lFrame;let o=s.bindingRootIndex;return-1===o&&(o=s.bindingRootIndex=s.tView.bindingStartIndex),o}function Ys(){return Et.lFrame.bindingIndex++}function Pi(s){const o=Et.lFrame,l=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,l}function Pl(s,o){const l=Et.lFrame;l.bindingIndex=l.bindingRootIndex=s,ca(o)}function ca(s){Et.lFrame.currentDirectiveIndex=s}function Fl(){return Et.lFrame.currentQueryIndex}function dd(s){Et.lFrame.currentQueryIndex=s}function hd(s){const o=s[1];return 2===o.type?o.declTNode:1===o.type?s[6]:null}function Ll(s,o,l){if(l&wt.SkipSelf){let h=o,m=s;for(;!(h=h.parent,null!==h||l&wt.Host||(h=hd(m),null===h||(m=m[15],10&h.type))););if(null===h)return!1;o=h,s=m}const u=Et.lFrame=fd();return u.currentTNode=o,u.lView=s,!0}function Do(s){const o=fd(),l=s[1];Et.lFrame=o,o.currentTNode=l.firstChild,o.lView=s,o.tView=l,o.contextLView=s,o.bindingIndex=l.bindingStartIndex,o.inI18n=!1}function fd(){const s=Et.lFrame,o=null===s?null:s.child;return null===o?ua(s):o}function ua(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function pd(){const s=Et.lFrame;return Et.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const Vl=pd;function ui(){const s=pd();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function ur(){return Et.lFrame.selectedIndex}function Io(s){Et.lFrame.selectedIndex=s}function Vn(){const s=Et.lFrame;return xn(s.tView,s.selectedIndex)}function qa(s,o){for(let l=o.directiveStart,u=o.directiveEnd;l<u;l++){const m=s.data[l].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:w,ngAfterViewInit:D,ngAfterViewChecked:M,ngOnDestroy:k}=m;v&&(s.contentHooks||(s.contentHooks=[])).push(-l,v),w&&((s.contentHooks||(s.contentHooks=[])).push(l,w),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(l,w)),D&&(s.viewHooks||(s.viewHooks=[])).push(-l,D),M&&((s.viewHooks||(s.viewHooks=[])).push(l,M),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(l,M)),null!=k&&(s.destroyHooks||(s.destroyHooks=[])).push(l,k)}}function Es(s,o,l){_d(s,o,3,l)}function To(s,o,l,u){(3&s[2])===l&&_d(s,o,l,u)}function rr(s,o){let l=s[2];(3&l)===o&&(l&=2047,l+=1,s[2]=l)}function _d(s,o,l,u){const m=null!=u?u:-1,v=o.length-1;let w=0;for(let D=void 0!==u?65535&s[18]:0;D<v;D++)if("number"==typeof o[D+1]){if(w=o[D],null!=u&&w>=u)break}else o[D]<0&&(s[18]+=65536),(w<m||-1==m)&&(Og(s,l,o,D),s[18]=(4294901760&s[18])+D+2),D++}function Og(s,o,l,u){const h=l[u]<0,m=l[u+1],w=s[h?-l[u]:l[u]];if(h){if(s[2]>>11<s[18]>>16&&(3&s[2])===o){s[2]+=2048;try{m.call(w)}finally{}}}else try{m.call(w)}finally{}}class da{constructor(o,l,u){this.factory=o,this.resolving=!1,this.canSeeViewProviders=l,this.injectImpl=u}}function an(s,o,l){const u=gn(s);let h=0;for(;h<l.length;){const m=l[h];if("number"==typeof m){if(0!==m)break;h++;const v=l[h++],w=l[h++],D=l[h++];u?s.setAttribute(o,w,D,v):o.setAttributeNS(v,w,D)}else{const v=m,w=l[++h];Tn(v)?u&&s.setProperty(o,v,w):u?s.setAttribute(o,v,w):o.setAttribute(v,w),h++}}return h}function Ni(s){return 3===s||4===s||6===s}function Tn(s){return 64===s.charCodeAt(0)}function Za(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let l=-1;for(let u=0;u<o.length;u++){const h=o[u];"number"==typeof h?l=h:0===l||yd(s,l,h,null,-1===l||2===l?o[++u]:null)}}return s}function yd(s,o,l,u,h){let m=0,v=s.length;if(-1===o)v=-1;else for(;m<s.length;){const w=s[m++];if("number"==typeof w){if(w===o){v=-1;break}if(w>o){v=m-1;break}}}for(;m<s.length;){const w=s[m];if("number"==typeof w)break;if(w===l){if(null===u)return void(null!==h&&(s[m+1]=h));if(u===s[m+1])return void(s[m+2]=h)}m++,null!==u&&m++,null!==h&&m++}-1!==v&&(s.splice(v,0,o),m=v+1),s.splice(m++,0,l),null!==u&&s.splice(m++,0,u),null!==h&&s.splice(m++,0,h)}function ha(s){return-1!==s}function Qs(s){return 32767&s}function Xs(s,o){let l=function Bn(s){return s>>16}(s),u=o;for(;l>0;)u=u[15],l--;return u}let rs=!0;function Dt(s){const o=rs;return rs=s,o}let Ka=0;function is(s,o){const l=Cs(s,o);if(-1!==l)return l;const u=o[1];u.firstCreatePass&&(s.injectorIndex=o.length,Ya(u.data,s),Ya(o,null),Ya(u.blueprint,null));const h=Js(s,o),m=s.injectorIndex;if(ha(h)){const v=Qs(h),w=Xs(h,o),D=w[1].data;for(let M=0;M<8;M++)o[m+M]=w[v+M]|D[v+M]}return o[m+8]=h,m}function Ya(s,o){s.push(0,0,0,0,0,0,0,0,o)}function Cs(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function Js(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let l=0,u=null,h=o;for(;null!==h;){const m=h[1],v=m.type;if(u=2===v?m.declTNode:1===v?h[6]:null,null===u)return-1;if(l++,h=h[15],-1!==u.injectorIndex)return u.injectorIndex|l<<16}return-1}function Sr(s,o,l){!function qn(s,o,l){let u;"string"==typeof l?u=l.charCodeAt(0)||0:l.hasOwnProperty(Ke)&&(u=l[Ke]),null==u&&(u=l[Ke]=Ka++);const h=255&u;o.data[s+(h>>5)]|=1<<h}(s,o,l)}function Qa(s,o,l){if(l&wt.Optional)return s;ye(o,"NodeInjector")}function Ao(s,o,l,u){if(l&wt.Optional&&void 0===u&&(u=null),0==(l&(wt.Self|wt.Host))){const h=s[9],m=lr(void 0);try{return h?h.get(o,u,l&wt.Optional):Hs(o,u,l&wt.Optional)}finally{lr(m)}}return Qa(u,o,l)}function Mo(s,o,l,u=wt.Default,h){if(null!==s){const m=function ss(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(Ke)?s[Ke]:void 0;return"number"==typeof o?o>=0?255&o:ga:o}(l);if("function"==typeof m){if(!Ll(o,s,u))return u&wt.Host?Qa(h,l,u):Ao(o,l,u,h);try{const v=m(u);if(null!=v||u&wt.Optional)return v;ye(l)}finally{Vl()}}else if("number"==typeof m){let v=null,w=Cs(s,o),D=-1,M=u&wt.Host?o[16][6]:null;for((-1===w||u&wt.SkipSelf)&&(D=-1===w?Js(s,o):o[w+8],-1!==D&&Yc(u,!1)?(v=o[1],w=Qs(D),o=Xs(D,o)):w=-1);-1!==w;){const k=o[1];if(Un(m,w,k.data)){const L=eo(w,o,l,v,u,M);if(L!==pa)return L}D=o[w+8],-1!==D&&Yc(u,o[1].data[w+8]===M)&&Un(m,w,o)?(v=k,w=Qs(D),o=Xs(D,o)):w=-1}}}return Ao(o,l,u,h)}const pa={};function ga(){return new Hr(Dn(),xe())}function eo(s,o,l,u,h,m){const v=o[1],w=v.data[s+8],k=Xa(w,v,l,null==u?Ju(w)&&rs:u!=v&&0!=(3&w.type),h&wt.Host&&m===w);return null!==k?bi(o,v,k,w):pa}function Xa(s,o,l,u,h){const m=s.providerIndexes,v=o.data,w=1048575&m,D=s.directiveStart,k=m>>20,z=h?w+k:s.directiveEnd;for(let X=u?w:w+k;X<z;X++){const ve=v[X];if(X<D&&l===ve||X>=D&&ve.type===l)return X}if(h){const X=v[D];if(X&&Xi(X)&&X.type===l)return D}return null}function bi(s,o,l,u){let h=s[l];const m=o.data;if(function Bl(s){return s instanceof da}(h)){const v=h;v.resolving&&function Ze(s,o){const l=o?`. Dependency path: ${o.join(" > ")} > ${s}`:"";throw new Ne(-200,`Circular dependency in DI detected for ${s}${l}`)}(De(m[l]));const w=Dt(v.canSeeViewProviders);v.resolving=!0;const D=v.injectImpl?lr(v.injectImpl):null;Ll(s,u,wt.Default);try{h=s[l]=v.factory(void 0,m,s,u),o.firstCreatePass&&l>=u.directiveStart&&function fy(s,o,l){const{ngOnChanges:u,ngOnInit:h,ngDoCheck:m}=o.type.prototype;if(u){const v=ra(o);(l.preOrderHooks||(l.preOrderHooks=[])).push(s,v),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(s,v)}h&&(l.preOrderHooks||(l.preOrderHooks=[])).push(0-s,h),m&&((l.preOrderHooks||(l.preOrderHooks=[])).push(s,m),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(s,m))}(l,m[l],o)}finally{null!==D&&lr(D),Dt(w),v.resolving=!1,Vl()}}return h}function Un(s,o,l){return!!(l[o+(s>>5)]&1<<s)}function Yc(s,o){return!(s&wt.Self||s&wt.Host&&o)}class Hr{constructor(o,l){this._tNode=o,this._lView=l}get(o,l,u){return Mo(this._tNode,this._lView,o,u,l)}}function jn(s){return tr(()=>{const o=s.prototype.constructor,l=o[Se]||Fi(o),u=Object.prototype;let h=Object.getPrototypeOf(s.prototype).constructor;for(;h&&h!==u;){const m=h[Se]||Fi(h);if(m&&m!==l)return m;h=Object.getPrototypeOf(h)}return m=>new m})}function Fi(s){return Be(s)?()=>{const o=Fi(te(s));return o&&o()}:Dr(s)}function Ei(s){return function fa(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const l=s.attrs;if(l){const u=l.length;let h=0;for(;h<u;){const m=l[h];if(Ni(m))break;if(0===m)h+=2;else if("number"==typeof m)for(h++;h<u&&"string"==typeof l[h];)h++;else{if(m===o)return l[h+1];h+=2}}}return null}(Dn(),s)}const Li="__parameters__";function Vi(s,o,l){return tr(()=>{const u=function ir(s){return function(...l){if(s){const u=s(...l);for(const h in u)this[h]=u[h]}}}(o);function h(...m){if(this instanceof h)return u.apply(this,m),this;const v=new h(...m);return w.annotation=v,w;function w(D,M,k){const L=D.hasOwnProperty(Li)?D[Li]:Object.defineProperty(D,Li,{value:[]})[Li];for(;L.length<=k;)L.push(null);return(L[k]=L[k]||[]).push(v),D}}return l&&(h.prototype=Object.create(l.prototype)),h.prototype.ngMetadataName=s,h.annotationCls=h,h})}class Rn{constructor(o,l){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof l?this.__NG_ELEMENT_ID__=l:void 0!==l&&(this.\u0275prov=tn({token:this,providedIn:l.providedIn||"root",factory:l.factory}))}toString(){return`InjectionToken ${this._desc}`}}const wd=new Rn("AnalyzeForEntryComponents");function Gr(s,o){void 0===o&&(o=s);for(let l=0;l<s.length;l++){let u=s[l];Array.isArray(u)?(o===s&&(o=s.slice(0,l)),Gr(u,o)):o!==s&&o.push(u)}return o}function zr(s,o){s.forEach(l=>Array.isArray(l)?zr(l,o):o(l))}function tl(s,o,l){o>=s.length?s.push(l):s.splice(o,0,l)}function Xc(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function Ro(s,o){const l=[];for(let u=0;u<s;u++)l.push(o);return l}function sr(s,o,l){let u=ro(s,o);return u>=0?s[1|u]=l:(u=~u,function Hl(s,o,l,u){let h=s.length;if(h==o)s.push(l,u);else if(1===h)s.push(u,s[0]),s[0]=l;else{for(h--,s.push(s[h-1],s[h]);h>o;)s[h]=s[h-2],h--;s[o]=l,s[o+1]=u}}(s,u,o,l)),u}function no(s,o){const l=ro(s,o);if(l>=0)return s[1|l]}function ro(s,o){return function ya(s,o,l){let u=0,h=s.length>>l;for(;h!==u;){const m=u+(h-u>>1),v=s[m<<l];if(o===v)return m<<l;v>o?h=m:u=m+1}return~(h<<l)}(s,o,1)}const qr={},va="__NG_DI_FLAG__",wi="ngTempTokenPath",Md=/\n/gm,ql="__source",Wl=me({provide:String,useValue:me});let os;function C(s){const o=os;return os=s,o}function T(s,o=wt.Default){if(void 0===os)throw new Ne(203,"");return null===os?Hs(s,void 0,o):os.get(s,o&wt.Optional?null:void 0,o)}function R(s,o=wt.Default){return(function Mn(){return Nr}()||T)(te(s),o)}const Q=R;function ie(s){const o=[];for(let l=0;l<s.length;l++){const u=te(s[l]);if(Array.isArray(u)){if(0===u.length)throw new Ne(900,"");let h,m=wt.Default;for(let v=0;v<u.length;v++){const w=u[v],D=Ge(w);"number"==typeof D?-1===D?h=w.token:m|=D:h=w}o.push(R(h,m))}else o.push(R(u))}return o}function Ae(s,o){return s[va]=o,s.prototype[va]=o,s}function Ge(s){return s[va]}const Ot=Ae(Vi("Inject",s=>({token:s})),-1),at=Ae(Vi("Optional"),8),Zn=Ae(Vi("SkipSelf"),4);class Pd{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function ji(s){return s instanceof Pd?s.changingThisBreaksApplicationSecurity:s}const yy=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,vy=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var Pn=(()=>((Pn=Pn||{})[Pn.NONE=0]="NONE",Pn[Pn.HTML=1]="HTML",Pn[Pn.STYLE=2]="STYLE",Pn[Pn.SCRIPT=3]="SCRIPT",Pn[Pn.URL=4]="URL",Pn[Pn.RESOURCE_URL=5]="RESOURCE_URL",Pn))();function Vo(s){const o=function oo(){const s=xe();return s&&s[12]}();return o?o.sanitize(Pn.URL,s)||"":function Fo(s,o){const l=function nu(s){return s instanceof Pd&&s.getTypeName()||null}(s);if(null!=l&&l!==o){if("ResourceURL"===l&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${l} (see https://g.co/ng/security#xss)`)}return l===o}(s,"URL")?ji(s):function Jl(s){return(s=String(s)).match(yy)||s.match(vy)?s:"unsafe:"+s}(ge(s))}const em="__ngContext__";function Wr(s,o){s[em]=o}function Hd(s){const o=function au(s){return s[em]||null}(s);return o?Array.isArray(o)?o:o.lView:null}function Ff(s){return s.ngOriginalError}function Ty(s,...o){s.error(...o)}class Ms{constructor(){this._console=console}handleError(o){const l=this._findOriginalError(o),u=function tm(s){return s&&s.ngErrorLogger||Ty}(o);u(this._console,"ERROR",o),l&&u(this._console,"ORIGINAL ERROR",l)}_findOriginalError(o){let l=o&&Ff(o);for(;l&&Ff(l);)l=Ff(l);return l||null}}const uu=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Zt))();function xs(s){return s instanceof Function?s():s}var p=(()=>((p=p||{})[p.Important=1]="Important",p[p.DashCase=2]="DashCase",p))();function b(s,o){return undefined(s,o)}function W(s){const o=s[3];return Yi(o)?o[3]:o}function Qe(s){return mt(s[13])}function vt(s){return mt(s[4])}function mt(s){for(;null!==s&&!Yi(s);)s=s[4];return s}function Kr(s,o,l,u,h){if(null!=u){let m,v=!1;Yi(u)?m=u:li(u)&&(v=!0,u=u[0]);const w=on(u);0===s&&null!==l?null==h?j0(o,l,w):sc(o,l,w,h||null,!0):1===s&&null!==l?sc(o,l,w,h||null,!0):2===s?function Z0(s,o,l){const u=dm(s,o);u&&function $0(s,o,l,u){gn(s)?s.removeChild(o,l,u):o.removeChild(l)}(s,u,o,l)}(o,w,v):3===s&&o.destroyNode(w),null!=m&&function cI(s,o,l,u,h){const m=l[7];m!==on(l)&&Kr(o,s,u,m,h);for(let w=10;w<l.length;w++){const D=l[w];Zd(D[1],D,s,o,u,m)}}(o,s,m,l,h)}}function or(s,o,l){if(gn(s))return s.createElement(o,l);{const u=null!==l?function Vc(s){const o=s.toLowerCase();return"svg"===o?"http://www.w3.org/2000/svg":"math"===o?"http://www.w3.org/1998/MathML/":null}(l):null;return null===u?s.createElement(o):s.createElementNS(u,o)}}function lm(s,o){const l=s[9],u=l.indexOf(o),h=o[3];1024&o[2]&&(o[2]&=-1025,aa(h,-1)),l.splice(u,1)}function rc(s,o){if(s.length<=10)return;const l=10+o,u=s[l];if(u){const h=u[17];null!==h&&h!==s&&lm(h,u),o>0&&(s[l-1][4]=u[4]);const m=Xc(s,10+o);!function om(s,o){Zd(s,o,o[11],2,null,null),o[0]=null,o[6]=null}(u[1],u);const v=m[19];null!==v&&v.detachView(m[1]),u[3]=null,u[4]=null,u[2]&=-129}return u}function cm(s,o){if(!(256&o[2])){const l=o[11];gn(l)&&l.destroyNode&&Zd(s,o,l,3,null,null),function wa(s){let o=s[13];if(!o)return um(s[1],s);for(;o;){let l=null;if(li(o))l=o[13];else{const u=o[10];u&&(l=u)}if(!l){for(;o&&!o[4]&&o!==s;)li(o)&&um(o[1],o),o=o[3];null===o&&(o=s),li(o)&&um(o[1],o),l=o&&o[4]}o=l}}(o)}}function um(s,o){if(!(256&o[2])){o[2]&=-129,o[2]|=256,function Oy(s,o){let l;if(null!=s&&null!=(l=s.destroyHooks))for(let u=0;u<l.length;u+=2){const h=o[l[u]];if(!(h instanceof da)){const m=l[u+1];if(Array.isArray(m))for(let v=0;v<m.length;v+=2){const w=h[m[v]],D=m[v+1];try{D.call(w)}finally{}}else try{m.call(h)}finally{}}}}(s,o),function U0(s,o){const l=s.cleanup,u=o[7];let h=-1;if(null!==l)for(let m=0;m<l.length-1;m+=2)if("string"==typeof l[m]){const v=l[m+1],w="function"==typeof v?v(o):on(o[v]),D=u[h=l[m+2]],M=l[m+3];"boolean"==typeof M?w.removeEventListener(l[m],D,M):M>=0?u[h=M]():u[h=-M].unsubscribe(),m+=2}else{const v=u[h=l[m+1]];l[m].call(v)}if(null!==u){for(let m=h+1;m<u.length;m++)u[m]();o[7]=null}}(s,o),1===o[1].type&&gn(o[11])&&o[11].destroy();const l=o[17];if(null!==l&&Yi(o[3])){l!==o[3]&&lm(l,o);const u=o[19];null!==u&&u.detachView(s)}}}function aI(s,o,l){return function ic(s,o,l){let u=o;for(;null!==u&&40&u.type;)u=(o=u).parent;if(null===u)return l[0];if(2&u.flags){const h=s.data[u.directiveStart].encapsulation;if(h===Xt.None||h===Xt.Emulated)return null}return mr(u,l)}(s,o.parent,l)}function sc(s,o,l,u,h){gn(s)?s.insertBefore(o,l,u,h):o.insertBefore(l,u,h)}function j0(s,o,l){gn(s)?s.appendChild(o,l):o.appendChild(l)}function H0(s,o,l,u,h){null!==u?sc(s,o,l,u,h):j0(s,o,l)}function dm(s,o){return gn(s)?s.parentNode(o):o.parentNode}function G0(s,o,l){return z0(s,o,l)}let z0=function Py(s,o,l){return 40&s.type?mr(s,l):null};function Wd(s,o,l,u){const h=aI(s,u,o),m=o[11],w=G0(u.parent||o[6],u,o);if(null!=h)if(Array.isArray(l))for(let D=0;D<l.length;D++)H0(m,h,l[D],w,!1);else H0(m,h,l,w,!1)}function hm(s,o){if(null!==o){const l=o.type;if(3&l)return mr(o,s);if(4&l)return fm(-1,s[o.index]);if(8&l){const u=o.child;if(null!==u)return hm(s,u);{const h=s[o.index];return Yi(h)?fm(-1,h):on(h)}}if(32&l)return b(o,s)()||on(s[o.index]);{const u=W0(s,o);return null!==u?Array.isArray(u)?u[0]:hm(W(s[16]),u):hm(s,o.next)}}return null}function W0(s,o){return null!==o?s[16][6].projection[o.projection]:null}function fm(s,o){const l=10+s+1;if(l<o.length){const u=o[l],h=u[1].firstChild;if(null!==h)return hm(u,h)}return o[7]}function K0(s,o,l,u,h,m,v){for(;null!=l;){const w=u[l.index],D=l.type;if(v&&0===o&&(w&&Wr(on(w),u),l.flags|=4),64!=(64&l.flags))if(8&D)K0(s,o,l.child,u,h,m,!1),Kr(o,s,h,w,m);else if(32&D){const M=b(l,u);let k;for(;k=M();)Kr(o,s,h,k,m);Kr(o,s,h,w,m)}else 16&D?Da(s,o,u,l,h,m):Kr(o,s,h,w,m);l=v?l.projectionNext:l.next}}function Zd(s,o,l,u,h,m){K0(l,u,s.firstChild,o,h,m,!1)}function Da(s,o,l,u,h,m){const v=l[16],D=v[6].projection[u.projection];if(Array.isArray(D))for(let M=0;M<D.length;M++)Kr(o,s,h,D[M],m);else K0(s,o,D,v[3],h,m,!0)}function Q0(s,o,l){gn(s)?s.setAttribute(o,"style",l):o.style.cssText=l}function Fy(s,o,l){gn(s)?""===l?s.removeAttribute(o,"class"):s.setAttribute(o,"class",l):o.className=l}function Ly(s,o,l){let u=s.length;for(;;){const h=s.indexOf(o,l);if(-1===h)return h;if(0===h||s.charCodeAt(h-1)<=32){const m=o.length;if(h+m===u||s.charCodeAt(h+m)<=32)return h}l=h+1}}const sl="ng-template";function HA(s,o,l){let u=0;for(;u<s.length;){let h=s[u++];if(l&&"class"===h){if(h=s[u],-1!==Ly(h.toLowerCase(),o,0))return!0}else if(1===h){for(;u<s.length&&"string"==typeof(h=s[u++]);)if(h.toLowerCase()===o)return!0;return!1}}return!1}function X0(s){return 4===s.type&&s.value!==sl}function hI(s,o,l){return o===(4!==s.type||l?s.value:sl)}function J0(s,o,l){let u=4;const h=s.attrs||[],m=function vr(s){for(let o=0;o<s.length;o++)if(Ni(s[o]))return o;return s.length}(h);let v=!1;for(let w=0;w<o.length;w++){const D=o[w];if("number"!=typeof D){if(!v)if(4&u){if(u=2|1&u,""!==D&&!hI(s,D,l)||""===D&&1===o.length){if(ao(u))return!1;v=!0}}else{const M=8&u?D:o[++w];if(8&u&&null!==s.attrs){if(!HA(s.attrs,M,l)){if(ao(u))return!1;v=!0}continue}const L=eE(8&u?"class":D,h,X0(s),l);if(-1===L){if(ao(u))return!1;v=!0;continue}if(""!==M){let z;z=L>m?"":h[L+1].toLowerCase();const X=8&u?z:null;if(X&&-1!==Ly(X,M,0)||2&u&&M!==z){if(ao(u))return!1;v=!0}}}}else{if(!v&&!ao(u)&&!ao(D))return!1;if(v&&ao(D))continue;v=!1,u=D|1&u}}return ao(u)||v}function ao(s){return 0==(1&s)}function eE(s,o,l,u){if(null===o)return-1;let h=0;if(u||!l){let m=!1;for(;h<o.length;){const v=o[h];if(v===s)return h;if(3===v||6===v)m=!0;else{if(1===v||2===v){let w=o[++h];for(;"string"==typeof w;)w=o[++h];continue}if(4===v)break;if(0===v){h+=4;continue}}h+=m?1:2}return-1}return function Vy(s,o){let l=s.indexOf(4);if(l>-1)for(l++;l<s.length;){const u=s[l];if("number"==typeof u)return-1;if(u===o)return l;l++}return-1}(o,s)}function tE(s,o,l=!1){for(let u=0;u<o.length;u++)if(J0(s,o[u],l))return!0;return!1}function By(s,o){e:for(let l=0;l<o.length;l++){const u=o[l];if(s.length===u.length){for(let h=0;h<s.length;h++)if(s[h]!==u[h])continue e;return!0}}return!1}function $f(s,o){return s?":not("+o.trim()+")":o}function nE(s){let o=s[0],l=1,u=2,h="",m=!1;for(;l<s.length;){let v=s[l];if("string"==typeof v)if(2&u){const w=s[++l];h+="["+v+(w.length>0?'="'+w+'"':"")+"]"}else 8&u?h+="."+v:4&u&&(h+=" "+v);else""!==h&&!ao(v)&&(o+=$f(m,h),h=""),u=v,m=m||!ao(u);l++}return""!==h&&(o+=$f(m,h)),o}const Ut={};function Hy(s){rE(qt(),xe(),ur()+s,!1)}function rE(s,o,l,u){if(!u)if(3==(3&o[2])){const m=s.preOrderCheckHooks;null!==m&&Es(o,m,l)}else{const m=s.preOrderHooks;null!==m&&To(o,m,0,l)}Io(l)}function $y(s,o){return s<<17|o<<2}function Ia(s){return s>>17&32767}function iE(s){return 2|s}function oc(s){return(131068&s)>>2}function sE(s,o){return-131069&s|o<<2}function Gy(s){return 1|s}function di(s,o){const l=s.contentQueries;if(null!==l)for(let u=0;u<l.length;u+=2){const h=l[u],m=l[u+1];if(-1!==m){const v=s.data[m];dd(h),v.contentQueries(2,o[m],m)}}}function lo(s,o,l,u,h,m,v,w,D,M){const k=o.blueprint.slice();return k[0]=h,k[2]=140|u,ns(k),k[3]=k[15]=s,k[8]=l,k[10]=v||s&&s[10],k[11]=w||s&&s[11],k[12]=D||s&&s[12]||null,k[9]=M||s&&s[9]||null,k[6]=m,k[16]=2==o.type?s[16]:k,k}function Qd(s,o,l,u,h){let m=s.data[o];if(null===m)m=function Zy(s,o,l,u,h){const m=Rl(),v=Gc(),D=s.data[o]=function Qy(s,o,l,u,h,m){return{type:l,index:u,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:m,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?m:m&&m.parent,l,o,u,h);return null===s.firstChild&&(s.firstChild=D),null!==m&&(v?null==m.child&&null!==D.parent&&(m.child=D):null===m.next&&(m.next=D)),D}(s,o,l,u,h),function Wc(){return Et.lFrame.inI18n}()&&(m.flags|=64);else if(64&m.type){m.type=l,m.value=u,m.attrs=h;const v=function Co(){const s=Et.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}();m.injectorIndex=null===v?-1:v.injectorIndex}return yi(m,!0),m}function fu(s,o,l,u){if(0===l)return-1;const h=o.length;for(let m=0;m<l;m++)o.push(u),s.blueprint.push(u),s.data.push(null);return h}function pu(s,o,l){Do(o);try{const u=s.viewQuery;null!==u&&Dm(1,u,l);const h=s.template;null!==h&&uE(s,o,h,1,l),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&di(s,o),s.staticViewQueries&&Dm(2,s.viewQuery,l);const m=s.components;null!==m&&function hi(s,o){for(let l=0;l<o.length;l++)II(s,o[l])}(o,m)}catch(u){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),u}finally{o[2]&=-5,ui()}}function gu(s,o,l,u){const h=o[2];if(256!=(256&h)){Do(o);try{ns(o),function kl(s){return Et.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==l&&uE(s,o,l,2,u);const v=3==(3&h);if(v){const M=s.preOrderCheckHooks;null!==M&&Es(o,M,null)}else{const M=s.preOrderHooks;null!==M&&To(o,M,0,null),rr(o,0)}if(function CE(s){for(let o=Qe(s);null!==o;o=vt(o)){if(!o[2])continue;const l=o[9];for(let u=0;u<l.length;u++){const h=l[u],m=h[3];0==(1024&h[2])&&aa(m,1),h[2]|=1024}}}(o),function wE(s){for(let o=Qe(s);null!==o;o=vt(o))for(let l=10;l<o.length;l++){const u=o[l],h=u[1];vs(u)&&gu(h,u,h.template,u[8])}}(o),null!==s.contentQueries&&di(s,o),v){const M=s.contentCheckHooks;null!==M&&Es(o,M)}else{const M=s.contentHooks;null!==M&&To(o,M,1),rr(o,1)}!function bI(s,o){const l=s.hostBindingOpCodes;if(null!==l)try{for(let u=0;u<l.length;u++){const h=l[u];if(h<0)Io(~h);else{const m=h,v=l[++u],w=l[++u];Pl(v,m),w(2,o[m])}}}finally{Io(-1)}}(s,o);const w=s.components;null!==w&&function ym(s,o){for(let l=0;l<o.length;l++)sv(s,o[l])}(o,w);const D=s.viewQuery;if(null!==D&&Dm(2,D,u),v){const M=s.viewCheckHooks;null!==M&&Es(o,M)}else{const M=s.viewHooks;null!==M&&To(o,M,2),rr(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),o[2]&=-73,1024&o[2]&&(o[2]&=-1025,aa(o[3],-1))}finally{ui()}}}function Di(s,o,l,u){const h=o[10],v=Eo(o);try{!v&&h.begin&&h.begin(),v&&pu(s,o,u),gu(s,o,l,u)}finally{!v&&h.end&&h.end()}}function uE(s,o,l,u,h){const m=ur(),v=2&u;try{Io(-1),v&&o.length>20&&rE(s,o,20,!1),l(u,h)}finally{Io(m)}}function vm(s,o,l){!xl()||(function ep(s,o,l,u){const h=l.directiveStart,m=l.directiveEnd;s.firstCreatePass||is(l,o),Wr(u,o);const v=l.initialInputs;for(let w=h;w<m;w++){const D=s.data[w],M=Xi(D);M&&rv(o,l,D);const k=bi(o,s,w,l);Wr(k,o),null!==v&&iv(0,w-h,k,D,0,v),M&&(_r(l.index,o)[8]=k)}}(s,o,l,mr(l,o)),128==(128&l.flags)&&function CI(s,o,l){const u=l.directiveStart,h=l.directiveEnd,v=l.index,w=function Zc(){return Et.lFrame.currentDirectiveIndex}();try{Io(v);for(let D=u;D<h;D++){const M=s.data[D],k=o[D];ca(D),(null!==M.hostBindings||0!==M.hostVars||null!==M.hostAttrs)&&_E(M,k)}}finally{Io(-1),ca(w)}}(s,o,l))}function Xf(s,o,l=mr){const u=o.localNames;if(null!==u){let h=o.index+1;for(let m=0;m<u.length;m+=2){const v=u[m+1],w=-1===v?l(o,s):s[v];s[h++]=w}}}function Jf(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=Rs(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function Rs(s,o,l,u,h,m,v,w,D,M){const k=20+u,L=k+h,z=function Ky(s,o){const l=[];for(let u=0;u<o;u++)l.push(u<s?null:Ut);return l}(k,L),X="function"==typeof M?M():M;return z[1]={type:s,blueprint:z,template:l,queries:null,viewQuery:w,declTNode:o,data:z.slice().fill(null,k),bindingStartIndex:k,expandoStartIndex:L,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof m?m():m,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:D,consts:X,incompleteFirstPass:!1}}function Yy(s,o,l,u){const h=av(o);null===l?h.push(u):(h.push(l),s.firstCreatePass&&Im(s).push(u,h.length-1))}function Xy(s,o,l){for(let u in s)if(s.hasOwnProperty(u)){const h=s[u];(l=null===l?{}:l).hasOwnProperty(u)?l[u].push(o,h):l[u]=[o,h]}return l}function Ii(s,o,l,u,h,m,v,w){const D=mr(o,l);let k,M=o.inputs;!w&&null!=M&&(k=M[u])?(lv(s,l,k,u,h),Ju(o)&&function Jy(s,o){const l=_r(o,s);16&l[2]||(l[2]|=64)}(l,o.index)):3&o.type&&(u=function hE(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(u),h=null!=v?v(h,o.value||"",u):h,gn(m)?m.setProperty(D,u,h):Tn(u)||(D.setProperty?D.setProperty(u,h):D[u]=h))}function tv(s,o,l,u){let h=!1;if(xl()){const m=function bm(s,o,l){const u=s.directiveRegistry;let h=null;if(u)for(let m=0;m<u.length;m++){const v=u[m];tE(l,v.selectors,!1)&&(h||(h=[]),Sr(is(l,o),s,v.type),Xi(v)?(Em(s,l),h.unshift(v)):h.push(v))}return h}(s,o,l),v=null===u?null:{"":-1};if(null!==m){h=!0,nv(l,s.data.length,m.length);for(let k=0;k<m.length;k++){const L=m[k];L.providersResolver&&L.providersResolver(L)}let w=!1,D=!1,M=fu(s,o,m.length,null);for(let k=0;k<m.length;k++){const L=m[k];l.mergedAttrs=Za(l.mergedAttrs,L.hostAttrs),tp(s,l,o,M,L),vE(M,L,v),null!==L.contentQueries&&(l.flags|=8),(null!==L.hostBindings||null!==L.hostAttrs||0!==L.hostVars)&&(l.flags|=128);const z=L.type.prototype;!w&&(z.ngOnChanges||z.ngOnInit||z.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(l.index),w=!0),!D&&(z.ngOnChanges||z.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(l.index),D=!0),M++}!function EI(s,o){const u=o.directiveEnd,h=s.data,m=o.attrs,v=[];let w=null,D=null;for(let M=o.directiveStart;M<u;M++){const k=h[M],L=k.inputs,z=null===m||X0(o)?null:bE(L,m);v.push(z),w=Xy(L,M,w),D=Xy(k.outputs,M,D)}null!==w&&(w.hasOwnProperty("class")&&(o.flags|=16),w.hasOwnProperty("style")&&(o.flags|=32)),o.initialInputs=v,o.inputs=w,o.outputs=D}(s,l)}v&&function yE(s,o,l){if(o){const u=s.localNames=[];for(let h=0;h<o.length;h+=2){const m=l[o[h+1]];if(null==m)throw new Ne(-301,!1);u.push(o[h],m)}}}(l,u,v)}return l.mergedAttrs=Za(l.mergedAttrs,l.attrs),h}function Xd(s,o,l,u,h,m){const v=m.hostBindings;if(v){let w=s.hostBindingOpCodes;null===w&&(w=s.hostBindingOpCodes=[]);const D=~o.index;(function wI(s){let o=s.length;for(;o>0;){const l=s[--o];if("number"==typeof l&&l<0)return l}return 0})(w)!=D&&w.push(D),w.push(u,h,v)}}function _E(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function Em(s,o){o.flags|=2,(s.components||(s.components=[])).push(o.index)}function vE(s,o,l){if(l){if(o.exportAs)for(let u=0;u<o.exportAs.length;u++)l[o.exportAs[u]]=s;Xi(o)&&(l[""]=s)}}function nv(s,o,l){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+l,s.providerIndexes=o}function tp(s,o,l,u,h){s.data[u]=h;const m=h.factory||(h.factory=Dr(h.type)),v=new da(m,Xi(h),null);s.blueprint[u]=v,l[u]=v,Xd(s,o,0,u,fu(s,l,h.hostVars,Ut),h)}function rv(s,o,l){const u=mr(o,s),h=Jf(l),m=s[10],v=Jd(s,lo(s,h,null,l.onPush?64:16,u,o,m,m.createRenderer(u,l),null,null));s[o.index]=v}function co(s,o,l,u,h,m){const v=mr(s,o);!function np(s,o,l,u,h,m,v){if(null==m)gn(s)?s.removeAttribute(o,h,l):o.removeAttribute(h);else{const w=null==v?ge(m):v(m,u||"",h);gn(s)?s.setAttribute(o,h,w,l):l?o.setAttributeNS(l,h,w):o.setAttribute(h,w)}}(o[11],v,m,s.value,l,u,h)}function iv(s,o,l,u,h,m){const v=m[o];if(null!==v){const w=u.setInput;for(let D=0;D<v.length;){const M=v[D++],k=v[D++],L=v[D++];null!==w?u.setInput(l,L,M,k):l[k]=L}}}function bE(s,o){let l=null,u=0;for(;u<o.length;){const h=o[u];if(0!==h)if(5!==h){if("number"==typeof h)break;s.hasOwnProperty(h)&&(null===l&&(l=[]),l.push(h,s[h],o[u+1])),u+=2}else u+=2;else u+=4}return l}function EE(s,o,l,u){return new Array(s,!0,!1,o,null,0,u,l,null,null)}function sv(s,o){const l=_r(o,s);if(vs(l)){const u=l[1];80&l[2]?gu(u,l,u.template,l[8]):l[5]>0&&wm(l)}}function wm(s){for(let u=Qe(s);null!==u;u=vt(u))for(let h=10;h<u.length;h++){const m=u[h];if(1024&m[2]){const v=m[1];gu(v,m,v.template,m[8])}else m[5]>0&&wm(m)}const l=s[1].components;if(null!==l)for(let u=0;u<l.length;u++){const h=_r(l[u],s);vs(h)&&h[5]>0&&wm(h)}}function II(s,o){const l=_r(o,s),u=l[1];(function ov(s,o){for(let l=o.length;l<s.blueprint.length;l++)o.push(s.blueprint[l])})(u,l),pu(u,l,l[8])}function Jd(s,o){return s[13]?s[14][4]=o:s[13]=o,s[14]=o,o}function rp(s){for(;s;){s[2]|=64;const o=W(s);if(Tl(s)&&!o)return s;s=o}return null}function Cm(s){!function Mr(s){for(let o=0;o<s.components.length;o++){const l=s.components[o],u=Hd(l),h=u[1];Di(h,u,h.template,l)}}(s[8])}function Dm(s,o,l){dd(0),o(s,l)}const TI=(()=>Promise.resolve(null))();function av(s){return s[7]||(s[7]=[])}function Im(s){return s.cleanup||(s.cleanup=[])}function Tm(s,o){const l=s[9],u=l?l.get(Ms,null):null;u&&u.handleError(o)}function lv(s,o,l,u,h){for(let m=0;m<l.length;){const v=l[m++],w=l[m++],D=o[v],M=s.data[v];null!==M.setInput?M.setInput(D,h,u,w):D[w]=h}}function ol(s,o,l){const u=Zs(o,s);!function Uf(s,o,l){gn(s)?s.setValue(o,l):o.textContent=l}(s[11],u,l)}function _u(s,o,l){let u=l?s.styles:null,h=l?s.classes:null,m=0;if(null!==o)for(let v=0;v<o.length;v++){const w=o[v];"number"==typeof w?m=w:1==m?h=pe(h,w):2==m&&(u=pe(u,w+": "+o[++v]+";"))}l?s.styles=u:s.stylesWithoutHost=u,l?s.classes=h:s.classesWithoutHost=h}const dv=new Rn("INJECTOR",-1);class th{get(o,l=qr){if(l===qr){const u=new Error(`NullInjectorError: No provider for ${ue(o)}!`);throw u.name="NullInjectorError",u}return l}}const Sm=new Rn("Set Injector scope."),nh={},IE={};let rh;function TE(){return void 0===rh&&(rh=new th),rh}function SE(s,o=null,l=null,u){const h=yu(s,o,l,u);return h._resolveInjectorDefTypes(),h}function yu(s,o=null,l=null,u){return new AI(s,l,o||TE(),u)}class AI{constructor(o,l,u,h=null){this.parent=u,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const m=[];l&&zr(l,w=>this.processProvider(w,o,l)),zr([o],w=>this.processInjectorType(w,[],m)),this.records.set(dv,bu(void 0,this));const v=this.records.get(Sm);this.scope=null!=v?v.value:null,this.source=h||("object"==typeof o?null:ue(o))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(o=>o.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(o,l=qr,u=wt.Default){this.assertNotDestroyed();const h=C(this),m=lr(void 0);try{if(!(u&wt.SkipSelf)){let w=this.records.get(o);if(void 0===w){const D=function fv(s){return"function"==typeof s||"object"==typeof s&&s instanceof Rn}(o)&&Wt(o);w=D&&this.injectableDefInScope(D)?bu(hv(o),nh):null,this.records.set(o,w)}if(null!=w)return this.hydrate(o,w)}return(u&wt.Self?TE():this.parent).get(o,l=u&wt.Optional&&l===qr?null:l)}catch(v){if("NullInjectorError"===v.name){if((v[wi]=v[wi]||[]).unshift(ue(o)),h)throw v;return function ut(s,o,l,u){const h=s[wi];throw o[ql]&&h.unshift(o[ql]),s.message=function It(s,o,l,u=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.substr(2):s;let h=ue(o);if(Array.isArray(o))h=o.map(ue).join(" -> ");else if("object"==typeof o){let m=[];for(let v in o)if(o.hasOwnProperty(v)){let w=o[v];m.push(v+":"+("string"==typeof w?JSON.stringify(w):ue(w)))}h=`{${m.join(", ")}}`}return`${l}${u?"("+u+")":""}[${h}]: ${s.replace(Md,"\n  ")}`}("\n"+s.message,h,l,u),s.ngTokenPath=h,s[wi]=null,s}(v,o,"R3InjectorError",this.source)}throw v}finally{lr(m),C(h)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(o=>this.get(o))}toString(){const o=[];return this.records.forEach((u,h)=>o.push(ue(h))),`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ne(205,!1)}processInjectorType(o,l,u){if(!(o=te(o)))return!1;let h=oi(o);const m=null==h&&o.ngModule||void 0,v=void 0===m?o:m,w=-1!==u.indexOf(v);if(void 0!==m&&(h=oi(m)),null==h)return!1;if(null!=h.imports&&!w){let k;u.push(v);try{zr(h.imports,L=>{this.processInjectorType(L,l,u)&&(void 0===k&&(k=[]),k.push(L))})}finally{}if(void 0!==k)for(let L=0;L<k.length;L++){const{ngModule:z,providers:X}=k[L];zr(X,ve=>this.processProvider(ve,z,X||_t))}}this.injectorDefTypes.add(v);const D=Dr(v)||(()=>new v);this.records.set(v,bu(D,nh));const M=h.providers;if(null!=M&&!w){const k=o;zr(M,L=>this.processProvider(L,k,M))}return void 0!==m&&void 0!==o.providers}processProvider(o,l,u){let h=Eu(o=te(o))?o:te(o&&o.provide);const m=function AE(s,o,l){return ih(s)?bu(void 0,s.useValue):bu(ip(s),nh)}(o);if(Eu(o)||!0!==o.multi)this.records.get(h);else{let v=this.records.get(h);v||(v=bu(void 0,nh,!0),v.factory=()=>ie(v.multi),this.records.set(h,v)),h=o,v.multi.push(o)}this.records.set(h,m)}hydrate(o,l){return l.value===nh&&(l.value=IE,l.value=l.factory()),"object"==typeof l.value&&l.value&&function xE(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(l.value)&&this.onDestroy.add(l.value),l.value}injectableDefInScope(o){if(!o.providedIn)return!1;const l=te(o.providedIn);return"string"==typeof l?"any"===l||l===this.scope:this.injectorDefTypes.has(l)}}function hv(s){const o=Wt(s),l=null!==o?o.factory:Dr(s);if(null!==l)return l;if(s instanceof Rn)throw new Ne(204,!1);if(s instanceof Function)return function vu(s){const o=s.length;if(o>0)throw Ro(o,"?"),new Ne(204,!1);const l=function qi(s){const o=s&&(s[ps]||s[gi]);if(o){const l=function Pr(s){if(s.hasOwnProperty("name"))return s.name;const o=(""+s).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${l}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${l}" class.`),o}return null}(s);return null!==l?()=>l.factory(s):()=>new s}(s);throw new Ne(204,!1)}function ip(s,o,l){let u;if(Eu(s)){const h=te(s);return Dr(h)||hv(h)}if(ih(s))u=()=>te(s.useValue);else if(function Hi(s){return!(!s||!s.useFactory)}(s))u=()=>s.useFactory(...ie(s.deps||[]));else if(function ME(s){return!(!s||!s.useExisting)}(s))u=()=>R(te(s.useExisting));else{const h=te(s&&(s.useClass||s.provide));if(!function Am(s){return!!s.deps}(s))return Dr(h)||hv(h);u=()=>new h(...ie(s.deps))}return u}function bu(s,o,l=!1){return{factory:s,value:o,multi:l?[]:void 0}}function ih(s){return null!==s&&"object"==typeof s&&Wl in s}function Eu(s){return"function"==typeof s}let Ho=(()=>{class s{static create(l,u){var h;if(Array.isArray(l))return SE({name:""},u,l,"");{const m=null!==(h=l.name)&&void 0!==h?h:"";return SE({name:m},l.parent,l.providers,m)}}}return s.THROW_IF_NOT_FOUND=qr,s.NULL=new th,s.\u0275prov=tn({token:s,providedIn:"any",factory:()=>R(dv)}),s.__NG_ELEMENT_ID__=-1,s})();function Cu(s,o){qa(Hd(s)[1],Dn())}function lh(s){let o=function lp(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),l=!0;const u=[s];for(;o;){let h;if(Xi(s))h=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new Ne(903,"");h=o.\u0275dir}if(h){if(l){u.push(h);const v=s;v.inputs=kn(s.inputs),v.declaredInputs=kn(s.declaredInputs),v.outputs=kn(s.outputs);const w=h.hostBindings;w&&up(s,w);const D=h.viewQuery,M=h.contentQueries;if(D&&Fm(s,D),M&&cp(s,M),se(s.inputs,h.inputs),se(s.declaredInputs,h.declaredInputs),se(s.outputs,h.outputs),Xi(h)&&h.data.animation){const k=s.data;k.animation=(k.animation||[]).concat(h.data.animation)}}const m=h.features;if(m)for(let v=0;v<m.length;v++){const w=m[v];w&&w.ngInherit&&w(s),w===lh&&(l=!1)}}o=Object.getPrototypeOf(o)}!function FE(s){let o=0,l=null;for(let u=s.length-1;u>=0;u--){const h=s[u];h.hostVars=o+=h.hostVars,h.hostAttrs=Za(h.hostAttrs,l=Za(l,h.hostAttrs))}}(u)}function kn(s){return s===Br?{}:s===_t?[]:s}function Fm(s,o){const l=s.viewQuery;s.viewQuery=l?(u,h)=>{o(u,h),l(u,h)}:o}function cp(s,o){const l=s.contentQueries;s.contentQueries=l?(u,h,m)=>{o(u,h,m),l(u,h,m)}:o}function up(s,o){const l=s.hostBindings;s.hostBindings=l?(u,h)=>{o(u,h),l(u,h)}:o}let Lm=null;function ch(){if(!Lm){const s=Zt.Symbol;if(s&&s.iterator)Lm=s.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let l=0;l<o.length;++l){const u=o[l];"entries"!==u&&"size"!==u&&Map.prototype[u]===Map.prototype.entries&&(Lm=u)}}}return Lm}function al(s){return!!Vm(s)&&(Array.isArray(s)||!(s instanceof Map)&&ch()in s)}function Vm(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function $o(s,o,l){return s[o]=l}function Ti(s,o,l){return!Object.is(s[o],l)&&(s[o]=l,!0)}function Bm(s,o,l,u){const h=xe();return Ti(h,Ys(),o)&&(qt(),co(Vn(),h,s,o,l,u)),Bm}function dc(s,o,l,u){return Ti(s,Ys(),l)?o+ge(l)+u:Ut}function jE(s,o,l,u,h,m,v,w){const D=xe(),M=qt(),k=s+20,L=M.firstCreatePass?function UE(s,o,l,u,h,m,v,w,D){const M=o.consts,k=Qd(o,s,4,v||null,Oi(M,w));tv(o,l,k,Oi(M,D)),qa(o,k);const L=k.tViews=Rs(2,k,u,h,m,o.directiveRegistry,o.pipeRegistry,null,o.schemas,M);return null!==o.queries&&(o.queries.template(o,k),L.queries=o.queries.embeddedTView(k)),k}(k,M,D,o,l,u,h,m,v):M.data[k];yi(L,!1);const z=D[11].createComment("");Wd(M,D,z,L),Wr(z,D),Jd(D,D[k]=EE(z,D,z,L)),Qi(L)&&vm(M,D,L),null!=v&&Xf(D,L,w)}function HE(s){return ts(function ud(){return Et.lFrame.contextLView}(),20+s)}function yp(s,o=wt.Default){const l=xe();return null===l?R(s,o):Mo(Dn(),l,te(s),o)}function vp(){throw new Error("invalid")}function Sv(s,o,l){const u=xe();return Ti(u,Ys(),o)&&Ii(qt(),Vn(),u,s,o,u[11],l,!1),Sv}function zm(s,o,l,u,h){const v=h?"class":"style";lv(s,l,o.inputs[v],v,u)}function ll(s,o,l,u){const h=xe(),m=qt(),v=20+s,w=h[11],D=h[v]=or(w,o,function kg(){return Et.lFrame.currentNamespace}()),M=m.firstCreatePass?function Xr(s,o,l,u,h,m,v){const w=o.consts,M=Qd(o,s,2,h,Oi(w,m));return tv(o,l,M,Oi(w,v)),null!==M.attrs&&_u(M,M.attrs,!1),null!==M.mergedAttrs&&_u(M,M.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,M),M}(v,m,h,0,o,l,u):m.data[v];yi(M,!0);const k=M.mergedAttrs;null!==k&&an(w,D,k);const L=M.classes;null!==L&&Fy(w,D,L);const z=M.styles;return null!==z&&Q0(w,D,z),64!=(64&M.flags)&&Wd(m,h,D,M),0===function za(){return Et.lFrame.elementDepthCount}()&&Wr(D,h),function Hc(){Et.lFrame.elementDepthCount++}(),Qi(M)&&(vm(m,h,M),function Qf(s,o,l){if(Il(o)){const h=o.directiveEnd;for(let m=o.directiveStart;m<h;m++){const v=s.data[m];v.contentQueries&&v.contentQueries(1,l[m],m)}}}(m,M,h)),null!==u&&Xf(h,M),ll}function Go(){let s=Dn();Gc()?zc():(s=s.parent,yi(s,!1));const o=s;!function Ml(){Et.lFrame.elementDepthCount--}();const l=qt();return l.firstCreatePass&&(qa(l,s),Il(s)&&l.queries.elementEnd(s)),null!=o.classesWithoutHost&&function Ng(s){return 0!=(16&s.flags)}(o)&&zm(l,o,xe(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function In(s){return 0!=(32&s.flags)}(o)&&zm(l,o,xe(),o.stylesWithoutHost,!1),Go}function bp(s,o,l,u){return ll(s,o,l,u),Go(),bp}function it(){return xe()}function Tt(s){return!!s&&"function"==typeof s.then}function rw(s){return!!s&&"function"==typeof s.subscribe}const We=rw;function fe(s,o,l,u){const h=xe(),m=qt(),v=Dn();return function Av(s,o,l,u,h,m,v,w){const D=Qi(u),k=s.firstCreatePass&&Im(s),L=o[8],z=av(o);let X=!0;if(3&u.type||w){const $e=mr(u,o),rt=w?w($e):$e,Re=z.length,yt=w?Kt=>w(on(Kt[u.index])):u.index;if(gn(l)){let Kt=null;if(!w&&D&&(Kt=function xr(s,o,l,u){const h=s.cleanup;if(null!=h)for(let m=0;m<h.length-1;m+=2){const v=h[m];if(v===l&&h[m+1]===u){const w=o[7],D=h[m+2];return w.length>D?w[D]:null}"string"==typeof v&&(m+=2)}return null}(s,o,h,u.index)),null!==Kt)(Kt.__ngLastListenerFn__||Kt).__ngNextListenerFn__=m,Kt.__ngLastListenerFn__=m,X=!1;else{m=Mv(u,o,L,m,!1);const vn=l.listen(rt,h,m);z.push(m,vn),k&&k.push(h,yt,Re,Re+1)}}else m=Mv(u,o,L,m,!0),rt.addEventListener(h,m,v),z.push(m),k&&k.push(h,yt,Re,v)}else m=Mv(u,o,L,m,!1);const ve=u.outputs;let Ve;if(X&&null!==ve&&(Ve=ve[h])){const $e=Ve.length;if($e)for(let rt=0;rt<$e;rt+=2){const zi=o[Ve[rt]][Ve[rt+1]].subscribe(m),El=z.length;z.push(m,zi),k&&k.push(h,u.index,El,-(El+1))}}}(m,h,h[11],v,s,o,!!l,u),fe}function iw(s,o,l,u){try{return!1!==l(u)}catch(h){return Tm(s,h),!1}}function Mv(s,o,l,u,h){return function m(v){if(v===Function)return u;const w=2&s.flags?_r(s.index,o):o;0==(32&o[2])&&rp(w);let D=iw(o,0,u,v),M=m.__ngNextListenerFn__;for(;M;)D=iw(o,0,M,v)&&D,M=M.__ngNextListenerFn__;return h&&!1===D&&(v.preventDefault(),v.returnValue=!1),D}}function sw(s=1){return function vf(s){return(Et.lFrame.contextLView=function Kc(s,o){for(;s>0;)o=o[15],s--;return o}(s,Et.lFrame.contextLView))[8]}(s)}function BI(s,o){let l=null;const u=function Hf(s){const o=s.attrs;if(null!=o){const l=o.indexOf(5);if(0==(1&l))return o[l+1]}return null}(s);for(let h=0;h<o.length;h++){const m=o[h];if("*"!==m){if(null===u?tE(s,m,!0):By(u,m))return h}else l=h}return l}function ow(s){const o=xe()[16][6];if(!o.projection){const u=o.projection=Ro(s?s.length:1,null),h=u.slice();let m=o.child;for(;null!==m;){const v=s?BI(m,s):0;null!==v&&(h[v]?h[v].projectionNext=m:u[v]=m,h[v]=m),m=m.next}}}function xv(s,o=0,l){const u=xe(),h=qt(),m=Qd(h,20+s,16,null,l||null);null===m.projection&&(m.projection=o),zc(),64!=(64&m.flags)&&function Y0(s,o,l){Da(o[11],0,o,l,aI(s,l,o),G0(l.parent||o[6],l,o))}(h,u,m)}function Rv(s,o,l){return aw(s,"",o,"",l),Rv}function aw(s,o,l,u,h){const m=xe(),v=dc(m,o,l,u);return v!==Ut&&Ii(qt(),Vn(),m,s,v,m[11],h,!1),aw}function ze(s,o,l,u,h){const m=s[l+1],v=null===o;let w=u?Ia(m):oc(m),D=!1;for(;0!==w&&(!1===D||v);){const k=s[w+1];Wm(s[w],o)&&(D=!0,s[w+1]=u?Gy(k):iE(k)),w=u?Ia(k):oc(k)}D&&(s[l+1]=u?iE(m):Gy(m))}function Wm(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&ro(s,o)>=0}const fr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function gc(s){return s.substring(fr.key,fr.keyEnd)}function cw(s,o){const l=fr.textEnd;return l===o?-1:(o=fr.keyEnd=function Fv(s,o,l){for(;o<l&&s.charCodeAt(o)>32;)o++;return o}(s,fr.key=o,l),Jr(s,o,l))}function Jr(s,o,l){for(;o<l&&s.charCodeAt(o)<=32;)o++;return o}function Ps(s,o){return function fi(s,o,l,u){const h=xe(),m=qt(),v=Pi(2);m.firstUpdatePass&&dw(m,s,v,u),o!==Ut&&Ti(h,v,o)&&Vv(m,m.data[ur()],h,h[11],s,h[v+1]=function $I(s,o){return null==s||("string"==typeof o?s+=o:"object"==typeof s&&(s=ue(ji(s)))),s}(o,l),u,v)}(s,o,null,!0),Ps}function ul(s){!function ho(s,o,l,u){const h=qt(),m=Pi(2);h.firstUpdatePass&&dw(h,null,m,u);const v=xe();if(l!==Ut&&Ti(v,m,l)){const w=h.data[ur()];if(br(w,u)&&!Ym(h,m)){let D=u?w.classesWithoutHost:w.stylesWithoutHost;null!==D&&(l=pe(D,l||"")),zm(h,w,v,l,u)}else!function wn(s,o,l,u,h,m,v,w){h===Ut&&(h=_t);let D=0,M=0,k=0<h.length?h[0]:null,L=0<m.length?m[0]:null;for(;null!==k||null!==L;){const z=D<h.length?h[D+1]:void 0,X=M<m.length?m[M+1]:void 0;let Ve,ve=null;k===L?(D+=2,M+=2,z!==X&&(ve=L,Ve=X)):null===L||null!==k&&k<L?(D+=2,ve=k):(M+=2,ve=L,Ve=X),null!==ve&&Vv(s,o,l,u,ve,Ve,v,w),k=D<h.length?h[D]:null,L=M<m.length?m[M]:null}}(h,w,v,v[11],v[m+1],v[m+1]=function Xm(s,o,l){if(null==l||""===l)return _t;const u=[],h=ji(l);if(Array.isArray(h))for(let m=0;m<h.length;m++)s(u,h[m],!0);else if("object"==typeof h)for(const m in h)h.hasOwnProperty(m)&&s(u,m,h[m]);else"string"==typeof h&&o(u,h);return u}(s,o,l),u,m)}}(sr,xa,s,!0)}function xa(s,o){for(let l=function Zm(s){return function Nv(s){fr.key=0,fr.keyEnd=0,fr.value=0,fr.valueEnd=0,fr.textEnd=s.length}(s),cw(s,Jr(s,0,fr.textEnd))}(o);l>=0;l=cw(o,l))sr(s,gc(o),!0)}function Ym(s,o){return o>=s.expandoStartIndex}function dw(s,o,l,u){const h=s.data;if(null===h[l+1]){const m=h[ur()],v=Ym(s,l);br(m,u)&&null===o&&!v&&(o=!1),o=function HI(s,o,l,u){const h=function Nl(s){const o=Et.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}(s);let m=u?o.residualClasses:o.residualStyles;if(null===h)0===(u?o.classBindings:o.styleBindings)&&(l=On(l=Qm(null,s,o,l,u),o.attrs,u),m=null);else{const v=o.directiveStylingLast;if(-1===v||s[v]!==h)if(l=Qm(h,s,o,l,u),null===m){let D=function cs(s,o,l){const u=l?o.classBindings:o.styleBindings;if(0!==oc(u))return s[Ia(u)]}(s,o,u);void 0!==D&&Array.isArray(D)&&(D=Qm(null,s,o,D[1],u),D=On(D,o.attrs,u),function hw(s,o,l,u){s[Ia(l?o.classBindings:o.styleBindings)]=u}(s,o,u,D))}else m=function Ru(s,o,l){let u;const h=o.directiveEnd;for(let m=1+o.directiveStylingLast;m<h;m++)u=On(u,s[m].hostAttrs,l);return On(u,o.attrs,l)}(s,o,u)}return void 0!==m&&(u?o.residualClasses=m:o.residualStyles=m),l}(h,m,o,u),function UI(s,o,l,u,h,m){let v=m?o.classBindings:o.styleBindings,w=Ia(v),D=oc(v);s[u]=l;let k,M=!1;if(Array.isArray(l)){const L=l;k=L[1],(null===k||ro(L,k)>0)&&(M=!0)}else k=l;if(h)if(0!==D){const z=Ia(s[w+1]);s[u+1]=$y(z,w),0!==z&&(s[z+1]=sE(s[z+1],u)),s[w+1]=function $A(s,o){return 131071&s|o<<17}(s[w+1],u)}else s[u+1]=$y(w,0),0!==w&&(s[w+1]=sE(s[w+1],u)),w=u;else s[u+1]=$y(D,0),0===w?w=u:s[D+1]=sE(s[D+1],u),D=u;M&&(s[u+1]=iE(s[u+1])),ze(s,k,u,!0),ze(s,k,u,!1),function ar(s,o,l,u,h){const m=h?s.residualClasses:s.residualStyles;null!=m&&"string"==typeof o&&ro(m,o)>=0&&(l[u+1]=Gy(l[u+1]))}(o,k,s,u,m),v=$y(w,D),m?o.classBindings=v:o.styleBindings=v}(h,m,o,l,v,u)}}function Qm(s,o,l,u,h){let m=null;const v=l.directiveEnd;let w=l.directiveStylingLast;for(-1===w?w=l.directiveStart:w++;w<v&&(m=o[w],u=On(u,m.hostAttrs,h),m!==s);)w++;return null!==s&&(l.directiveStylingLast=w),u}function On(s,o,l){const u=l?1:2;let h=-1;if(null!==o)for(let m=0;m<o.length;m++){const v=o[m];"number"==typeof v?h=v:h===u&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),sr(s,v,!!l||o[++m]))}return void 0===s?null:s}function Vv(s,o,l,u,h,m,v,w){if(!(3&o.type))return;const D=s.data,M=D[w+1];Si(function oE(s){return 1==(1&s)}(M)?ku(D,o,l,h,oc(M),v):void 0)||(Si(m)||function pI(s){return 2==(2&s)}(M)&&(m=ku(D,null,l,h,w,v)),function uI(s,o,l,u,h){const m=gn(s);if(o)h?m?s.addClass(l,u):l.classList.add(u):m?s.removeClass(l,u):l.classList.remove(u);else{let v=-1===u.indexOf("-")?void 0:p.DashCase;if(null==h)m?s.removeStyle(l,u,v):l.style.removeProperty(u);else{const w="string"==typeof h&&h.endsWith("!important");w&&(h=h.slice(0,-10),v|=p.Important),m?s.setStyle(l,u,h,v):l.style.setProperty(u,h,w?"important":"")}}}(u,v,Zs(ur(),l),h,m))}function ku(s,o,l,u,h,m){const v=null===o;let w;for(;h>0;){const D=s[h],M=Array.isArray(D),k=M?D[1]:D,L=null===k;let z=l[h+1];z===Ut&&(z=L?_t:void 0);let X=L?no(z,u):k===u?z:void 0;if(M&&!Si(X)&&(X=no(D,u)),Si(X)&&(w=X,v))return w;const ve=s[h+1];h=v?Ia(ve):oc(ve)}if(null!==o){let D=m?o.residualClasses:o.residualStyles;null!=D&&(w=no(D,u))}return w}function Si(s){return void 0!==s}function br(s,o){return 0!=(s.flags&(o?16:32))}function fw(s,o=""){const l=xe(),u=qt(),h=s+20,m=u.firstCreatePass?Qd(u,h,1,o,null):u.data[h],v=l[h]=function il(s,o){return gn(s)?s.createText(o):s.createTextNode(o)}(l[11],o);Wd(u,l,v,m),yi(m,!1)}function Ra(s){return Fn("",s,""),Ra}function Fn(s,o,l){const u=xe(),h=dc(u,s,o,l);return h!==Ut&&ol(u,ur(),h),Fn}function hl(s,o,l){const u=xe();return Ti(u,Ys(),o)&&Ii(qt(),Vn(),u,s,o,u[11],l,!0),hl}const zo=void 0;var r_=["en",[["a","p"],["AM","PM"],zo],[["AM","PM"],zo,zo],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],zo,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],zo,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",zo,"{1} 'at' {0}",zo],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function n_(s){const l=Math.floor(Math.abs(s)),u=s.toString().replace(/^[^.]*\.?/,"").length;return 1===l&&0===u?1:5}];let Nu={};function Rr(s){const o=function qI(s){return s.toLowerCase().replace(/_/g,"-")}(s);let l=Iw(o);if(l)return l;const u=o.split("-")[0];if(l=Iw(u),l)return l;if("en"===u)return r_;throw new Error(`Missing locale data for the locale "${s}".`)}function Dw(s){return Rr(s)[St.PluralCase]}function Iw(s){return s in Nu||(Nu[s]=Zt.ng&&Zt.ng.common&&Zt.ng.common.locales&&Zt.ng.common.locales[s]),Nu[s]}var St=(()=>((St=St||{})[St.LocaleId=0]="LocaleId",St[St.DayPeriodsFormat=1]="DayPeriodsFormat",St[St.DayPeriodsStandalone=2]="DayPeriodsStandalone",St[St.DaysFormat=3]="DaysFormat",St[St.DaysStandalone=4]="DaysStandalone",St[St.MonthsFormat=5]="MonthsFormat",St[St.MonthsStandalone=6]="MonthsStandalone",St[St.Eras=7]="Eras",St[St.FirstDayOfWeek=8]="FirstDayOfWeek",St[St.WeekendRange=9]="WeekendRange",St[St.DateFormat=10]="DateFormat",St[St.TimeFormat=11]="TimeFormat",St[St.DateTimeFormat=12]="DateTimeFormat",St[St.NumberSymbols=13]="NumberSymbols",St[St.NumberFormats=14]="NumberFormats",St[St.CurrencyCode=15]="CurrencyCode",St[St.CurrencySymbol=16]="CurrencySymbol",St[St.CurrencyName=17]="CurrencyName",St[St.Currencies=18]="Currencies",St[St.Directionality=19]="Directionality",St[St.PluralCase=20]="PluralCase",St[St.ExtraData=21]="ExtraData",St))();const qo="en-US";let qv=qo;function wr(s,o,l,u,h){if(s=te(s),Array.isArray(s))for(let m=0;m<s.length;m++)wr(s[m],o,l,u,h);else{const m=qt(),v=xe();let w=Eu(s)?s:te(s.provide),D=ip(s);const M=Dn(),k=1048575&M.providerIndexes,L=M.directiveStart,z=M.providerIndexes>>20;if(Eu(s)||!s.multi){const X=new da(D,h,yp),ve=Bu(w,o,h?k:k+z,L);-1===ve?(Sr(is(M,v),m,w),Vp(m,s,o.length),o.push(w),M.directiveStart++,M.directiveEnd++,h&&(M.providerIndexes+=1048576),l.push(X),v.push(X)):(l[ve]=X,v[ve]=X)}else{const X=Bu(w,o,k+z,L),ve=Bu(w,o,k,k+z),Ve=X>=0&&l[X],$e=ve>=0&&l[ve];if(h&&!$e||!h&&!Ve){Sr(is(M,v),m,w);const rt=function Bp(s,o,l,u,h){const m=new da(s,l,yp);return m.multi=[],m.index=o,m.componentProviders=0,sb(m,h,u&&!l),m}(h?ob:Oa,l.length,h,u,D);!h&&$e&&(l[ve].providerFactory=rt),Vp(m,s,o.length,0),o.push(w),M.directiveStart++,M.directiveEnd++,h&&(M.providerIndexes+=1048576),l.push(rt),v.push(rt)}else Vp(m,s,X>-1?X:ve,sb(l[h?ve:X],D,!h&&u));!h&&u&&$e&&l[ve].componentProviders++}}}function Vp(s,o,l,u){const h=Eu(o),m=function sp(s){return!!s.useClass}(o);if(h||m){const D=(m?te(o.useClass):o).prototype.ngOnDestroy;if(D){const M=s.destroyHooks||(s.destroyHooks=[]);if(!h&&o.multi){const k=M.indexOf(l);-1===k?M.push(l,[u,D]):M[k+1].push(u,D)}else M.push(l,D)}}}function sb(s,o,l){return l&&s.componentProviders++,s.multi.push(o)-1}function Bu(s,o,l,u){for(let h=l;h<u;h++)if(o[h]===s)return h;return-1}function Oa(s,o,l,u){return f_(this.multi,[])}function ob(s,o,l,u){const h=this.multi;let m;if(this.providerFactory){const v=this.providerFactory.componentProviders,w=bi(l,l[1],this.providerFactory.index,u);m=w.slice(0,v),f_(h,m);for(let D=v;D<w.length;D++)m.push(w[D])}else m=[],f_(h,m);return m}function f_(s,o){for(let l=0;l<s.length;l++)o.push((0,s[l])());return o}function ab(s,o=[]){return l=>{l.providersResolver=(u,h)=>function tT(s,o,l){const u=qt();if(u.firstCreatePass){const h=Xi(s);wr(l,u.data,u.blueprint,h,!0),wr(o,u.data,u.blueprint,h,!1)}}(u,h?h(s):s,o)}}class lb{}class cb{resolveComponentFactory(o){throw function nT(s){const o=Error(`No component factory found for ${ue(s)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=s,o}(o)}}let g_=(()=>{class s{}return s.NULL=new cb,s})();function Kw(){return Ic(Dn(),xe())}function Ic(s,o){return new xh(mr(s,o))}let xh=(()=>{class s{constructor(l){this.nativeElement=l}}return s.__NG_ELEMENT_ID__=Kw,s})();function rT(s){return s instanceof xh?s.nativeElement:s}class Yw{}let sT=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function kh(){const s=xe(),l=_r(Dn().index,s);return function Rh(s){return s[11]}(li(l)?l:s)}(),s})(),oT=(()=>{class s{}return s.\u0275prov=tn({token:s,providedIn:"root",factory:()=>null}),s})();class Qw{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const Xw=new Qw("13.3.11"),m_={};function ni(s,o,l,u,h=!1){for(;null!==l;){const m=o[l.index];if(null!==m&&u.push(on(m)),Yi(m))for(let w=10;w<m.length;w++){const D=m[w],M=D[1].firstChild;null!==M&&ni(D[1],D,M,u)}const v=l.type;if(8&v)ni(s,o,l.child,u);else if(32&v){const w=b(l,o);let D;for(;D=w();)u.push(D)}else if(16&v){const w=W0(o,l);if(Array.isArray(w))u.push(...w);else{const D=W(o[16]);ni(D[1],D,w,u,!0)}}l=h?l.projectionNext:l.next}return u}class Up{constructor(o,l){this._lView=o,this._cdRefInjectingView=l,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const o=this._lView,l=o[1];return ni(l,o,l.firstChild,[])}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(Yi(o)){const l=o[8],u=l?l.indexOf(this):-1;u>-1&&(rc(o,u),Xc(l,u))}this._attachedToViewContainer=!1}cm(this._lView[1],this._lView)}onDestroy(o){Yy(this._lView[1],this._lView,null,o)}markForCheck(){rp(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){!function eh(s,o,l){const u=o[10];u.begin&&u.begin();try{gu(s,o,s.template,l)}catch(h){throw Tm(o,h),h}finally{u.end&&u.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ne(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function du(s,o){Zd(s,o,o[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new Ne(902,"");this._appRef=o}}class Jw extends Up{constructor(o){super(o),this._view=o}detectChanges(){Cm(this._view)}checkNoChanges(){}get context(){return null}}class Zo extends g_{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const l=nn(o);return new db(l,this.ngModule)}}function ub(s){const o=[];for(let l in s)s.hasOwnProperty(l)&&o.push({propName:s[l],templateName:l});return o}class db extends lb{constructor(o,l){super(),this.componentDef=o,this.ngModule=l,this.componentType=o.type,this.selector=function Uy(s){return s.map(nE).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!l}get inputs(){return ub(this.componentDef.inputs)}get outputs(){return ub(this.componentDef.outputs)}create(o,l,u,h){const m=(h=h||this.ngModule)?function eC(s,o){return{get:(l,u,h)=>{const m=s.get(l,m_,h);return m!==m_||u===m_?m:o.get(l,u,h)}}}(o,h.injector):o,v=m.get(Yw,Ha),w=m.get(oT,null),D=v.createRenderer(null,this.componentDef),M=this.componentDef.selectors[0][0]||"div",k=u?function mu(s,o,l){if(gn(s))return s.selectRootElement(o,l===Xt.ShadowDom);let u="string"==typeof o?s.querySelector(o):o;return u.textContent="",u}(D,u,this.componentDef.encapsulation):or(v.createRenderer(null,this.componentDef),M,function __(s){const o=s.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(M)),L=this.componentDef.onPush?576:528,z=function NE(s,o){return{components:[],scheduler:s||uu,clean:TI,playerHandler:o||null,flags:0}}(),X=Rs(0,null,null,1,0,null,null,null,null,null),ve=lo(null,X,z,L,null,null,v,D,w,m);let Ve,$e;Do(ve);try{const rt=function gv(s,o,l,u,h,m){const v=l[1];l[20]=s;const D=Qd(v,20,2,"#host",null),M=D.mergedAttrs=o.hostAttrs;null!==M&&(_u(D,M,!0),null!==s&&(an(h,s,M),null!==D.classes&&Fy(h,s,D.classes),null!==D.styles&&Q0(h,s,D.styles)));const k=u.createRenderer(s,o),L=lo(l,Jf(o),null,o.onPush?64:16,l[20],D,u,k,m||null,null);return v.firstCreatePass&&(Sr(is(D,l),v,o.type),Em(v,D),nv(D,l.length,1)),Jd(l,L),l[20]=L}(k,this.componentDef,ve,v,D);if(k)if(u)an(D,k,["ng-version",Xw.full]);else{const{attrs:Re,classes:yt}=function jy(s){const o=[],l=[];let u=1,h=2;for(;u<s.length;){let m=s[u];if("string"==typeof m)2===h?""!==m&&o.push(m,s[++u]):8===h&&l.push(m);else{if(!ao(h))break;h=m}u++}return{attrs:o,classes:l}}(this.componentDef.selectors[0]);Re&&an(D,k,Re),yt&&yt.length>0&&Fy(D,k,yt.join(" "))}if($e=xn(X,20),void 0!==l){const Re=$e.projection=[];for(let yt=0;yt<this.ngContentSelectors.length;yt++){const Kt=l[yt];Re.push(null!=Kt?Array.from(Kt):null)}}Ve=function mv(s,o,l,u,h){const m=l[1],v=function mE(s,o,l){const u=Dn();s.firstCreatePass&&(l.providersResolver&&l.providersResolver(l),tp(s,u,o,fu(s,o,1,null),l));const h=bi(o,s,u.directiveStart,u);Wr(h,o);const m=mr(u,o);return m&&Wr(m,o),h}(m,l,o);if(u.components.push(v),s[8]=v,h&&h.forEach(D=>D(v,o)),o.contentQueries){const D=Dn();o.contentQueries(1,v,D.directiveStart)}const w=Dn();return!m.firstCreatePass||null===o.hostBindings&&null===o.hostAttrs||(Io(w.index),Xd(l[1],w,0,w.directiveStart,w.directiveEnd,o),_E(o,v)),v}(rt,this.componentDef,ve,z,[Cu]),pu(X,ve,null)}finally{ui()}return new lT(this.componentType,Ve,Ic($e,ve),ve,$e)}}class lT extends class Ww{}{constructor(o,l,u,h,m){super(),this.location=u,this._rootLView=h,this._tNode=m,this.instance=l,this.hostView=this.changeDetectorRef=new Jw(h),this.componentType=o}get injector(){return new Hr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}class Oh{}class tC{}const Ph=new Map;class iC extends Oh{constructor(o,l){super(),this._parent=l,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Zo(this);const u=At(o);this._bootstrapComponents=xs(u.bootstrap),this._r3Injector=yu(o,l,[{provide:Oh,useValue:this},{provide:g_,useValue:this.componentFactoryResolver}],ue(o)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(o)}get(o,l=Ho.THROW_IF_NOT_FOUND,u=wt.Default){return o===Ho||o===Oh||o===dv?this:this._r3Injector.get(o,l,u)}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(l=>l()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class y_ extends tC{constructor(o){super(),this.moduleType=o,null!==At(o)&&function uT(s){const o=new Set;!function l(u){const h=At(u,!0),m=h.id;null!==m&&(function nC(s,o,l){if(o&&o!==l)throw new Error(`Duplicate module registered for ${s} - ${ue(o)} vs ${ue(o.name)}`)}(m,Ph.get(m),u),Ph.set(m,u));const v=xs(h.imports);for(const w of v)o.has(w)||(o.add(w),l(w))}(s)}(o)}create(o){return new iC(this.moduleType,o)}}function sC(s,o,l){const u=Tr()+s,h=xe();return h[u]===Ut?$o(h,u,l?o.call(l):o()):function Sa(s,o){return s[o]}(h,u)}function hb(s,o,l,u){return function aC(s,o,l,u,h,m){const v=o+l;return Ti(s,v,h)?$o(s,v+1,m?u.call(m,h):u(h)):Nh(s,v+1)}(xe(),Tr(),s,o,l,u)}function Nh(s,o){const l=s[o];return l===Ut?void 0:l}function _b(s,o,l,u,h,m,v){const w=o+l;return function Du(s,o,l,u){const h=Ti(s,o,l);return Ti(s,o+1,u)||h}(s,w,h,m)?$o(s,w+2,v?u.call(v,h,m):u(h,m)):Nh(s,w+2)}function Mc(s,o){const l=qt();let u;const h=s+20;l.firstCreatePass?(u=function Hp(s,o){if(o)for(let l=o.length-1;l>=0;l--){const u=o[l];if(s===u.name)return u}}(o,l.pipeRegistry),l.data[h]=u,u.onDestroy&&(l.destroyHooks||(l.destroyHooks=[])).push(h,u.onDestroy)):u=l.data[h];const m=u.factory||(u.factory=Dr(u.type)),v=lr(yp);try{const w=Dt(!1),D=m();return Dt(w),function PI(s,o,l,u){l>=s.data.length&&(s.data[l]=null,s.blueprint[l]=null),o[l]=u}(l,xe(),h,D),D}finally{lr(v)}}function v_(s,o,l,u){const h=s+20,m=xe(),v=ts(m,h);return function $p(s,o){return s[1].data[o].pure}(m,h)?_b(m,Tr(),o,v.transform,l,u,v):v.transform(l,u)}function b_(s){return o=>{setTimeout(s,void 0,o)}}const Ns=class dC extends d.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,l,u){var h,m,v;let w=o,D=l||(()=>null),M=u;if(o&&"object"==typeof o){const L=o;w=null===(h=L.next)||void 0===h?void 0:h.bind(L),D=null===(m=L.error)||void 0===m?void 0:m.bind(L),M=null===(v=L.complete)||void 0===v?void 0:v.bind(L)}this.__isAsync&&(D=b_(D),w&&(w=b_(w)),M&&(M=b_(M)));const k=super.subscribe({next:w,error:D,complete:M});return o instanceof J.w0&&o.add(k),k}};function Gp(){return this._results[ch()]()}class pl{constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const l=ch(),u=pl.prototype;u[l]||(u[l]=Gp)}get changes(){return this._changes||(this._changes=new Ns)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,l){return this._results.reduce(o,l)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,l){const u=this;u.dirty=!1;const h=Gr(o);(this._changesDetected=!function Ef(s,o,l){if(s.length!==o.length)return!1;for(let u=0;u<s.length;u++){let h=s[u],m=o[u];if(l&&(h=l(h),m=l(m)),m!==h)return!1}return!0}(u._results,h,l))&&(u._results=h,u.length=h.length,u.last=h[this.length-1],u.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let zp=(()=>{class s{}return s.__NG_ELEMENT_ID__=fT,s})();const hC=zp,hT=class extends hC{constructor(o,l,u){super(),this._declarationLView=o,this._declarationTContainer=l,this.elementRef=u}createEmbeddedView(o){const l=this._declarationTContainer.tViews,u=lo(this._declarationLView,l,o,16,null,l.declTNode,null,null,null,null);u[17]=this._declarationLView[this._declarationTContainer.index];const m=this._declarationLView[19];return null!==m&&(u[19]=m.createEmbeddedView(l)),pu(l,u,o),new Up(u)}};function fT(){return E_(Dn(),xe())}function E_(s,o){return 4&s.type?new hT(o,s,Ic(s,o)):null}let xc=(()=>{class s{}return s.__NG_ELEMENT_ID__=Uu,s})();function Uu(){return w_(Dn(),xe())}const ju=xc,vb=class extends ju{constructor(o,l,u){super(),this._lContainer=o,this._hostTNode=l,this._hostLView=u}get element(){return Ic(this._hostTNode,this._hostLView)}get injector(){return new Hr(this._hostTNode,this._hostLView)}get parentInjector(){const o=Js(this._hostTNode,this._hostLView);if(ha(o)){const l=Xs(o,this._hostLView),u=Qs(o);return new Hr(l[1].data[u+8],l)}return new Hr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const l=fC(this._lContainer);return null!==l&&l[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,l,u){const h=o.createEmbeddedView(l||{});return this.insert(h,u),h}createComponent(o,l,u,h,m){const v=o&&!function el(s){return"function"==typeof s}(o);let w;if(v)w=l;else{const L=l||{};w=L.index,u=L.injector,h=L.projectableNodes,m=L.ngModuleRef}const D=v?o:new db(nn(o)),M=u||this.parentInjector;if(!m&&null==D.ngModule){const z=(v?M:this.parentInjector).get(Oh,null);z&&(m=z)}const k=D.create(M,h,void 0,m);return this.insert(k.hostView,w),k}insert(o,l){const u=o._lView,h=u[1];if(function Ga(s){return Yi(s[3])}(u)){const k=this.indexOf(o);if(-1!==k)this.detach(k);else{const L=u[3],z=new vb(L,L[6],L[3]);z.detach(z.indexOf(o))}}const m=this._adjustIndex(l),v=this._lContainer;!function Ca(s,o,l,u){const h=10+u,m=l.length;u>0&&(l[h-1][4]=o),u<m-10?(o[4]=l[h],tl(l,10+u,o)):(l.push(o),o[4]=null),o[3]=l;const v=o[17];null!==v&&l!==v&&function am(s,o){const l=s[9];o[16]!==o[3][3][16]&&(s[2]=!0),null===l?s[9]=[o]:l.push(o)}(v,o);const w=o[19];null!==w&&w.insertView(s),o[2]|=128}(h,u,v,m);const w=fm(m,v),D=u[11],M=dm(D,v[7]);return null!==M&&function qd(s,o,l,u,h,m){u[0]=h,u[6]=o,Zd(s,u,l,1,h,m)}(h,v[6],D,u,M,w),o.attachToViewContainerRef(),tl(bb(v),m,o),o}move(o,l){return this.insert(o,l)}indexOf(o){const l=fC(this._lContainer);return null!==l?l.indexOf(o):-1}remove(o){const l=this._adjustIndex(o,-1),u=rc(this._lContainer,l);u&&(Xc(bb(this._lContainer),l),cm(u[1],u))}detach(o){const l=this._adjustIndex(o,-1),u=rc(this._lContainer,l);return u&&null!=Xc(bb(this._lContainer),l)?new Up(u):null}_adjustIndex(o,l=0){return null==o?this.length+l:o}};function fC(s){return s[8]}function bb(s){return s[8]||(s[8]=[])}function w_(s,o){let l;const u=o[s.index];if(Yi(u))l=u;else{let h;if(8&s.type)h=on(u);else{const m=o[11];h=m.createComment("");const v=mr(s,o);sc(m,dm(m,v),h,function lI(s,o){return gn(s)?s.nextSibling(o):o.nextSibling}(m,v),!1)}o[s.index]=l=EE(u,o,h,s),Jd(o,l)}return new vb(l,s,o)}class Hu{constructor(o){this.queryList=o,this.matches=null}clone(){return new Hu(this.queryList)}setDirty(){this.queryList.setDirty()}}class Fh{constructor(o=[]){this.queries=o}createEmbeddedView(o){const l=o.queries;if(null!==l){const u=null!==o.contentQueries?o.contentQueries[0]:l.length,h=[];for(let m=0;m<u;m++){const v=l.getByIndex(m);h.push(this.queries[v.indexInDeclarationView].clone())}return new Fh(h)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let l=0;l<this.queries.length;l++)null!==_C(o,l).matches&&this.queries[l].setDirty()}}class Lh{constructor(o,l,u=null){this.predicate=o,this.flags=l,this.read=u}}class D_{constructor(o=[]){this.queries=o}elementStart(o,l){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(o,l)}elementEnd(o){for(let l=0;l<this.queries.length;l++)this.queries[l].elementEnd(o)}embeddedTView(o){let l=null;for(let u=0;u<this.length;u++){const h=null!==l?l.length:0,m=this.getByIndex(u).embeddedTView(o,h);m&&(m.indexInDeclarationView=u,null!==l?l.push(m):l=[m])}return null!==l?new D_(l):null}template(o,l){for(let u=0;u<this.queries.length;u++)this.queries[u].template(o,l)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class I_{constructor(o,l=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=l}elementStart(o,l){this.isApplyingToNode(l)&&this.matchTNode(o,l)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,l){this.elementStart(o,l)}embeddedTView(o,l){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,l),new I_(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const l=this._declarationNodeIndex;let u=o.parent;for(;null!==u&&8&u.type&&u.index!==l;)u=u.parent;return l===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(o,l){const u=this.metadata.predicate;if(Array.isArray(u))for(let h=0;h<u.length;h++){const m=u[h];this.matchTNodeWithReadOption(o,l,ds(l,m)),this.matchTNodeWithReadOption(o,l,Xa(l,o,m,!1,!1))}else u===zp?4&l.type&&this.matchTNodeWithReadOption(o,l,-1):this.matchTNodeWithReadOption(o,l,Xa(l,o,u,!1,!1))}matchTNodeWithReadOption(o,l,u){if(null!==u){const h=this.metadata.read;if(null!==h)if(h===xh||h===xc||h===zp&&4&l.type)this.addMatch(l.index,-2);else{const m=Xa(l,o,h,!1,!1);null!==m&&this.addMatch(l.index,m)}else this.addMatch(l.index,u)}}addMatch(o,l){null===this.matches?this.matches=[o,l]:this.matches.push(o,l)}}function ds(s,o){const l=s.localNames;if(null!==l)for(let u=0;u<l.length;u+=2)if(l[u]===o)return l[u+1];return null}function T_(s,o,l,u){return-1===l?function pC(s,o){return 11&s.type?Ic(s,o):4&s.type?E_(s,o):null}(o,s):-2===l?function S_(s,o,l){return l===xh?Ic(o,s):l===zp?E_(o,s):l===xc?w_(o,s):void 0}(s,o,u):bi(s,s[1],l,o)}function Eb(s,o,l,u){const h=o[19].queries[u];if(null===h.matches){const m=s.data,v=l.matches,w=[];for(let D=0;D<v.length;D+=2){const M=v[D];w.push(M<0?null:T_(o,m[M],v[D+1],l.metadata.read))}h.matches=w}return h.matches}function Pa(s,o,l,u){const h=s.queries.getByIndex(l),m=h.matches;if(null!==m){const v=Eb(s,o,h,l);for(let w=0;w<m.length;w+=2){const D=m[w];if(D>0)u.push(v[w/2]);else{const M=m[w+1],k=o[-D];for(let L=10;L<k.length;L++){const z=k[L];z[17]===z[3]&&Pa(z[1],z,M,u)}if(null!==k[9]){const L=k[9];for(let z=0;z<L.length;z++){const X=L[z];Pa(X[1],X,M,u)}}}}}return u}function $u(s){const o=xe(),l=qt(),u=Fl();dd(u+1);const h=_C(l,u);if(s.dirty&&Eo(o)===(2==(2&h.metadata.flags))){if(null===h.matches)s.reset([]);else{const m=h.crossesNgTemplate?Pa(l,o,u,[]):Eb(l,o,h,u);s.reset(m,rT),s.notifyOnChanges()}return!0}return!1}function wb(s,o,l){const u=qt();u.firstCreatePass&&(gl(u,new Lh(s,o,l),-1),2==(2&o)&&(u.staticViewQueries=!0)),Cb(u,xe(),o)}function Rc(s,o,l,u){const h=qt();if(h.firstCreatePass){const m=Dn();gl(h,new Lh(o,l,u),m.index),function mC(s,o){const l=s.contentQueries||(s.contentQueries=[]);o!==(l.length?l[l.length-1]:-1)&&l.push(s.queries.length-1,o)}(h,s),2==(2&l)&&(h.staticContentQueries=!0)}Cb(h,xe(),l)}function gC(){return function Vh(s,o){return s[19].queries[o].queryList}(xe(),Fl())}function Cb(s,o,l){const u=new pl(4==(4&l));Yy(s,o,u,u.destroy),null===o[19]&&(o[19]=new Fh),o[19].queries.push(new Hu(u))}function gl(s,o,l){null===s.queries&&(s.queries=new D_),s.queries.track(new I_(o,l))}function _C(s,o){return s.queries.getByIndex(o)}function yC(s,o){return E_(s,o)}function Kp(...s){}const P_=new Rn("Application Initializer");let zh=(()=>{class s{constructor(l){this.appInits=l,this.resolve=Kp,this.reject=Kp,this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,h)=>{this.resolve=u,this.reject=h})}runInitializers(){if(this.initialized)return;const l=[],u=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const m=this.appInits[h]();if(Tt(m))l.push(m);else if(We(m)){const v=new Promise((w,D)=>{m.subscribe({complete:w,error:D})});l.push(v)}}Promise.all(l).then(()=>{u()}).catch(h=>{this.reject(h)}),0===l.length&&u(),this.initialized=!0}}return s.\u0275fac=function(l){return new(l||s)(R(P_,8))},s.\u0275prov=tn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const qh=new Rn("AppId",{providedIn:"root",factory:function Yp(){return`${Qp()}${Qp()}${Qp()}`}});function Qp(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const N_=new Rn("Platform Initializer"),RC=new Rn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),kC=new Rn("appBootstrapListener");let ST=(()=>{class s{log(l){console.log(l)}warn(l){console.warn(l)}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=tn({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const Lb=new Rn("LocaleId",{providedIn:"root",factory:()=>Q(Lb,wt.Optional|wt.SkipSelf)||function AT(){return"undefined"!=typeof $localize&&$localize.locale||qo}()}),OC=new Rn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class NC{constructor(o,l){this.ngModuleFactory=o,this.componentFactories=l}}let MT=(()=>{class s{compileModuleSync(l){return new y_(l)}compileModuleAsync(l){return Promise.resolve(this.compileModuleSync(l))}compileModuleAndAllComponentsSync(l){const u=this.compileModuleSync(l),m=xs(At(l).declarations).reduce((v,w)=>{const D=nn(w);return D&&v.push(new db(D)),v},[]);return new NC(u,m)}compileModuleAndAllComponentsAsync(l){return Promise.resolve(this.compileModuleAndAllComponentsSync(l))}clearCache(){}clearCacheFor(l){}getModuleId(l){}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=tn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const RT=(()=>Promise.resolve(0))();function Xp(s){"undefined"==typeof Zone?RT.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class Ko{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:l=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ns(!1),this.onMicrotaskEmpty=new Ns(!1),this.onStable=new Ns(!1),this.onError=new Ns(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!u&&l,h.shouldCoalesceRunChangeDetection=u,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function kT(){let s=Zt.requestAnimationFrame,o=Zt.cancelAnimationFrame;if("undefined"!=typeof Zone&&s&&o){const l=s[Zone.__symbol__("OriginalDelegate")];l&&(s=l);const u=o[Zone.__symbol__("OriginalDelegate")];u&&(o=u)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function Bb(s){const o=()=>{!function Wh(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(Zt,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,Zh(s),s.isCheckStableRunning=!0,eg(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),Zh(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(l,u,h,m,v,w)=>{try{return Kh(s),l.invokeTask(h,m,v,w)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===m.type||s.shouldCoalesceRunChangeDetection)&&o(),L_(s)}},onInvoke:(l,u,h,m,v,w,D)=>{try{return Kh(s),l.invoke(h,m,v,w,D)}finally{s.shouldCoalesceRunChangeDetection&&o(),L_(s)}},onHasTask:(l,u,h,m)=>{l.hasTask(h,m),u===h&&("microTask"==m.change?(s._hasPendingMicrotasks=m.microTask,Zh(s),eg(s)):"macroTask"==m.change&&(s.hasPendingMacrotasks=m.macroTask))},onHandleError:(l,u,h,m)=>(l.handleError(h,m),s.runOutsideAngular(()=>s.onError.emit(m)),!1)})}(h)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ko.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Ko.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(o,l,u){return this._inner.run(o,l,u)}runTask(o,l,u,h){const m=this._inner,v=m.scheduleEventTask("NgZoneEvent: "+h,o,Jp,Kp,Kp);try{return m.runTask(v,l,u)}finally{m.cancelTask(v)}}runGuarded(o,l,u){return this._inner.runGuarded(o,l,u)}runOutsideAngular(o){return this._outer.run(o)}}const Jp={};function eg(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function Zh(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function Kh(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function L_(s){s._nesting--,eg(s)}class FC{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ns,this.onMicrotaskEmpty=new Ns,this.onStable=new Ns,this.onError=new Ns}run(o,l,u){return o.apply(l,u)}runGuarded(o,l,u){return o.apply(l,u)}runOutsideAngular(o){return o()}runTask(o,l,u,h){return o.apply(l,u)}}let V_=(()=>{class s{constructor(l){this._ngZone=l,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),l.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ko.assertNotInAngularZone(),Xp(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Xp(()=>{for(;0!==this._callbacks.length;){let l=this._callbacks.pop();clearTimeout(l.timeoutId),l.doneCb(this._didWork)}this._didWork=!1});else{let l=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(l)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(l=>({source:l.source,creationLocation:l.creationLocation,data:l.data})):[]}addCallback(l,u,h){let m=-1;u&&u>0&&(m=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==m),l(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:l,timeoutId:m,updateCb:h})}whenStable(l,u,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(l,u,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(l,u,h){return[]}}return s.\u0275fac=function(l){return new(l||s)(R(Ko))},s.\u0275prov=tn({token:s,factory:s.\u0275fac}),s})(),Ub=(()=>{class s{constructor(){this._applications=new Map,jb.addToWindow(this)}registerApplication(l,u){this._applications.set(l,u)}unregisterApplication(l){this._applications.delete(l)}unregisterAllApplications(){this._applications.clear()}getTestability(l){return this._applications.get(l)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(l,u=!0){return jb.findTestabilityInTree(this,l,u)}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=tn({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();class ml{addToWindow(o){}findTestabilityInTree(o,l,u){return null}}function LC(s){jb=s}let jb=new ml,_l=null;const VC=new Rn("AllowMultipleToken"),B_=new Rn("PlatformOnDestroy");class Hb{constructor(o,l){this.name=o,this.token=l}}function zu(s,o,l=[]){const u=`Platform: ${o}`,h=new Rn(u);return(m=[])=>{let v=j_();if(!v||v.injector.get(VC,!1)){const w=[...l,...m,{provide:h,useValue:!0}];s?s(w):function UC(s){if(_l&&!_l.get(VC,!1))throw new Ne(400,"");_l=s;const o=s.get(Gb),l=s.get(N_,null);l&&l.forEach(u=>u())}(function PT(s=[],o){return Ho.create({name:o,providers:[{provide:Sm,useValue:"platform"},{provide:B_,useValue:()=>_l=null},...s]})}(w,u))}return function $b(s){const o=j_();if(!o)throw new Ne(401,"");return o}()}}function j_(){var s;return null!==(s=null==_l?void 0:_l.get(Gb))&&void 0!==s?s:null}let Gb=(()=>{class s{constructor(l){this._injector=l,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(l,u){const w=function NT(s,o){let l;return l="noop"===s?new FC:("zone.js"===s?void 0:s)||new Ko({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==o?void 0:o.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==o?void 0:o.ngZoneRunCoalescing)}),l}(u?u.ngZone:void 0,{ngZoneEventCoalescing:u&&u.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:u&&u.ngZoneRunCoalescing||!1}),D=[{provide:Ko,useValue:w}];return w.run(()=>{const M=Ho.create({providers:D,parent:this.injector,name:l.moduleType.name}),k=l.create(M),L=k.injector.get(Ms,null);if(!L)throw new Ne(402,"");return w.runOutsideAngular(()=>{const z=w.onError.subscribe({next:X=>{L.handleError(X)}});k.onDestroy(()=>{qb(this._modules,k),z.unsubscribe()})}),function zb(s,o,l){try{const u=l();return Tt(u)?u.catch(h=>{throw o.runOutsideAngular(()=>s.handleError(h)),h}):u}catch(u){throw o.runOutsideAngular(()=>s.handleError(u)),u}}(L,w,()=>{const z=k.injector.get(zh);return z.runInitializers(),z.donePromise.then(()=>(function Ch(s){jt(s,"Expected localeId to be defined"),"string"==typeof s&&(qv=s.toLowerCase().replace(/_/g,"-"))}(k.injector.get(Lb,qo)||qo),this._moduleDoBootstrap(k),k))})})}bootstrapModule(l,u=[]){const h=jC({},u);return function OT(s,o,l){const u=new y_(l);return Promise.resolve(u)}(0,0,l).then(m=>this.bootstrapModuleFactory(m,h))}_moduleDoBootstrap(l){const u=l.injector.get(tg);if(l._bootstrapComponents.length>0)l._bootstrapComponents.forEach(h=>u.bootstrap(h));else{if(!l.instance.ngDoBootstrap)throw new Ne(403,"");l.instance.ngDoBootstrap(u)}this._modules.push(l)}onDestroy(l){this._destroyListeners.push(l)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ne(404,"");this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u());const l=this._injector.get(B_,null);null==l||l(),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(l){return new(l||s)(R(Ho))},s.\u0275prov=tn({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();function jC(s,o){return Array.isArray(o)?o.reduce(jC,s):Object.assign(Object.assign({},s),o)}let tg=(()=>{class s{constructor(l,u,h,m){this._zone=l,this._injector=u,this._exceptionHandler=h,this._initStatus=m,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const v=new N.y(D=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{D.next(this._stable),D.complete()})}),w=new N.y(D=>{let M;this._zone.runOutsideAngular(()=>{M=this._zone.onStable.subscribe(()=>{Ko.assertNotInAngularZone(),Xp(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,D.next(!0))})})});const k=this._zone.onUnstable.subscribe(()=>{Ko.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{D.next(!1)}))});return()=>{M.unsubscribe(),k.unsubscribe()}});this.isStable=(0,ce.T)(v,w.pipe((0,oe.B)()))}bootstrap(l,u){if(!this._initStatus.done)throw new Ne(405,"");let h;h=l instanceof lb?l:this._injector.get(g_).resolveComponentFactory(l),this.componentTypes.push(h.componentType);const m=function U_(s){return s.isBoundToModule}(h)?void 0:this._injector.get(Oh),w=h.create(Ho.NULL,[],u||h.selector,m),D=w.location.nativeElement,M=w.injector.get(V_,null),k=M&&w.injector.get(Ub);return M&&k&&k.registerApplication(D,M),w.onDestroy(()=>{this.detachView(w.hostView),qb(this.components,w),k&&k.unregisterApplication(D)}),this._loadComponent(w),w}tick(){if(this._runningTick)throw new Ne(101,"");try{this._runningTick=!0;for(let l of this._views)l.detectChanges()}catch(l){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(l))}finally{this._runningTick=!1}}attachView(l){const u=l;this._views.push(u),u.attachToAppRef(this)}detachView(l){const u=l;qb(this._views,u),u.detachFromAppRef()}_loadComponent(l){this.attachView(l.hostView),this.tick(),this.components.push(l),this._injector.get(kC,[]).concat(this._bootstrapListeners).forEach(h=>h(l))}ngOnDestroy(){this._views.slice().forEach(l=>l.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return s.\u0275fac=function(l){return new(l||s)(R(Ko),R(Ho),R(Ms),R(zh))},s.\u0275prov=tn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function qb(s,o){const l=s.indexOf(o);l>-1&&s.splice(l,1)}let $_=!0,Wb=!1;function Zb(){return Wb=!0,$_}function Kb(){if(Wb)throw new Error("Cannot enable prod mode after platform setup.");$_=!1}let Yb=(()=>{class s{}return s.__NG_ELEMENT_ID__=Yh,s})();function Yh(s){return function Qh(s,o,l){if(Ju(s)&&!l){const u=_r(s.index,o);return new Up(u,u)}return 47&s.type?new Up(o[16],o):null}(Dn(),xe(),16==(16&s))}class zC{constructor(){}supports(o){return al(o)}create(o){return new t0(o)}}const e0=(s,o)=>o;class t0{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||e0}forEachItem(o){let l;for(l=this._itHead;null!==l;l=l._next)o(l)}forEachOperation(o){let l=this._itHead,u=this._removalsHead,h=0,m=null;for(;l||u;){const v=!u||l&&l.currentIndex<qC(u,h,m)?l:u,w=qC(v,h,m),D=v.currentIndex;if(v===u)h--,u=u._nextRemoved;else if(l=l._next,null==v.previousIndex)h++;else{m||(m=[]);const M=w-h,k=D-h;if(M!=k){for(let z=0;z<M;z++){const X=z<m.length?m[z]:m[z]=0,ve=X+z;k<=ve&&ve<M&&(m[z]=X+1)}m[v.previousIndex]=k-M}}w!==D&&o(v,w,D)}}forEachPreviousItem(o){let l;for(l=this._previousItHead;null!==l;l=l._nextPrevious)o(l)}forEachAddedItem(o){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)o(l)}forEachMovedItem(o){let l;for(l=this._movesHead;null!==l;l=l._nextMoved)o(l)}forEachRemovedItem(o){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)o(l)}forEachIdentityChange(o){let l;for(l=this._identityChangesHead;null!==l;l=l._nextIdentityChange)o(l)}diff(o){if(null==o&&(o=[]),!al(o))throw new Ne(900,"");return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let h,m,v,l=this._itHead,u=!1;if(Array.isArray(o)){this.length=o.length;for(let w=0;w<this.length;w++)m=o[w],v=this._trackByFn(w,m),null!==l&&Object.is(l.trackById,v)?(u&&(l=this._verifyReinsertion(l,m,v,w)),Object.is(l.item,m)||this._addIdentityChange(l,m)):(l=this._mismatch(l,m,v,w),u=!0),l=l._next}else h=0,function VE(s,o){if(Array.isArray(s))for(let l=0;l<s.length;l++)o(s[l]);else{const l=s[ch()]();let u;for(;!(u=l.next()).done;)o(u.value)}}(o,w=>{v=this._trackByFn(h,w),null!==l&&Object.is(l.trackById,v)?(u&&(l=this._verifyReinsertion(l,w,v,h)),Object.is(l.item,w)||this._addIdentityChange(l,w)):(l=this._mismatch(l,w,v,h),u=!0),l=l._next,h++}),this.length=h;return this._truncate(l),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,l,u,h){let m;return null===o?m=this._itTail:(m=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(o.item,l)||this._addIdentityChange(o,l),this._reinsertAfter(o,m,h)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(u,h))?(Object.is(o.item,l)||this._addIdentityChange(o,l),this._moveAfter(o,m,h)):o=this._addAfter(new n0(l,u),m,h),o}_verifyReinsertion(o,l,u,h){let m=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==m?o=this._reinsertAfter(m,o._prev,h):o.currentIndex!=h&&(o.currentIndex=h,this._addToMoves(o,h)),o}_truncate(o){for(;null!==o;){const l=o._next;this._addToRemovals(this._unlink(o)),o=l}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,l,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const h=o._prevRemoved,m=o._nextRemoved;return null===h?this._removalsHead=m:h._nextRemoved=m,null===m?this._removalsTail=h:m._prevRemoved=h,this._insertAfter(o,l,u),this._addToMoves(o,u),o}_moveAfter(o,l,u){return this._unlink(o),this._insertAfter(o,l,u),this._addToMoves(o,u),o}_addAfter(o,l,u){return this._insertAfter(o,l,u),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,l,u){const h=null===l?this._itHead:l._next;return o._next=h,o._prev=l,null===h?this._itTail=o:h._prev=o,null===l?this._itHead=o:l._next=o,null===this._linkedRecords&&(this._linkedRecords=new Z_),this._linkedRecords.put(o),o.currentIndex=u,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const l=o._prev,u=o._next;return null===l?this._itHead=u:l._next=u,null===u?this._itTail=l:u._prev=l,o}_addToMoves(o,l){return o.previousIndex===l||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Z_),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,l){return o.item=l,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class n0{constructor(o,l){this.item=o,this.trackById=l,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class jT{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,l){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===l||l<=u.currentIndex)&&Object.is(u.trackById,o))return u;return null}remove(o){const l=o._prevDup,u=o._nextDup;return null===l?this._head=u:l._nextDup=u,null===u?this._tail=l:u._prevDup=l,null===this._head}}class Z_{constructor(){this.map=new Map}put(o){const l=o.trackById;let u=this.map.get(l);u||(u=new jT,this.map.set(l,u)),u.add(o)}get(o,l){const h=this.map.get(o);return h?h.get(o,l):null}remove(o){const l=o.trackById;return this.map.get(l).remove(o)&&this.map.delete(l),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function qC(s,o,l){const u=s.previousIndex;if(null===u)return u;let h=0;return l&&u<l.length&&(h=l[u]),u+o+h}class K_{constructor(){}supports(o){return o instanceof Map||Vm(o)}create(){return new WC}}class WC{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let l;for(l=this._mapHead;null!==l;l=l._next)o(l)}forEachPreviousItem(o){let l;for(l=this._previousMapHead;null!==l;l=l._nextPrevious)o(l)}forEachChangedItem(o){let l;for(l=this._changesHead;null!==l;l=l._nextChanged)o(l)}forEachAddedItem(o){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)o(l)}forEachRemovedItem(o){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)o(l)}diff(o){if(o){if(!(o instanceof Map||Vm(o)))throw new Ne(900,"")}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let l=this._mapHead;if(this._appendAfter=null,this._forEach(o,(u,h)=>{if(l&&l.key===h)this._maybeAddToChanges(l,u),this._appendAfter=l,l=l._next;else{const m=this._getOrCreateRecordForKey(h,u);l=this._insertBeforeOrAppend(l,m)}}),l){l._prev&&(l._prev._next=null),this._removalsHead=l;for(let u=l;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,l){if(o){const u=o._prev;return l._next=o,l._prev=u,o._prev=l,u&&(u._next=l),o===this._mapHead&&(this._mapHead=l),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=l,l._prev=this._appendAfter):this._mapHead=l,this._appendAfter=l,null}_getOrCreateRecordForKey(o,l){if(this._records.has(o)){const h=this._records.get(o);this._maybeAddToChanges(h,l);const m=h._prev,v=h._next;return m&&(m._next=v),v&&(v._prev=m),h._next=null,h._prev=null,h}const u=new r0(o);return this._records.set(o,u),u.currentValue=l,this._addToAdditions(u),u}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,l){Object.is(l,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=l,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,l){o instanceof Map?o.forEach(l):Object.keys(o).forEach(u=>l(o[u],u))}}class r0{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function s0(){return new o0([new zC])}let o0=(()=>{class s{constructor(l){this.factories=l}static create(l,u){if(null!=u){const h=u.factories.slice();l=l.concat(h)}return new s(l)}static extend(l){return{provide:s,useFactory:u=>s.create(l,u||s0()),deps:[[s,new Zn,new at]]}}find(l){const u=this.factories.find(h=>h.supports(l));if(null!=u)return u;throw new Ne(901,"")}}return s.\u0275prov=tn({token:s,providedIn:"root",factory:s0}),s})();function KC(){return new sg([new K_])}let sg=(()=>{class s{constructor(l){this.factories=l}static create(l,u){if(u){const h=u.factories.slice();l=l.concat(h)}return new s(l)}static extend(l){return{provide:s,useFactory:u=>s.create(l,u||KC()),deps:[[s,new Zn,new at]]}}find(l){const u=this.factories.find(m=>m.supports(l));if(u)return u;throw new Ne(901,"")}}return s.\u0275prov=tn({token:s,providedIn:"root",factory:KC}),s})();const l0=zu(null,"core",[]);let c0=(()=>{class s{constructor(l){}}return s.\u0275fac=function(l){return new(l||s)(R(tg))},s.\u0275mod=we({type:s}),s.\u0275inj=Qt({}),s})()},3942:(tt,be,P)=>{P.d(be,{Z:()=>Ne});var d=P(2090),J=P(4859),N=P(9681),ce=P(1877);class oe{constructor(ge,De){this._delegate=ge,this.firebase=De,(0,N._addComponent)(ge,new J.wA("app-compat",()=>this,"PUBLIC")),this.container=ge.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ge){this._delegate.automaticDataCollectionEnabled=ge}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ge=>{this._delegate.checkDestroyed(),ge()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,N.deleteApp)(this._delegate)))}_getService(ge,De=N._DEFAULT_ENTRY_NAME){var Ze;this._delegate.checkDestroyed();const Xe=this._delegate.container.getProvider(ge);return!Xe.isInitialized()&&"EXPLICIT"===(null===(Ze=Xe.getComponent())||void 0===Ze?void 0:Ze.instantiationMode)&&Xe.initialize(),Xe.getImmediate({identifier:De})}_removeServiceInstance(ge,De=N._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ge).clearInstance(De)}_addComponent(ge){(0,N._addComponent)(this._delegate,ge)}_addOrOverwriteComponent(ge){(0,N._addOrOverwriteComponent)(this._delegate,ge)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const se=new d.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),G=function pe(){const je=function ue(je){const ge={},De={__esModule:!0,initializeApp:function ke(He,q={}){const Ee=N.initializeApp(He,q);if((0,d.r3)(ge,Ee.name))return ge[Ee.name];const K=new je(Ee,De);return ge[Ee.name]=K,K},app:Xe,registerVersion:N.registerVersion,setLogLevel:N.setLogLevel,onLog:N.onLog,apps:null,SDK_VERSION:N.SDK_VERSION,INTERNAL:{registerComponent:function Ie(He){const q=He.name,Ee=q.replace("-compat","");if(N._registerComponent(He)&&"PUBLIC"===He.type){const K=(ne=Xe())=>{if("function"!=typeof ne[Ee])throw se.create("invalid-app-argument",{appName:q});return ne[Ee]()};void 0!==He.serviceProps&&(0,d.ZB)(K,He.serviceProps),De[Ee]=K,je.prototype[Ee]=function(...ne){return this._getService.bind(this,q).apply(this,He.multipleInstances?ne:[])}}return"PUBLIC"===He.type?De[Ee]:null},removeApp:function Ze(He){delete ge[He]},useAsService:function Ue(He,q){return"serverAuth"===q?null:q},modularAPIs:N}};function Xe(He){if(!(0,d.r3)(ge,He=He||N._DEFAULT_ENTRY_NAME))throw se.create("no-app",{appName:He});return ge[He]}return De.default=De,Object.defineProperty(De,"apps",{get:function ye(){return Object.keys(ge).map(He=>ge[He])}}),Xe.App=je,De}(oe);return je.INTERNAL=Object.assign(Object.assign({},je.INTERNAL),{createFirebaseNamespace:pe,extendNamespace:function ge(De){(0,d.ZB)(je,De)},createSubscribe:d.ne,ErrorFactory:d.LL,deepExtend:d.ZB}),je}(),H=new ce.Yd("@firebase/app-compat");if((0,d.jU)()&&void 0!==self.firebase){H.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const je=self.firebase.SDK_VERSION;je&&je.indexOf("LITE")>=0&&H.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ne=G;!function Me(je){(0,N.registerVersion)("@firebase/app-compat","0.1.37",je)}()},9681:(tt,be,P)=>{P.r(be),P.d(be,{FirebaseError:()=>ce.ZR,SDK_VERSION:()=>ps,_DEFAULT_ENTRY_NAME:()=>jt,_addComponent:()=>dn,_addOrOverwriteComponent:()=>tn,_apps:()=>sn,_clearComponents:()=>si,_components:()=>bn,_getProvider:()=>Qt,_registerComponent:()=>Or,_removeServiceInstance:()=>Wt,deleteApp:()=>wt,getApp:()=>gi,getApps:()=>xi,initializeApp:()=>gs,onLog:()=>lr,registerVersion:()=>Mn,setLogLevel:()=>Hs});var d=P(5861),J=P(4859),N=P(1877),ce=P(2090),oe=P(8766);class me{constructor(Se){this.container=Se}getPlatformInfoString(){return this.container.getProviders().map(Ke=>{if(function se(et){const Se=et.getComponent();return"VERSION"===(null==Se?void 0:Se.type)}(Ke)){const kt=Ke.getImmediate();return`${kt.library}/${kt.version}`}return null}).filter(Ke=>Ke).join(" ")}}const ue="@firebase/app",G=new N.Yd("@firebase/app"),jt="[DEFAULT]",Je={[ue]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},sn=new Map,bn=new Map;function dn(et,Se){try{et.container.addComponent(Se)}catch(Ke){G.debug(`Component ${Se.name} failed to register with FirebaseApp ${et.name}`,Ke)}}function tn(et,Se){et.container.addOrOverwriteComponent(Se)}function Or(et){const Se=et.name;if(bn.has(Se))return G.debug(`There were multiple attempts to register component ${Se}.`),!1;bn.set(Se,et);for(const Ke of sn.values())dn(Ke,et);return!0}function Qt(et,Se){const Ke=et.container.getProvider("heartbeat").getImmediate({optional:!0});return Ke&&Ke.triggerHeartbeat(),et.container.getProvider(Se)}function Wt(et,Se,Ke=jt){Qt(et,Se).clearInstance(Ke)}function si(){bn.clear()}const Pr=new ce.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class oi{constructor(Se,Ke,kt){this._isDeleted=!1,this._options=Object.assign({},Se),this._config=Object.assign({},Ke),this._name=Ke.name,this._automaticDataCollectionEnabled=Ke.automaticDataCollectionEnabled,this._container=kt,this.container.addComponent(new J.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Se){this.checkDestroyed(),this._automaticDataCollectionEnabled=Se}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Se){this._isDeleted=Se}checkDestroyed(){if(this.isDeleted)throw Pr.create("app-deleted",{appName:this._name})}}const ps="9.12.1";function gs(et,Se={}){let Ke=et;"object"!=typeof Se&&(Se={name:Se});const kt=Object.assign({name:jt,automaticDataCollectionEnabled:!1},Se),Ct=kt.name;if("string"!=typeof Ct||!Ct)throw Pr.create("bad-app-name",{appName:String(Ct)});if(Ke||(Ke=(0,ce.aH)()),!Ke)throw Pr.create("no-options");const Gt=sn.get(Ct);if(Gt){if((0,ce.vZ)(Ke,Gt.options)&&(0,ce.vZ)(kt,Gt.config))return Gt;throw Pr.create("duplicate-app",{appName:Ct})}const $=new J.H0(Ct);for(const Y of bn.values())$.addComponent(Y);const U=new oi(Ke,kt,$);return sn.set(Ct,U),U}function gi(et=jt){const Se=sn.get(et);if(!Se&&et===jt)return gs();if(!Se)throw Pr.create("no-app",{appName:et});return Se}function xi(){return Array.from(sn.values())}function wt(et){return Nr.apply(this,arguments)}function Nr(){return(Nr=(0,d.Z)(function*(et){const Se=et.name;sn.has(Se)&&(sn.delete(Se),yield Promise.all(et.container.getProviders().map(Ke=>Ke.delete())),et.isDeleted=!0)})).apply(this,arguments)}function Mn(et,Se,Ke){var kt;let Ct=null!==(kt=Je[et])&&void 0!==kt?kt:et;Ke&&(Ct+=`-${Ke}`);const Gt=Ct.match(/\s|\//),$=Se.match(/\s|\//);if(Gt||$){const U=[`Unable to register library "${Ct}" with version "${Se}":`];return Gt&&U.push(`library name "${Ct}" contains illegal characters (whitespace or "/")`),Gt&&$&&U.push("and"),$&&U.push(`version name "${Se}" contains illegal characters (whitespace or "/")`),void G.warn(U.join(" "))}Or(new J.wA(`${Ct}-version`,()=>({library:Ct,version:Se}),"VERSION"))}function lr(et,Se){if(null!==et&&"function"!=typeof et)throw Pr.create("invalid-log-argument");(0,N.Am)(et,Se)}function Hs(et){(0,N.Ub)(et)}const $n="firebase-heartbeat-store";let mi=null;function fo(){return mi||(mi=(0,oe.X3)("firebase-heartbeat-database",1,{upgrade:(et,Se)=>{0===Se&&et.createObjectStore($n)}}).catch(et=>{throw Pr.create("idb-open",{originalErrorMessage:et.message})})),mi}function ct(){return(ct=(0,d.Z)(function*(et){var Se;try{return(yield fo()).transaction($n).objectStore($n).get(Lr(et))}catch(Ke){if(Ke instanceof ce.ZR)G.warn(Ke.message);else{const kt=Pr.create("idb-get",{originalErrorMessage:null===(Se=Ke)||void 0===Se?void 0:Se.message});G.warn(kt.message)}}})).apply(this,arguments)}function bt(et,Se){return Fr.apply(this,arguments)}function Fr(){return(Fr=(0,d.Z)(function*(et,Se){var Ke;try{const Ct=(yield fo()).transaction($n,"readwrite");return yield Ct.objectStore($n).put(Se,Lr(et)),Ct.done}catch(kt){if(kt instanceof ce.ZR)G.warn(kt.message);else{const Ct=Pr.create("idb-set",{originalErrorMessage:null===(Ke=kt)||void 0===Ke?void 0:Ke.message});G.warn(Ct.message)}}})).apply(this,arguments)}function Lr(et){return`${et.name}!${et.options.appId}`}class Vr{constructor(Se){this.container=Se,this._heartbeatsCache=null;const Ke=this.container.getProvider("app").getImmediate();this._storage=new go(Ke),this._heartbeatsCachePromise=this._storage.read().then(kt=>(this._heartbeatsCache=kt,kt))}triggerHeartbeat(){var Se=this;return(0,d.Z)(function*(){const kt=Se.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Ct=Br();if(null===Se._heartbeatsCache&&(Se._heartbeatsCache=yield Se._heartbeatsCachePromise),Se._heartbeatsCache.lastSentHeartbeatDate!==Ct&&!Se._heartbeatsCache.heartbeats.some(Gt=>Gt.date===Ct))return Se._heartbeatsCache.heartbeats.push({date:Ct,agent:kt}),Se._heartbeatsCache.heartbeats=Se._heartbeatsCache.heartbeats.filter(Gt=>{const $=new Date(Gt.date).valueOf();return Date.now()-$<=2592e6}),Se._storage.overwrite(Se._heartbeatsCache)})()}getHeartbeatsHeader(){var Se=this;return(0,d.Z)(function*(){if(null===Se._heartbeatsCache&&(yield Se._heartbeatsCachePromise),null===Se._heartbeatsCache||0===Se._heartbeatsCache.heartbeats.length)return"";const Ke=Br(),{heartbeatsToSend:kt,unsentEntries:Ct}=function _t(et,Se=1024){const Ke=[];let kt=et.slice();for(const Ct of et){const Gt=Ke.find($=>$.agent===Ct.agent);if(Gt){if(Gt.dates.push(Ct.date),$t(Ke)>Se){Gt.dates.pop();break}}else if(Ke.push({agent:Ct.agent,dates:[Ct.date]}),$t(Ke)>Se){Ke.pop();break}kt=kt.slice(1)}return{heartbeatsToSend:Ke,unsentEntries:kt}}(Se._heartbeatsCache.heartbeats),Gt=(0,ce.L)(JSON.stringify({version:2,heartbeats:kt}));return Se._heartbeatsCache.lastSentHeartbeatDate=Ke,Ct.length>0?(Se._heartbeatsCache.heartbeats=Ct,yield Se._storage.overwrite(Se._heartbeatsCache)):(Se._heartbeatsCache.heartbeats=[],Se._storage.overwrite(Se._heartbeatsCache)),Gt})()}}function Br(){return(new Date).toISOString().substring(0,10)}class go{constructor(Se){this.app=Se,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,d.Z)(function*(){return!!(0,ce.hl)()&&(0,ce.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Se=this;return(0,d.Z)(function*(){return(yield Se._canUseIndexedDBPromise)&&(yield function Xt(et){return ct.apply(this,arguments)}(Se.app))||{heartbeats:[]}})()}overwrite(Se){var Ke=this;return(0,d.Z)(function*(){var kt;if(yield Ke._canUseIndexedDBPromise){const Gt=yield Ke.read();return bt(Ke.app,{lastSentHeartbeatDate:null!==(kt=Se.lastSentHeartbeatDate)&&void 0!==kt?kt:Gt.lastSentHeartbeatDate,heartbeats:Se.heartbeats})}})()}add(Se){var Ke=this;return(0,d.Z)(function*(){var kt;if(yield Ke._canUseIndexedDBPromise){const Gt=yield Ke.read();return bt(Ke.app,{lastSentHeartbeatDate:null!==(kt=Se.lastSentHeartbeatDate)&&void 0!==kt?kt:Gt.lastSentHeartbeatDate,heartbeats:[...Gt.heartbeats,...Se.heartbeats]})}})()}}function $t(et){return(0,ce.L)(JSON.stringify({version:2,heartbeats:et})).length}!function ms(et){Or(new J.wA("platform-logger",Se=>new me(Se),"PRIVATE")),Or(new J.wA("heartbeat",Se=>new Vr(Se),"PRIVATE")),Mn(ue,"0.8.2",et),Mn(ue,"0.8.2","esm2017"),Mn("fire-js","")}("")},4859:(tt,be,P)=>{P.d(be,{H0:()=>ue,wA:()=>N});var d=P(5861),J=P(2090);class N{constructor(G,H,te){this.name=G,this.instanceFactory=H,this.type=te,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(G){return this.instantiationMode=G,this}setMultipleInstances(G){return this.multipleInstances=G,this}setServiceProps(G){return this.serviceProps=G,this}setInstanceCreatedCallback(G){return this.onInstanceCreated=G,this}}const ce="[DEFAULT]";class oe{constructor(G,H){this.name=G,this.container=H,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(G){const H=this.normalizeInstanceIdentifier(G);if(!this.instancesDeferred.has(H)){const te=new J.BH;if(this.instancesDeferred.set(H,te),this.isInitialized(H)||this.shouldAutoInitialize())try{const Be=this.getOrInitializeService({instanceIdentifier:H});Be&&te.resolve(Be)}catch(Be){}}return this.instancesDeferred.get(H).promise}getImmediate(G){var H;const te=this.normalizeInstanceIdentifier(null==G?void 0:G.identifier),Be=null!==(H=null==G?void 0:G.optional)&&void 0!==H&&H;if(!this.isInitialized(te)&&!this.shouldAutoInitialize()){if(Be)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:te})}catch(Me){if(Be)return null;throw Me}}getComponent(){return this.component}setComponent(G){if(G.name!==this.name)throw Error(`Mismatching Component ${G.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=G,this.shouldAutoInitialize()){if(function se(pe){return"EAGER"===pe.instantiationMode}(G))try{this.getOrInitializeService({instanceIdentifier:ce})}catch(H){}for(const[H,te]of this.instancesDeferred.entries()){const Be=this.normalizeInstanceIdentifier(H);try{const Me=this.getOrInitializeService({instanceIdentifier:Be});te.resolve(Me)}catch(Me){}}}}clearInstance(G=ce){this.instancesDeferred.delete(G),this.instancesOptions.delete(G),this.instances.delete(G)}delete(){var G=this;return(0,d.Z)(function*(){const H=Array.from(G.instances.values());yield Promise.all([...H.filter(te=>"INTERNAL"in te).map(te=>te.INTERNAL.delete()),...H.filter(te=>"_delete"in te).map(te=>te._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(G=ce){return this.instances.has(G)}getOptions(G=ce){return this.instancesOptions.get(G)||{}}initialize(G={}){const{options:H={}}=G,te=this.normalizeInstanceIdentifier(G.instanceIdentifier);if(this.isInitialized(te))throw Error(`${this.name}(${te}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Be=this.getOrInitializeService({instanceIdentifier:te,options:H});for(const[Me,Ne]of this.instancesDeferred.entries())te===this.normalizeInstanceIdentifier(Me)&&Ne.resolve(Be);return Be}onInit(G,H){var te;const Be=this.normalizeInstanceIdentifier(H),Me=null!==(te=this.onInitCallbacks.get(Be))&&void 0!==te?te:new Set;Me.add(G),this.onInitCallbacks.set(Be,Me);const Ne=this.instances.get(Be);return Ne&&G(Ne,Be),()=>{Me.delete(G)}}invokeOnInitCallbacks(G,H){const te=this.onInitCallbacks.get(H);if(te)for(const Be of te)try{Be(G,H)}catch(Me){}}getOrInitializeService({instanceIdentifier:G,options:H={}}){let te=this.instances.get(G);if(!te&&this.component&&(te=this.component.instanceFactory(this.container,{instanceIdentifier:(pe=G,pe===ce?void 0:pe),options:H}),this.instances.set(G,te),this.instancesOptions.set(G,H),this.invokeOnInitCallbacks(te,G),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,G,te)}catch(Be){}var pe;return te||null}normalizeInstanceIdentifier(G=ce){return this.component?this.component.multipleInstances?G:ce:G}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ue{constructor(G){this.name=G,this.providers=new Map}addComponent(G){const H=this.getProvider(G.name);if(H.isComponentSet())throw new Error(`Component ${G.name} has already been registered with ${this.name}`);H.setComponent(G)}addOrOverwriteComponent(G){this.getProvider(G.name).isComponentSet()&&this.providers.delete(G.name),this.addComponent(G)}getProvider(G){if(this.providers.has(G))return this.providers.get(G);const H=new oe(G,this);return this.providers.set(G,H),H}getProviders(){return Array.from(this.providers.values())}}},1877:(tt,be,P)=>{P.d(be,{Am:()=>pe,Ub:()=>ue,Yd:()=>se,in:()=>J});const d=[];var J=(()=>{return(G=J||(J={}))[G.DEBUG=0]="DEBUG",G[G.VERBOSE=1]="VERBOSE",G[G.INFO=2]="INFO",G[G.WARN=3]="WARN",G[G.ERROR=4]="ERROR",G[G.SILENT=5]="SILENT",J;var G})();const N={debug:J.DEBUG,verbose:J.VERBOSE,info:J.INFO,warn:J.WARN,error:J.ERROR,silent:J.SILENT},ce=J.INFO,oe={[J.DEBUG]:"log",[J.VERBOSE]:"log",[J.INFO]:"info",[J.WARN]:"warn",[J.ERROR]:"error"},me=(G,H,...te)=>{if(H<G.logLevel)return;const Be=(new Date).toISOString(),Me=oe[H];if(!Me)throw new Error(`Attempted to log a message with an invalid logType (value: ${H})`);console[Me](`[${Be}]  ${G.name}:`,...te)};class se{constructor(H){this.name=H,this._logLevel=ce,this._logHandler=me,this._userLogHandler=null,d.push(this)}get logLevel(){return this._logLevel}set logLevel(H){if(!(H in J))throw new TypeError(`Invalid value "${H}" assigned to \`logLevel\``);this._logLevel=H}setLogLevel(H){this._logLevel="string"==typeof H?N[H]:H}get logHandler(){return this._logHandler}set logHandler(H){if("function"!=typeof H)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=H}get userLogHandler(){return this._userLogHandler}set userLogHandler(H){this._userLogHandler=H}debug(...H){this._userLogHandler&&this._userLogHandler(this,J.DEBUG,...H),this._logHandler(this,J.DEBUG,...H)}log(...H){this._userLogHandler&&this._userLogHandler(this,J.VERBOSE,...H),this._logHandler(this,J.VERBOSE,...H)}info(...H){this._userLogHandler&&this._userLogHandler(this,J.INFO,...H),this._logHandler(this,J.INFO,...H)}warn(...H){this._userLogHandler&&this._userLogHandler(this,J.WARN,...H),this._logHandler(this,J.WARN,...H)}error(...H){this._userLogHandler&&this._userLogHandler(this,J.ERROR,...H),this._logHandler(this,J.ERROR,...H)}}function ue(G){d.forEach(H=>{H.setLogLevel(G)})}function pe(G,H){for(const te of d){let Be=null;H&&H.level&&(Be=N[H.level]),te.userLogHandler=null===G?null:(Me,Ne,...je)=>{const ge=je.map(De=>{if(null==De)return null;if("string"==typeof De)return De;if("number"==typeof De||"boolean"==typeof De)return De.toString();if(De instanceof Error)return De.message;try{return JSON.stringify(De)}catch(Ze){return null}}).filter(De=>De).join(" ");Ne>=(null!=Be?Be:Me.logLevel)&&G({level:J[Ne].toLowerCase(),message:ge,args:je,type:Me.name})}}}},8766:(tt,be,P)=>{P.d(be,{Lj:()=>ke,X3:()=>Xe});var d=P(5861);let N,ce;const se=new WeakMap,ue=new WeakMap,pe=new WeakMap,G=new WeakMap,H=new WeakMap;let Me={get(q,Ee,K){if(q instanceof IDBTransaction){if("done"===Ee)return ue.get(q);if("objectStoreNames"===Ee)return q.objectStoreNames||pe.get(q);if("store"===Ee)return K.objectStoreNames[1]?void 0:K.objectStore(K.objectStoreNames[0])}return De(q[Ee])},set:(q,Ee,K)=>(q[Ee]=K,!0),has:(q,Ee)=>q instanceof IDBTransaction&&("done"===Ee||"store"===Ee)||Ee in q};function ge(q){return"function"==typeof q?function je(q){return q!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function me(){return ce||(ce=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(q)?function(...Ee){return q.apply(Ze(this),Ee),De(se.get(this))}:function(...Ee){return De(q.apply(Ze(this),Ee))}:function(Ee,...K){const ne=q.call(Ze(this),Ee,...K);return pe.set(ne,Ee.sort?Ee.sort():[Ee]),De(ne)}}(q):(q instanceof IDBTransaction&&function Be(q){if(ue.has(q))return;const Ee=new Promise((K,ne)=>{const ee=()=>{q.removeEventListener("complete",_e),q.removeEventListener("error",de),q.removeEventListener("abort",de)},_e=()=>{K(),ee()},de=()=>{ne(q.error||new DOMException("AbortError","AbortError")),ee()};q.addEventListener("complete",_e),q.addEventListener("error",de),q.addEventListener("abort",de)});ue.set(q,Ee)}(q),((q,Ee)=>Ee.some(K=>q instanceof K))(q,function oe(){return N||(N=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(q,Me):q)}function De(q){if(q instanceof IDBRequest)return function te(q){const Ee=new Promise((K,ne)=>{const ee=()=>{q.removeEventListener("success",_e),q.removeEventListener("error",de)},_e=()=>{K(De(q.result)),ee()},de=()=>{ne(q.error),ee()};q.addEventListener("success",_e),q.addEventListener("error",de)});return Ee.then(K=>{K instanceof IDBCursor&&se.set(K,q)}).catch(()=>{}),H.set(Ee,q),Ee}(q);if(G.has(q))return G.get(q);const Ee=ge(q);return Ee!==q&&(G.set(q,Ee),H.set(Ee,q)),Ee}const Ze=q=>H.get(q);function Xe(q,Ee,{blocked:K,upgrade:ne,blocking:ee,terminated:_e}={}){const de=indexedDB.open(q,Ee),Fe=De(de);return ne&&de.addEventListener("upgradeneeded",gt=>{ne(De(de.result),gt.oldVersion,gt.newVersion,De(de.transaction))}),K&&de.addEventListener("blocked",()=>K()),Fe.then(gt=>{_e&&gt.addEventListener("close",()=>_e()),ee&&gt.addEventListener("versionchange",()=>ee())}).catch(()=>{}),Fe}function ke(q,{blocked:Ee}={}){const K=indexedDB.deleteDatabase(q);return Ee&&K.addEventListener("blocked",()=>Ee()),De(K).then(()=>{})}const ye=["get","getKey","getAll","getAllKeys","count"],Ie=["put","add","delete","clear"],Ue=new Map;function He(q,Ee){if(!(q instanceof IDBDatabase)||Ee in q||"string"!=typeof Ee)return;if(Ue.get(Ee))return Ue.get(Ee);const K=Ee.replace(/FromIndex$/,""),ne=Ee!==K,ee=Ie.includes(K);if(!(K in(ne?IDBIndex:IDBObjectStore).prototype)||!ee&&!ye.includes(K))return;const _e=function(){var de=(0,d.Z)(function*(Fe,...gt){const Jt=this.transaction(Fe,ee?"readwrite":"readonly");let jt=Jt.store;return ne&&(jt=jt.index(gt.shift())),(yield Promise.all([jt[K](...gt),ee&&Jt.done]))[0]});return function(gt){return de.apply(this,arguments)}}();return Ue.set(Ee,_e),_e}!function Ne(q){Me=q(Me)}(q=>KO(ZO({},q),{get:(Ee,K,ne)=>He(Ee,K)||q.get(Ee,K,ne),has:(Ee,K)=>!!He(Ee,K)||q.has(Ee,K)}))},5861:(tt,be,P)=>{function d(N,ce,oe,me,se,ue,pe){try{var G=N[ue](pe),H=G.value}catch(te){return void oe(te)}G.done?ce(H):Promise.resolve(H).then(me,se)}function J(N){return function(){var ce=this,oe=arguments;return new Promise(function(me,se){var ue=N.apply(ce,oe);function pe(H){d(ue,me,se,pe,G,"next",H)}function G(H){d(ue,me,se,pe,G,"throw",H)}pe(void 0)})}}P.d(be,{Z:()=>J})}},tt=>{tt(tt.s=2259)}]);